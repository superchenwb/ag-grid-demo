(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();function qv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ud={exports:{}},Kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function cx(){if(AC)return Kr;AC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,n,l){var u=null;if(l!==void 0&&(u=""+l),n.key!==void 0&&(u=""+n.key),"key"in n){l={};for(var c in n)c!=="key"&&(l[c]=n[c])}else l=n;return n=l.ref,{$$typeof:e,type:i,key:u,ref:n!==void 0?n:null,props:l}}return Kr.Fragment=t,Kr.jsx=s,Kr.jsxs=s,Kr}var TC;function dx(){return TC||(TC=1,Ud.exports=cx()),Ud.exports}var Yi=dx(),jd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function hx(){if(FC)return Se;FC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=m&&M[m]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function D(M,_,Z){this.props=M,this.context=_,this.refs=R,this.updater=Z||w}D.prototype.isReactComponent={},D.prototype.setState=function(M,_){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,_,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=D.prototype;function T(M,_,Z){this.props=M,this.context=_,this.refs=R,this.updater=Z||w}var F=T.prototype=new A;F.constructor=T,b(F,D.prototype),F.isPureReactComponent=!0;var L=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function U(M,_,Z,J,ie,pe){return Z=pe.ref,{$$typeof:e,type:M,key:_,ref:Z!==void 0?Z:null,props:pe}}function K(M,_){return U(M.type,_,void 0,void 0,void 0,M.props)}function ne(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function oe(M){var _={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return _[Z]})}var z=/\/+/g;function te(M,_){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):_.toString(36)}function Q(){}function de(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Q,Q):(M.status="pending",M.then(function(_){M.status==="pending"&&(M.status="fulfilled",M.value=_)},function(_){M.status==="pending"&&(M.status="rejected",M.reason=_)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function le(M,_,Z,J,ie){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var ue=!1;if(M===null)ue=!0;else switch(pe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(M.$$typeof){case e:case t:ue=!0;break;case f:return ue=M._init,le(ue(M._payload),_,Z,J,ie)}}if(ue)return ie=ie(M),ue=J===""?"."+te(M,0):J,L(ie)?(Z="",ue!=null&&(Z=ue.replace(z,"$&/")+"/"),le(ie,_,Z,"",function(Jt){return Jt})):ie!=null&&(ne(ie)&&(ie=K(ie,Z+(ie.key==null||M&&M.key===ie.key?"":(""+ie.key).replace(z,"$&/")+"/")+ue)),_.push(ie)),1;ue=0;var Xe=J===""?".":J+":";if(L(M))for(var Oe=0;Oe<M.length;Oe++)J=M[Oe],pe=Xe+te(J,Oe),ue+=le(J,_,Z,pe,ie);else if(Oe=v(M),typeof Oe=="function")for(M=Oe.call(M),Oe=0;!(J=M.next()).done;)J=J.value,pe=Xe+te(J,Oe++),ue+=le(J,_,Z,pe,ie);else if(pe==="object"){if(typeof M.then=="function")return le(de(M),_,Z,J,ie);throw _=String(M),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return ue}function B(M,_,Z){if(M==null)return M;var J=[],ie=0;return le(M,J,"","",function(pe){return _.call(Z,pe,ie++)}),J}function ee(M){if(M._status===-1){var _=M._result;_=_(),_.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=_)}if(M._status===1)return M._result.default;throw M._result}var q=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ce(){}return Se.Children={map:B,forEach:function(M,_,Z){B(M,function(){_.apply(this,arguments)},Z)},count:function(M){var _=0;return B(M,function(){_++}),_},toArray:function(M){return B(M,function(_){return _})||[]},only:function(M){if(!ne(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Se.Component=D,Se.Fragment=s,Se.Profiler=n,Se.PureComponent=T,Se.StrictMode=i,Se.Suspense=h,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cloneElement=function(M,_,Z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=b({},M.props),ie=M.key,pe=void 0;if(_!=null)for(ue in _.ref!==void 0&&(pe=void 0),_.key!==void 0&&(ie=""+_.key),_)!k.call(_,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&_.ref===void 0||(J[ue]=_[ue]);var ue=arguments.length-2;if(ue===1)J.children=Z;else if(1<ue){for(var Xe=Array(ue),Oe=0;Oe<ue;Oe++)Xe[Oe]=arguments[Oe+2];J.children=Xe}return U(M.type,ie,void 0,void 0,pe,J)},Se.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Se.createElement=function(M,_,Z){var J,ie={},pe=null;if(_!=null)for(J in _.key!==void 0&&(pe=""+_.key),_)k.call(_,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=_[J]);var ue=arguments.length-2;if(ue===1)ie.children=Z;else if(1<ue){for(var Xe=Array(ue),Oe=0;Oe<ue;Oe++)Xe[Oe]=arguments[Oe+2];ie.children=Xe}if(M&&M.defaultProps)for(J in ue=M.defaultProps,ue)ie[J]===void 0&&(ie[J]=ue[J]);return U(M,pe,void 0,void 0,null,ie)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:c,render:M}},Se.isValidElement=ne,Se.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:ee}},Se.memo=function(M,_){return{$$typeof:g,type:M,compare:_===void 0?null:_}},Se.startTransition=function(M){var _=I.T,Z={};I.T=Z;try{var J=M(),ie=I.S;ie!==null&&ie(Z,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ce,q)}catch(pe){q(pe)}finally{I.T=_}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(M){return I.H.use(M)},Se.useActionState=function(M,_,Z){return I.H.useActionState(M,_,Z)},Se.useCallback=function(M,_){return I.H.useCallback(M,_)},Se.useContext=function(M){return I.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,_){return I.H.useDeferredValue(M,_)},Se.useEffect=function(M,_,Z){var J=I.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(M,_)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(M,_,Z){return I.H.useImperativeHandle(M,_,Z)},Se.useInsertionEffect=function(M,_){return I.H.useInsertionEffect(M,_)},Se.useLayoutEffect=function(M,_){return I.H.useLayoutEffect(M,_)},Se.useMemo=function(M,_){return I.H.useMemo(M,_)},Se.useOptimistic=function(M,_){return I.H.useOptimistic(M,_)},Se.useReducer=function(M,_,Z){return I.H.useReducer(M,_,Z)},Se.useRef=function(M){return I.H.useRef(M)},Se.useState=function(M){return I.H.useState(M)},Se.useSyncExternalStore=function(M,_,Z){return I.H.useSyncExternalStore(M,_,Z)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.1.0",Se}var PC;function Xh(){return PC||(PC=1,jd.exports=hx()),jd.exports}var x=Xh();const se=qv(x);var Kd={exports:{}},Yr={},Yd={exports:{}},qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC;function gx(){return LC||(LC=1,function(e){function t(B,ee){var q=B.length;B.push(ee);e:for(;0<q;){var ce=q-1>>>1,M=B[ce];if(0<n(M,ee))B[ce]=ee,B[q]=M,q=ce;else break e}}function s(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var ee=B[0],q=B.pop();if(q!==ee){B[0]=q;e:for(var ce=0,M=B.length,_=M>>>1;ce<_;){var Z=2*(ce+1)-1,J=B[Z],ie=Z+1,pe=B[ie];if(0>n(J,q))ie<M&&0>n(pe,J)?(B[ce]=pe,B[ie]=q,ce=ie):(B[ce]=J,B[Z]=q,ce=Z);else if(ie<M&&0>n(pe,q))B[ce]=pe,B[ie]=q,ce=ie;else break e}}return ee}function n(B,ee){var q=B.sortIndex-ee.sortIndex;return q!==0?q:B.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var h=[],g=[],f=1,m=null,v=3,w=!1,b=!1,R=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function L(B){for(var ee=s(g);ee!==null;){if(ee.callback===null)i(g);else if(ee.startTime<=B)i(g),ee.sortIndex=ee.expirationTime,t(h,ee);else break;ee=s(g)}}function I(B){if(R=!1,L(B),!b)if(s(h)!==null)b=!0,k||(k=!0,te());else{var ee=s(g);ee!==null&&le(I,ee.startTime-B)}}var k=!1,U=-1,K=5,ne=-1;function oe(){return D?!0:!(e.unstable_now()-ne<K)}function z(){if(D=!1,k){var B=e.unstable_now();ne=B;var ee=!0;try{e:{b=!1,R&&(R=!1,T(U),U=-1),w=!0;var q=v;try{t:{for(L(B),m=s(h);m!==null&&!(m.expirationTime>B&&oe());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,v=m.priorityLevel;var M=ce(m.expirationTime<=B);if(B=e.unstable_now(),typeof M=="function"){m.callback=M,L(B),ee=!0;break t}m===s(h)&&i(h),L(B)}else i(h);m=s(h)}if(m!==null)ee=!0;else{var _=s(g);_!==null&&le(I,_.startTime-B),ee=!1}}break e}finally{m=null,v=q,w=!1}ee=void 0}}finally{ee?te():k=!1}}}var te;if(typeof F=="function")te=function(){F(z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,de=Q.port2;Q.port1.onmessage=z,te=function(){de.postMessage(null)}}else te=function(){A(z,0)};function le(B,ee){U=A(function(){B(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var q=v;v=ee;try{return B()}finally{v=q}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=v;v=B;try{return ee()}finally{v=q}},e.unstable_scheduleCallback=function(B,ee,q){var ce=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ce+q:ce):q=ce,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=q+M,B={id:f++,callback:ee,priorityLevel:B,startTime:q,expirationTime:M,sortIndex:-1},q>ce?(B.sortIndex=q,t(g,B),s(h)===null&&B===s(g)&&(R?(T(U),U=-1):R=!0,le(I,q-ce))):(B.sortIndex=M,t(h,B),b||w||(b=!0,k||(k=!0,te()))),B},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(B){var ee=v;return function(){var q=v;v=ee;try{return B.apply(this,arguments)}finally{v=q}}}}(qd)),qd}var IC;function px(){return IC||(IC=1,Yd.exports=gx()),Yd.exports}var $d={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function fx(){if(GC)return At;GC=1;var e=Xh();function t(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)g+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},n=Symbol.for("react.portal");function l(h,g,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:m==null?null:""+m,children:h,containerInfo:g,implementation:f}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,At.createPortal=function(h,g){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(h,g,null,f)},At.flushSync=function(h){var g=u.T,f=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=g,i.p=f,i.d.f()}},At.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},At.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},At.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var f=g.as,m=c(f,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;f==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:w}):f==="script"&&i.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},At.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var f=c(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:f,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},At.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var f=g.as,m=c(f,g.crossOrigin);i.d.L(h,f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},At.preloadModule=function(h,g){if(typeof h=="string")if(g){var f=c(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:f,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},At.requestFormReset=function(h){i.d.r(h)},At.unstable_batchedUpdates=function(h,g){return h(g)},At.useFormState=function(h,g,f){return u.H.useFormState(h,g,f)},At.useFormStatus=function(){return u.H.useHostTransitionStatus()},At.version="19.1.0",At}var OC;function $v(){if(OC)return $d.exports;OC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$d.exports=fx(),$d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function mx(){if(kC)return Yr;kC=1;var e=px(),t=Xh(),s=$v();function i(o){var r="https://react.dev/errors/"+o;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+o+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function l(o){var r=o,a=o;if(o.alternate)for(;r.return;)r=r.return;else{o=r;do r=o,(r.flags&4098)!==0&&(a=r.return),o=r.return;while(o)}return r.tag===3?a:null}function u(o){if(o.tag===13){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function c(o){if(l(o)!==o)throw Error(i(188))}function h(o){var r=o.alternate;if(!r){if(r=l(o),r===null)throw Error(i(188));return r!==o?null:o}for(var a=o,d=r;;){var p=a.return;if(p===null)break;var C=p.alternate;if(C===null){if(d=p.return,d!==null){a=d;continue}break}if(p.child===C.child){for(C=p.child;C;){if(C===a)return c(p),o;if(C===d)return c(p),r;C=C.sibling}throw Error(i(188))}if(a.return!==d.return)a=p,d=C;else{for(var y=!1,S=p.child;S;){if(S===a){y=!0,a=p,d=C;break}if(S===d){y=!0,d=p,a=C;break}S=S.sibling}if(!y){for(S=C.child;S;){if(S===a){y=!0,a=C,d=p;break}if(S===d){y=!0,d=C,a=p;break}S=S.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==d)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?o:r}function g(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o;for(o=o.child;o!==null;){if(r=g(o),r!==null)return r;o=o.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),F=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function de(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case D:return"Profiler";case R:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case ne:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case F:return(o.displayName||"Context")+".Provider";case T:return(o._context.displayName||"Context")+".Consumer";case L:var r=o.render;return o=o.displayName,o||(o=r.displayName||r.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return r=o.displayName||null,r!==null?r:de(o.type)||"Memo";case K:r=o._payload,o=o._init;try{return de(o(r))}catch{}}return null}var le=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ce=[],M=-1;function _(o){return{current:o}}function Z(o){0>M||(o.current=ce[M],ce[M]=null,M--)}function J(o,r){M++,ce[M]=o.current,o.current=r}var ie=_(null),pe=_(null),ue=_(null),Xe=_(null);function Oe(o,r){switch(J(ue,r),J(pe,o),J(ie,null),r.nodeType){case 9:case 11:o=(o=r.documentElement)&&(o=o.namespaceURI)?sC(o):0;break;default:if(o=r.tagName,r=r.namespaceURI)r=sC(r),o=iC(r,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(ie),J(ie,o)}function Jt(){Z(ie),Z(pe),Z(ue)}function Ji(o){o.memoizedState!==null&&J(Xe,o);var r=ie.current,a=iC(r,o.type);r!==a&&(J(pe,o),J(ie,a))}function qs(o){pe.current===o&&(Z(ie),Z(pe)),Xe.current===o&&(Z(Xe),Vr._currentValue=q)}var mi=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,gt=e.unstable_shouldYield,Ot=e.unstable_requestPaint,ye=e.unstable_now,it=e.unstable_getCurrentPriorityLevel,Ct=e.unstable_ImmediatePriority,nt=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,es=e.unstable_LowPriority,Wn=e.unstable_IdlePriority,en=e.log,fl=e.unstable_setDisableYieldValue,tn=null,Dt=null;function Ie(o){if(typeof en=="function"&&fl(o),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(tn,o)}catch{}}var Ue=Math.clz32?Math.clz32:Zy,Lu=Math.log,$y=Math.LN2;function Zy(o){return o>>>=0,o===0?32:31-(Lu(o)/$y|0)|0}var ml=256,Cl=4194304;function sn(o){var r=o&42;if(r!==0)return r;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function vl(o,r,a){var d=o.pendingLanes;if(d===0)return 0;var p=0,C=o.suspendedLanes,y=o.pingedLanes;o=o.warmLanes;var S=d&134217727;return S!==0?(d=S&~C,d!==0?p=sn(d):(y&=S,y!==0?p=sn(y):a||(a=S&~o,a!==0&&(p=sn(a))))):(S=d&~C,S!==0?p=sn(S):y!==0?p=sn(y):a||(a=d&~o,a!==0&&(p=sn(a)))),p===0?0:r!==0&&r!==p&&(r&C)===0&&(C=p&-p,a=r&-r,C>=a||C===32&&(a&4194048)!==0)?r:p}function Zo(o,r){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&r)===0}function Xy(o,r){switch(o){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bg(){var o=ml;return ml<<=1,(ml&4194048)===0&&(ml=256),o}function Hg(){var o=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),o}function Iu(o){for(var r=[],a=0;31>a;a++)r.push(o);return r}function Xo(o,r){o.pendingLanes|=r,r!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Qy(o,r,a,d,p,C){var y=o.pendingLanes;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=a,o.entangledLanes&=a,o.errorRecoveryDisabledLanes&=a,o.shellSuspendCounter=0;var S=o.entanglements,E=o.expirationTimes,N=o.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-Ue(a),X=1<<Y;S[Y]=0,E[Y]=-1;var H=N[Y];if(H!==null)for(N[Y]=null,Y=0;Y<H.length;Y++){var V=H[Y];V!==null&&(V.lane&=-536870913)}a&=~X}d!==0&&zg(o,d,0),C!==0&&p===0&&o.tag!==0&&(o.suspendedLanes|=C&~(y&~r))}function zg(o,r,a){o.pendingLanes|=r,o.suspendedLanes&=~r;var d=31-Ue(r);o.entangledLanes|=r,o.entanglements[d]=o.entanglements[d]|1073741824|a&4194090}function Vg(o,r){var a=o.entangledLanes|=r;for(o=o.entanglements;a;){var d=31-Ue(a),p=1<<d;p&r|o[d]&r&&(o[d]|=r),a&=~p}}function Gu(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ou(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function _g(){var o=ee.p;return o!==0?o:(o=window.event,o===void 0?32:SC(o.type))}function Jy(o,r){var a=ee.p;try{return ee.p=o,r()}finally{ee.p=a}}var Ci=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Ci,kt="__reactProps$"+Ci,Un="__reactContainer$"+Ci,ku="__reactEvents$"+Ci,eS="__reactListeners$"+Ci,tS="__reactHandles$"+Ci,Wg="__reactResources$"+Ci,Qo="__reactMarker$"+Ci;function Nu(o){delete o[Mt],delete o[kt],delete o[ku],delete o[eS],delete o[tS]}function jn(o){var r=o[Mt];if(r)return r;for(var a=o.parentNode;a;){if(r=a[Un]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(o=lC(o);o!==null;){if(a=o[Mt])return a;o=lC(o)}return r}o=a,a=o.parentNode}return null}function Kn(o){if(o=o[Mt]||o[Un]){var r=o.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return o}return null}function Jo(o){var r=o.tag;if(r===5||r===26||r===27||r===6)return o.stateNode;throw Error(i(33))}function Yn(o){var r=o[Wg];return r||(r=o[Wg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function vt(o){o[Qo]=!0}var Ug=new Set,jg={};function nn(o,r){qn(o,r),qn(o+"Capture",r)}function qn(o,r){for(jg[o]=r,o=0;o<r.length;o++)Ug.add(r[o])}var sS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kg={},Yg={};function iS(o){return mi.call(Yg,o)?!0:mi.call(Kg,o)?!1:sS.test(o)?Yg[o]=!0:(Kg[o]=!0,!1)}function wl(o,r,a){if(iS(r))if(a===null)o.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":o.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(r);return}}o.setAttribute(r,""+a)}}function bl(o,r,a){if(a===null)o.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(r);return}o.setAttribute(r,""+a)}}function $s(o,r,a,d){if(d===null)o.removeAttribute(a);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttributeNS(r,a,""+d)}}var Bu,qg;function $n(o){if(Bu===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bu=r&&r[1]||"",qg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bu+o+qg}var Hu=!1;function zu(o,r){if(!o||Hu)return"";Hu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(V){var H=V}Reflect.construct(o,[],X)}else{try{X.call()}catch(V){H=V}o.call(X.prototype)}}else{try{throw Error()}catch(V){H=V}(X=o())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=d.DetermineComponentFrameRoot(),y=C[0],S=C[1];if(y&&S){var E=y.split(`
`),N=S.split(`
`);for(p=d=0;d<E.length&&!E[d].includes("DetermineComponentFrameRoot");)d++;for(;p<N.length&&!N[p].includes("DetermineComponentFrameRoot");)p++;if(d===E.length||p===N.length)for(d=E.length-1,p=N.length-1;1<=d&&0<=p&&E[d]!==N[p];)p--;for(;1<=d&&0<=p;d--,p--)if(E[d]!==N[p]){if(d!==1||p!==1)do if(d--,p--,0>p||E[d]!==N[p]){var Y=`
`+E[d].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=d&&0<=p);break}}}finally{Hu=!1,Error.prepareStackTrace=a}return(a=o?o.displayName||o.name:"")?$n(a):""}function nS(o){switch(o.tag){case 26:case 27:case 5:return $n(o.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return zu(o.type,!1);case 11:return zu(o.type.render,!1);case 1:return zu(o.type,!0);case 31:return $n("Activity");default:return""}}function $g(o){try{var r="";do r+=nS(o),o=o.return;while(o);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ts(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Zg(o){var r=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oS(o){var r=Zg(o)?"checked":"value",a=Object.getOwnPropertyDescriptor(o.constructor.prototype,r),d=""+o[r];if(!o.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,C=a.set;return Object.defineProperty(o,r,{configurable:!0,get:function(){return p.call(this)},set:function(y){d=""+y,C.call(this,y)}}),Object.defineProperty(o,r,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(y){d=""+y},stopTracking:function(){o._valueTracker=null,delete o[r]}}}}function yl(o){o._valueTracker||(o._valueTracker=oS(o))}function Xg(o){if(!o)return!1;var r=o._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return o&&(d=Zg(o)?o.checked?"true":"false":o.value),o=d,o!==a?(r.setValue(o),!0):!1}function Sl(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var rS=/[\n"\\]/g;function ss(o){return o.replace(rS,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Vu(o,r,a,d,p,C,y,S){o.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?o.type=y:o.removeAttribute("type"),r!=null?y==="number"?(r===0&&o.value===""||o.value!=r)&&(o.value=""+ts(r)):o.value!==""+ts(r)&&(o.value=""+ts(r)):y!=="submit"&&y!=="reset"||o.removeAttribute("value"),r!=null?_u(o,y,ts(r)):a!=null?_u(o,y,ts(a)):d!=null&&o.removeAttribute("value"),p==null&&C!=null&&(o.defaultChecked=!!C),p!=null&&(o.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?o.name=""+ts(S):o.removeAttribute("name")}function Qg(o,r,a,d,p,C,y,S){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),r!=null||a!=null){if(!(C!=="submit"&&C!=="reset"||r!=null))return;a=a!=null?""+ts(a):"",r=r!=null?""+ts(r):a,S||r===o.value||(o.value=r),o.defaultValue=r}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=S?o.checked:!!d,o.defaultChecked=!!d,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(o.name=y)}function _u(o,r,a){r==="number"&&Sl(o.ownerDocument)===o||o.defaultValue===""+a||(o.defaultValue=""+a)}function Zn(o,r,a,d){if(o=o.options,r){r={};for(var p=0;p<a.length;p++)r["$"+a[p]]=!0;for(a=0;a<o.length;a++)p=r.hasOwnProperty("$"+o[a].value),o[a].selected!==p&&(o[a].selected=p),p&&d&&(o[a].defaultSelected=!0)}else{for(a=""+ts(a),r=null,p=0;p<o.length;p++){if(o[p].value===a){o[p].selected=!0,d&&(o[p].defaultSelected=!0);return}r!==null||o[p].disabled||(r=o[p])}r!==null&&(r.selected=!0)}}function Jg(o,r,a){if(r!=null&&(r=""+ts(r),r!==o.value&&(o.value=r),a==null)){o.defaultValue!==r&&(o.defaultValue=r);return}o.defaultValue=a!=null?""+ts(a):""}function ep(o,r,a,d){if(r==null){if(d!=null){if(a!=null)throw Error(i(92));if(le(d)){if(1<d.length)throw Error(i(93));d=d[0]}a=d}a==null&&(a=""),r=a}a=ts(r),o.defaultValue=a,d=o.textContent,d===a&&d!==""&&d!==null&&(o.value=d)}function Xn(o,r){if(r){var a=o.firstChild;if(a&&a===o.lastChild&&a.nodeType===3){a.nodeValue=r;return}}o.textContent=r}var lS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(o,r,a){var d=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?d?o.setProperty(r,""):r==="float"?o.cssFloat="":o[r]="":d?o.setProperty(r,a):typeof a!="number"||a===0||lS.has(r)?r==="float"?o.cssFloat=a:o[r]=(""+a).trim():o[r]=a+"px"}function sp(o,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(o=o.style,a!=null){for(var d in a)!a.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var p in r)d=r[p],r.hasOwnProperty(p)&&a[p]!==d&&tp(o,p,d)}else for(var C in r)r.hasOwnProperty(C)&&tp(o,C,r[C])}function Wu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(o){return uS.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Uu=null;function ju(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Qn=null,Jn=null;function ip(o){var r=Kn(o);if(r&&(o=r.stateNode)){var a=o[kt]||null;e:switch(o=r.stateNode,r.type){case"input":if(Vu(o,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=o;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ss(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==o&&d.form===o.form){var p=d[kt]||null;if(!p)throw Error(i(90));Vu(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<a.length;r++)d=a[r],d.form===o.form&&Xg(d)}break e;case"textarea":Jg(o,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Zn(o,!!a.multiple,r,!1)}}}var Ku=!1;function np(o,r,a){if(Ku)return o(r,a);Ku=!0;try{var d=o(r);return d}finally{if(Ku=!1,(Qn!==null||Jn!==null)&&(aa(),Qn&&(r=Qn,o=Jn,Jn=Qn=null,ip(r),o)))for(r=0;r<o.length;r++)ip(o[r])}}function er(o,r){var a=o.stateNode;if(a===null)return null;var d=a[kt]||null;if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if(Zs)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Yu=!1}var vi=null,qu=null,xl=null;function op(){if(xl)return xl;var o,r=qu,a=r.length,d,p="value"in vi?vi.value:vi.textContent,C=p.length;for(o=0;o<a&&r[o]===p[o];o++);var y=a-o;for(d=1;d<=y&&r[a-d]===p[C-d];d++);return xl=p.slice(o,1<d?1-d:void 0)}function Dl(o){var r=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&r===13&&(o=13)):o=r,o===10&&(o=13),32<=o||o===13?o:0}function Ml(){return!0}function rp(){return!1}function Nt(o){function r(a,d,p,C,y){this._reactName=a,this._targetInst=p,this.type=d,this.nativeEvent=C,this.target=y,this.currentTarget=null;for(var S in o)o.hasOwnProperty(S)&&(a=o[S],this[S]=a?a(C):C[S]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ml:rp,this.isPropagationStopped=rp,this}return f(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),r}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Nt(on),sr=f({},on,{view:0,detail:0}),cS=Nt(sr),$u,Zu,ir,Al=f({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ir&&(ir&&o.type==="mousemove"?($u=o.screenX-ir.screenX,Zu=o.screenY-ir.screenY):Zu=$u=0,ir=o),$u)},movementY:function(o){return"movementY"in o?o.movementY:Zu}}),lp=Nt(Al),dS=f({},Al,{dataTransfer:0}),hS=Nt(dS),gS=f({},sr,{relatedTarget:0}),Xu=Nt(gS),pS=f({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=Nt(pS),mS=f({},on,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),CS=Nt(mS),vS=f({},on,{data:0}),ap=Nt(vS),wS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(o){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(o):(o=yS[o])?!!r[o]:!1}function Qu(){return SS}var RS=f({},sr,{key:function(o){if(o.key){var r=wS[o.key]||o.key;if(r!=="Unidentified")return r}return o.type==="keypress"?(o=Dl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?bS[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(o){return o.type==="keypress"?Dl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Dl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),xS=Nt(RS),DS=f({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=Nt(DS),MS=f({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),ES=Nt(MS),AS=f({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),TS=Nt(AS),FS=f({},Al,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=Nt(FS),LS=f({},on,{newState:0,oldState:0}),IS=Nt(LS),GS=[9,13,27,32],Ju=Zs&&"CompositionEvent"in window,nr=null;Zs&&"documentMode"in document&&(nr=document.documentMode);var OS=Zs&&"TextEvent"in window&&!nr,cp=Zs&&(!Ju||nr&&8<nr&&11>=nr),dp=" ",hp=!1;function gp(o,r){switch(o){case"keyup":return GS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var eo=!1;function kS(o,r){switch(o){case"compositionend":return pp(r);case"keypress":return r.which!==32?null:(hp=!0,dp);case"textInput":return o=r.data,o===dp&&hp?null:o;default:return null}}function NS(o,r){if(eo)return o==="compositionend"||!Ju&&gp(o,r)?(o=op(),xl=qu=vi=null,eo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cp&&r.locale!=="ko"?null:r.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r==="input"?!!BS[o.type]:r==="textarea"}function mp(o,r,a,d){Qn?Jn?Jn.push(d):Jn=[d]:Qn=d,r=pa(r,"onChange"),0<r.length&&(a=new El("onChange","change",null,a,d),o.push({event:a,listeners:r}))}var or=null,rr=null;function HS(o){Xm(o,0)}function Tl(o){var r=Jo(o);if(Xg(r))return o}function Cp(o,r){if(o==="change")return r}var vp=!1;if(Zs){var ec;if(Zs){var tc="oninput"in document;if(!tc){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),tc=typeof wp.oninput=="function"}ec=tc}else ec=!1;vp=ec&&(!document.documentMode||9<document.documentMode)}function bp(){or&&(or.detachEvent("onpropertychange",yp),rr=or=null)}function yp(o){if(o.propertyName==="value"&&Tl(rr)){var r=[];mp(r,rr,o,ju(o)),np(HS,r)}}function zS(o,r,a){o==="focusin"?(bp(),or=r,rr=a,or.attachEvent("onpropertychange",yp)):o==="focusout"&&bp()}function VS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Tl(rr)}function _S(o,r){if(o==="click")return Tl(r)}function WS(o,r){if(o==="input"||o==="change")return Tl(r)}function US(o,r){return o===r&&(o!==0||1/o===1/r)||o!==o&&r!==r}var Wt=typeof Object.is=="function"?Object.is:US;function lr(o,r){if(Wt(o,r))return!0;if(typeof o!="object"||o===null||typeof r!="object"||r===null)return!1;var a=Object.keys(o),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var p=a[d];if(!mi.call(r,p)||!Wt(o[p],r[p]))return!1}return!0}function Sp(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Rp(o,r){var a=Sp(o);o=0;for(var d;a;){if(a.nodeType===3){if(d=o+a.textContent.length,o<=r&&d>=r)return{node:a,offset:r-o};o=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sp(a)}}function xp(o,r){return o&&r?o===r?!0:o&&o.nodeType===3?!1:r&&r.nodeType===3?xp(o,r.parentNode):"contains"in o?o.contains(r):o.compareDocumentPosition?!!(o.compareDocumentPosition(r)&16):!1:!1}function Dp(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var r=Sl(o.document);r instanceof o.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)o=r.contentWindow;else break;r=Sl(o.document)}return r}function sc(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r&&(r==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||r==="textarea"||o.contentEditable==="true")}var jS=Zs&&"documentMode"in document&&11>=document.documentMode,to=null,ic=null,ar=null,nc=!1;function Mp(o,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nc||to==null||to!==Sl(d)||(d=to,"selectionStart"in d&&sc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ar&&lr(ar,d)||(ar=d,d=pa(ic,"onSelect"),0<d.length&&(r=new El("onSelect","select",null,r,a),o.push({event:r,listeners:d}),r.target=to)))}function rn(o,r){var a={};return a[o.toLowerCase()]=r.toLowerCase(),a["Webkit"+o]="webkit"+r,a["Moz"+o]="moz"+r,a}var so={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},oc={},Ep={};Zs&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function ln(o){if(oc[o])return oc[o];if(!so[o])return o;var r=so[o],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ep)return oc[o]=r[a];return o}var Ap=ln("animationend"),Tp=ln("animationiteration"),Fp=ln("animationstart"),KS=ln("transitionrun"),YS=ln("transitionstart"),qS=ln("transitioncancel"),Pp=ln("transitionend"),Lp=new Map,rc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rc.push("scrollEnd");function bs(o,r){Lp.set(o,r),nn(r,[o])}var Ip=new WeakMap;function is(o,r){if(typeof o=="object"&&o!==null){var a=Ip.get(o);return a!==void 0?a:(r={value:o,source:r,stack:$g(r)},Ip.set(o,r),r)}return{value:o,source:r,stack:$g(r)}}var ns=[],io=0,lc=0;function Fl(){for(var o=io,r=lc=io=0;r<o;){var a=ns[r];ns[r++]=null;var d=ns[r];ns[r++]=null;var p=ns[r];ns[r++]=null;var C=ns[r];if(ns[r++]=null,d!==null&&p!==null){var y=d.pending;y===null?p.next=p:(p.next=y.next,y.next=p),d.pending=p}C!==0&&Gp(a,p,C)}}function Pl(o,r,a,d){ns[io++]=o,ns[io++]=r,ns[io++]=a,ns[io++]=d,lc|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function ac(o,r,a,d){return Pl(o,r,a,d),Ll(o)}function no(o,r){return Pl(o,null,null,r),Ll(o)}function Gp(o,r,a){o.lanes|=a;var d=o.alternate;d!==null&&(d.lanes|=a);for(var p=!1,C=o.return;C!==null;)C.childLanes|=a,d=C.alternate,d!==null&&(d.childLanes|=a),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(p=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,p&&r!==null&&(p=31-Ue(a),o=C.hiddenUpdates,d=o[p],d===null?o[p]=[r]:d.push(r),r.lane=a|536870912),C):null}function Ll(o){if(50<Ir)throw Ir=0,pd=null,Error(i(185));for(var r=o.return;r!==null;)o=r,r=o.return;return o.tag===3?o.stateNode:null}var oo={};function $S(o,r,a,d){this.tag=o,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(o,r,a,d){return new $S(o,r,a,d)}function uc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xs(o,r){var a=o.alternate;return a===null?(a=Ut(o.tag,r,o.key,o.mode),a.elementType=o.elementType,a.type=o.type,a.stateNode=o.stateNode,a.alternate=o,o.alternate=a):(a.pendingProps=r,a.type=o.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=o.flags&65011712,a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,r=o.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=o.sibling,a.index=o.index,a.ref=o.ref,a.refCleanup=o.refCleanup,a}function Op(o,r){o.flags&=65011714;var a=o.alternate;return a===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,r=a.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o}function Il(o,r,a,d,p,C){var y=0;if(d=o,typeof o=="function")uc(o)&&(y=1);else if(typeof o=="string")y=XR(o,a,ie.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case ne:return o=Ut(31,a,r,p),o.elementType=ne,o.lanes=C,o;case b:return an(a.children,p,C,r);case R:y=8,p|=24;break;case D:return o=Ut(12,a,r,p|2),o.elementType=D,o.lanes=C,o;case I:return o=Ut(13,a,r,p),o.elementType=I,o.lanes=C,o;case k:return o=Ut(19,a,r,p),o.elementType=k,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case A:case F:y=10;break e;case T:y=9;break e;case L:y=11;break e;case U:y=14;break e;case K:y=16,d=null;break e}y=29,a=Error(i(130,o===null?"null":typeof o,"")),d=null}return r=Ut(y,a,r,p),r.elementType=o,r.type=d,r.lanes=C,r}function an(o,r,a,d){return o=Ut(7,o,d,r),o.lanes=a,o}function cc(o,r,a){return o=Ut(6,o,null,r),o.lanes=a,o}function dc(o,r,a){return r=Ut(4,o.children!==null?o.children:[],o.key,r),r.lanes=a,r.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},r}var ro=[],lo=0,Gl=null,Ol=0,os=[],rs=0,un=null,Qs=1,Js="";function cn(o,r){ro[lo++]=Ol,ro[lo++]=Gl,Gl=o,Ol=r}function kp(o,r,a){os[rs++]=Qs,os[rs++]=Js,os[rs++]=un,un=o;var d=Qs;o=Js;var p=32-Ue(d)-1;d&=~(1<<p),a+=1;var C=32-Ue(r)+p;if(30<C){var y=p-p%5;C=(d&(1<<y)-1).toString(32),d>>=y,p-=y,Qs=1<<32-Ue(r)+p|a<<p|d,Js=C+o}else Qs=1<<C|a<<p|d,Js=o}function hc(o){o.return!==null&&(cn(o,1),kp(o,1,0))}function gc(o){for(;o===Gl;)Gl=ro[--lo],ro[lo]=null,Ol=ro[--lo],ro[lo]=null;for(;o===un;)un=os[--rs],os[rs]=null,Js=os[--rs],os[rs]=null,Qs=os[--rs],os[rs]=null}var Ft=null,et=null,ke=!1,dn=null,Ts=!1,pc=Error(i(519));function hn(o){var r=Error(i(418,""));throw dr(is(r,o)),pc}function Np(o){var r=o.stateNode,a=o.type,d=o.memoizedProps;switch(r[Mt]=o,r[kt]=d,a){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)Ae(Or[a],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Ae("invalid",r),Qg(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),yl(r);break;case"select":Ae("invalid",r);break;case"textarea":Ae("invalid",r),ep(r,d.value,d.defaultValue,d.children),yl(r)}a=d.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||d.suppressHydrationWarning===!0||tC(r.textContent,a)?(d.popover!=null&&(Ae("beforetoggle",r),Ae("toggle",r)),d.onScroll!=null&&Ae("scroll",r),d.onScrollEnd!=null&&Ae("scrollend",r),d.onClick!=null&&(r.onclick=fa),r=!0):r=!1,r||hn(o)}function Bp(o){for(Ft=o.return;Ft;)switch(Ft.tag){case 5:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:Ft=Ft.return}}function ur(o){if(o!==Ft)return!1;if(!ke)return Bp(o),ke=!0,!1;var r=o.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=o.type,a=!(a!=="form"&&a!=="button")||Fd(o.type,o.memoizedProps)),a=!a),a&&et&&hn(o),Bp(o),r===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,r=0;o;){if(o.nodeType===8)if(a=o.data,a==="/$"){if(r===0){et=Ss(o.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;o=o.nextSibling}et=null}}else r===27?(r=et,Gi(o.type)?(o=Gd,Gd=null,et=o):et=r):et=Ft?Ss(o.stateNode.nextSibling):null;return!0}function cr(){et=Ft=null,ke=!1}function Hp(){var o=dn;return o!==null&&(zt===null?zt=o:zt.push.apply(zt,o),dn=null),o}function dr(o){dn===null?dn=[o]:dn.push(o)}var fc=_(null),gn=null,ei=null;function wi(o,r,a){J(fc,r._currentValue),r._currentValue=a}function ti(o){o._currentValue=fc.current,Z(fc)}function mc(o,r,a){for(;o!==null;){var d=o.alternate;if((o.childLanes&r)!==r?(o.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),o===a)break;o=o.return}}function Cc(o,r,a,d){var p=o.child;for(p!==null&&(p.return=o);p!==null;){var C=p.dependencies;if(C!==null){var y=p.child;C=C.firstContext;e:for(;C!==null;){var S=C;C=p;for(var E=0;E<r.length;E++)if(S.context===r[E]){C.lanes|=a,S=C.alternate,S!==null&&(S.lanes|=a),mc(C.return,a,o),d||(y=null);break e}C=S.next}}else if(p.tag===18){if(y=p.return,y===null)throw Error(i(341));y.lanes|=a,C=y.alternate,C!==null&&(C.lanes|=a),mc(y,a,o),y=null}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===o){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}}function hr(o,r,a,d){o=null;for(var p=r,C=!1;p!==null;){if(!C){if((p.flags&524288)!==0)C=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var y=p.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var S=p.type;Wt(p.pendingProps.value,y.value)||(o!==null?o.push(S):o=[S])}}else if(p===Xe.current){if(y=p.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(o!==null?o.push(Vr):o=[Vr])}p=p.return}o!==null&&Cc(r,o,a,d),r.flags|=262144}function kl(o){for(o=o.firstContext;o!==null;){if(!Wt(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function pn(o){gn=o,ei=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Et(o){return zp(gn,o)}function Nl(o,r){return gn===null&&pn(o),zp(o,r)}function zp(o,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ei===null){if(o===null)throw Error(i(308));ei=r,o.dependencies={lanes:0,firstContext:r},o.flags|=524288}else ei=ei.next=r;return a}var ZS=typeof AbortController<"u"?AbortController:function(){var o=[],r=this.signal={aborted:!1,addEventListener:function(a,d){o.push(d)}};this.abort=function(){r.aborted=!0,o.forEach(function(a){return a()})}},XS=e.unstable_scheduleCallback,QS=e.unstable_NormalPriority,pt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new ZS,data:new Map,refCount:0}}function gr(o){o.refCount--,o.refCount===0&&XS(QS,function(){o.controller.abort()})}var pr=null,wc=0,ao=0,uo=null;function JS(o,r){if(pr===null){var a=pr=[];wc=0,ao=yd(),uo={status:"pending",value:void 0,then:function(d){a.push(d)}}}return wc++,r.then(Vp,Vp),r}function Vp(){if(--wc===0&&pr!==null){uo!==null&&(uo.status="fulfilled");var o=pr;pr=null,ao=0,uo=null;for(var r=0;r<o.length;r++)(0,o[r])()}}function eR(o,r){var a=[],d={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return o.then(function(){d.status="fulfilled",d.value=r;for(var p=0;p<a.length;p++)(0,a[p])(r)},function(p){for(d.status="rejected",d.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),d}var _p=B.S;B.S=function(o,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&JS(o,r),_p!==null&&_p(o,r)};var fn=_(null);function bc(){var o=fn.current;return o!==null?o:qe.pooledCache}function Bl(o,r){r===null?J(fn,fn.current):J(fn,r.pool)}function Wp(){var o=bc();return o===null?null:{parent:pt._currentValue,pool:o}}var fr=Error(i(460)),Up=Error(i(474)),Hl=Error(i(542)),yc={then:function(){}};function jp(o){return o=o.status,o==="fulfilled"||o==="rejected"}function zl(){}function Kp(o,r,a){switch(a=o[a],a===void 0?o.push(r):a!==r&&(r.then(zl,zl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,qp(o),o;default:if(typeof r.status=="string")r.then(zl,zl);else{if(o=qe,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=r,o.status="pending",o.then(function(d){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=d}},function(d){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw o=r.reason,qp(o),o}throw mr=r,fr}}var mr=null;function Yp(){if(mr===null)throw Error(i(459));var o=mr;return mr=null,o}function qp(o){if(o===fr||o===Hl)throw Error(i(483))}var bi=!1;function Sc(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(o,r){o=o.updateQueue,r.updateQueue===o&&(r.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function yi(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Si(o,r,a){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(Be&2)!==0){var p=d.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),d.pending=r,r=Ll(o),Gp(o,null,a),r}return Pl(o,d,r,a),Ll(o)}function Cr(o,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var d=r.lanes;d&=o.pendingLanes,a|=d,r.lanes=a,Vg(o,a)}}function xc(o,r){var a=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var p=null,C=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};C===null?p=C=y:C=C.next=y,a=a.next}while(a!==null);C===null?p=C=r:C=C.next=r}else p=C=r;a={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:C,shared:d.shared,callbacks:d.callbacks},o.updateQueue=a;return}o=a.lastBaseUpdate,o===null?a.firstBaseUpdate=r:o.next=r,a.lastBaseUpdate=r}var Dc=!1;function vr(){if(Dc){var o=uo;if(o!==null)throw o}}function wr(o,r,a,d){Dc=!1;var p=o.updateQueue;bi=!1;var C=p.firstBaseUpdate,y=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var E=S,N=E.next;E.next=null,y===null?C=N:y.next=N,y=E;var Y=o.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==y&&(S===null?Y.firstBaseUpdate=N:S.next=N,Y.lastBaseUpdate=E))}if(C!==null){var X=p.baseState;y=0,Y=N=E=null,S=C;do{var H=S.lane&-536870913,V=H!==S.lane;if(V?(Fe&H)===H:(d&H)===H){H!==0&&H===ao&&(Dc=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=o,me=S;H=r;var We=a;switch(me.tag){case 1:if(we=me.payload,typeof we=="function"){X=we.call(We,X,H);break e}X=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=me.payload,H=typeof we=="function"?we.call(We,X,H):we,H==null)break e;X=f({},X,H);break e;case 2:bi=!0}}H=S.callback,H!==null&&(o.flags|=64,V&&(o.flags|=8192),V=p.callbacks,V===null?p.callbacks=[H]:V.push(H))}else V={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(N=Y=V,E=X):Y=Y.next=V,y|=H;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;V=S,S=V.next,V.next=null,p.lastBaseUpdate=V,p.shared.pending=null}}while(!0);Y===null&&(E=X),p.baseState=E,p.firstBaseUpdate=N,p.lastBaseUpdate=Y,C===null&&(p.shared.lanes=0),Fi|=y,o.lanes=y,o.memoizedState=X}}function $p(o,r){if(typeof o!="function")throw Error(i(191,o));o.call(r)}function Zp(o,r){var a=o.callbacks;if(a!==null)for(o.callbacks=null,o=0;o<a.length;o++)$p(a[o],r)}var co=_(null),Vl=_(0);function Xp(o,r){o=ai,J(Vl,o),J(co,r),ai=o|r.baseLanes}function Mc(){J(Vl,ai),J(co,co.current)}function Ec(){ai=Vl.current,Z(co),Z(Vl)}var Ri=0,xe=null,Ve=null,dt=null,_l=!1,ho=!1,mn=!1,Wl=0,br=0,go=null,tR=0;function ot(){throw Error(i(321))}function Ac(o,r){if(r===null)return!1;for(var a=0;a<r.length&&a<o.length;a++)if(!Wt(o[a],r[a]))return!1;return!0}function Tc(o,r,a,d,p,C){return Ri=C,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,B.H=o===null||o.memoizedState===null?Of:kf,mn=!1,C=a(d,p),mn=!1,ho&&(C=Jp(r,a,d,p)),Qp(o),C}function Qp(o){B.H=$l;var r=Ve!==null&&Ve.next!==null;if(Ri=0,dt=Ve=xe=null,_l=!1,br=0,go=null,r)throw Error(i(300));o===null||wt||(o=o.dependencies,o!==null&&kl(o)&&(wt=!0))}function Jp(o,r,a,d){xe=o;var p=0;do{if(ho&&(go=null),br=0,ho=!1,25<=p)throw Error(i(301));if(p+=1,dt=Ve=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}B.H=aR,C=r(a,d)}while(ho);return C}function sR(){var o=B.H,r=o.useState()[0];return r=typeof r.then=="function"?yr(r):r,o=o.useState()[0],(Ve!==null?Ve.memoizedState:null)!==o&&(xe.flags|=1024),r}function Fc(){var o=Wl!==0;return Wl=0,o}function Pc(o,r,a){r.updateQueue=o.updateQueue,r.flags&=-2053,o.lanes&=~a}function Lc(o){if(_l){for(o=o.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}_l=!1}Ri=0,dt=Ve=xe=null,ho=!1,br=Wl=0,go=null}function Bt(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?xe.memoizedState=dt=o:dt=dt.next=o,dt}function ht(){if(Ve===null){var o=xe.alternate;o=o!==null?o.memoizedState:null}else o=Ve.next;var r=dt===null?xe.memoizedState:dt.next;if(r!==null)dt=r,Ve=o;else{if(o===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Ve=o,o={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},dt===null?xe.memoizedState=dt=o:dt=dt.next=o}return dt}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(o){var r=br;return br+=1,go===null&&(go=[]),o=Kp(go,o,r),r=xe,(dt===null?r.memoizedState:dt.next)===null&&(r=r.alternate,B.H=r===null||r.memoizedState===null?Of:kf),o}function Ul(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return yr(o);if(o.$$typeof===F)return Et(o)}throw Error(i(438,String(o)))}function Gc(o){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var d=xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ic(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(o),d=0;d<o;d++)a[d]=oe;return r.index++,a}function si(o,r){return typeof r=="function"?r(o):r}function jl(o){var r=ht();return Oc(r,Ve,o)}function Oc(o,r,a){var d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var p=o.baseQueue,C=d.pending;if(C!==null){if(p!==null){var y=p.next;p.next=C.next,C.next=y}r.baseQueue=p=C,d.pending=null}if(C=o.baseState,p===null)o.memoizedState=C;else{r=p.next;var S=y=null,E=null,N=r,Y=!1;do{var X=N.lane&-536870913;if(X!==N.lane?(Fe&X)===X:(Ri&X)===X){var H=N.revertLane;if(H===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),X===ao&&(Y=!0);else if((Ri&H)===H){N=N.next,H===ao&&(Y=!0);continue}else X={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(S=E=X,y=C):E=E.next=X,xe.lanes|=H,Fi|=H;X=N.action,mn&&a(C,X),C=N.hasEagerState?N.eagerState:a(C,X)}else H={lane:X,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(S=E=H,y=C):E=E.next=H,xe.lanes|=X,Fi|=X;N=N.next}while(N!==null&&N!==r);if(E===null?y=C:E.next=S,!Wt(C,o.memoizedState)&&(wt=!0,Y&&(a=uo,a!==null)))throw a;o.memoizedState=C,o.baseState=y,o.baseQueue=E,d.lastRenderedState=C}return p===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function kc(o){var r=ht(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=o;var d=a.dispatch,p=a.pending,C=r.memoizedState;if(p!==null){a.pending=null;var y=p=p.next;do C=o(C,y.action),y=y.next;while(y!==p);Wt(C,r.memoizedState)||(wt=!0),r.memoizedState=C,r.baseQueue===null&&(r.baseState=C),a.lastRenderedState=C}return[C,d]}function ef(o,r,a){var d=xe,p=ht(),C=ke;if(C){if(a===void 0)throw Error(i(407));a=a()}else a=r();var y=!Wt((Ve||p).memoizedState,a);y&&(p.memoizedState=a,wt=!0),p=p.queue;var S=nf.bind(null,d,p,o);if(Sr(2048,8,S,[o]),p.getSnapshot!==r||y||dt!==null&&dt.memoizedState.tag&1){if(d.flags|=2048,po(9,Kl(),sf.bind(null,d,p,a,r),null),qe===null)throw Error(i(349));C||(Ri&124)!==0||tf(d,r,a)}return a}function tf(o,r,a){o.flags|=16384,o={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Ic(),xe.updateQueue=r,r.stores=[o]):(a=r.stores,a===null?r.stores=[o]:a.push(o))}function sf(o,r,a,d){r.value=a,r.getSnapshot=d,of(r)&&rf(o)}function nf(o,r,a){return a(function(){of(r)&&rf(o)})}function of(o){var r=o.getSnapshot;o=o.value;try{var a=r();return!Wt(o,a)}catch{return!0}}function rf(o){var r=no(o,2);r!==null&&$t(r,o,2)}function Nc(o){var r=Bt();if(typeof o=="function"){var a=o;if(o=a(),mn){Ie(!0);try{a()}finally{Ie(!1)}}}return r.memoizedState=r.baseState=o,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:o},r}function lf(o,r,a,d){return o.baseState=a,Oc(o,Ve,typeof d=="function"?d:si)}function iR(o,r,a,d,p){if(ql(o))throw Error(i(485));if(o=r.action,o!==null){var C={payload:p,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){C.listeners.push(y)}};B.T!==null?a(!0):C.isTransition=!1,d(C),a=r.pending,a===null?(C.next=r.pending=C,af(r,C)):(C.next=a.next,r.pending=a.next=C)}}function af(o,r){var a=r.action,d=r.payload,p=o.state;if(r.isTransition){var C=B.T,y={};B.T=y;try{var S=a(p,d),E=B.S;E!==null&&E(y,S),uf(o,r,S)}catch(N){Bc(o,r,N)}finally{B.T=C}}else try{C=a(p,d),uf(o,r,C)}catch(N){Bc(o,r,N)}}function uf(o,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(d){cf(o,r,d)},function(d){return Bc(o,r,d)}):cf(o,r,a)}function cf(o,r,a){r.status="fulfilled",r.value=a,df(r),o.state=a,r=o.pending,r!==null&&(a=r.next,a===r?o.pending=null:(a=a.next,r.next=a,af(o,a)))}function Bc(o,r,a){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=a,df(r),r=r.next;while(r!==d)}o.action=null}function df(o){o=o.listeners;for(var r=0;r<o.length;r++)(0,o[r])()}function hf(o,r){return r}function gf(o,r){if(ke){var a=qe.formState;if(a!==null){e:{var d=xe;if(ke){if(et){t:{for(var p=et,C=Ts;p.nodeType!==8;){if(!C){p=null;break t}if(p=Ss(p.nextSibling),p===null){p=null;break t}}C=p.data,p=C==="F!"||C==="F"?p:null}if(p){et=Ss(p.nextSibling),d=p.data==="F!";break e}}hn(d)}d=!1}d&&(r=a[0])}}return a=Bt(),a.memoizedState=a.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:r},a.queue=d,a=Lf.bind(null,xe,d),d.dispatch=a,d=Nc(!1),C=Wc.bind(null,xe,!1,d.queue),d=Bt(),p={state:r,dispatch:null,action:o,pending:null},d.queue=p,a=iR.bind(null,xe,p,C,a),p.dispatch=a,d.memoizedState=o,[r,a,!1]}function pf(o){var r=ht();return ff(r,Ve,o)}function ff(o,r,a){if(r=Oc(o,r,hf)[0],o=jl(si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=yr(r)}catch(y){throw y===fr?Hl:y}else d=r;r=ht();var p=r.queue,C=p.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,po(9,Kl(),nR.bind(null,p,a),null)),[d,C,o]}function nR(o,r){o.action=r}function mf(o){var r=ht(),a=Ve;if(a!==null)return ff(r,a,o);ht(),r=r.memoizedState,a=ht();var d=a.queue.dispatch;return a.memoizedState=o,[r,d,!1]}function po(o,r,a,d){return o={tag:o,create:a,deps:d,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Ic(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=o.next=o:(d=a.next,a.next=o,o.next=d,r.lastEffect=o),o}function Kl(){return{destroy:void 0,resource:void 0}}function Cf(){return ht().memoizedState}function Yl(o,r,a,d){var p=Bt();d=d===void 0?null:d,xe.flags|=o,p.memoizedState=po(1|r,Kl(),a,d)}function Sr(o,r,a,d){var p=ht();d=d===void 0?null:d;var C=p.memoizedState.inst;Ve!==null&&d!==null&&Ac(d,Ve.memoizedState.deps)?p.memoizedState=po(r,C,a,d):(xe.flags|=o,p.memoizedState=po(1|r,C,a,d))}function vf(o,r){Yl(8390656,8,o,r)}function wf(o,r){Sr(2048,8,o,r)}function bf(o,r){return Sr(4,2,o,r)}function yf(o,r){return Sr(4,4,o,r)}function Sf(o,r){if(typeof r=="function"){o=o();var a=r(o);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return o=o(),r.current=o,function(){r.current=null}}function Rf(o,r,a){a=a!=null?a.concat([o]):null,Sr(4,4,Sf.bind(null,r,o),a)}function Hc(){}function xf(o,r){var a=ht();r=r===void 0?null:r;var d=a.memoizedState;return r!==null&&Ac(r,d[1])?d[0]:(a.memoizedState=[o,r],o)}function Df(o,r){var a=ht();r=r===void 0?null:r;var d=a.memoizedState;if(r!==null&&Ac(r,d[1]))return d[0];if(d=o(),mn){Ie(!0);try{o()}finally{Ie(!1)}}return a.memoizedState=[d,r],d}function zc(o,r,a){return a===void 0||(Ri&1073741824)!==0?o.memoizedState=r:(o.memoizedState=a,o=Am(),xe.lanes|=o,Fi|=o,a)}function Mf(o,r,a,d){return Wt(a,r)?a:co.current!==null?(o=zc(o,a,d),Wt(o,r)||(wt=!0),o):(Ri&42)===0?(wt=!0,o.memoizedState=a):(o=Am(),xe.lanes|=o,Fi|=o,r)}function Ef(o,r,a,d,p){var C=ee.p;ee.p=C!==0&&8>C?C:8;var y=B.T,S={};B.T=S,Wc(o,!1,r,a);try{var E=p(),N=B.S;if(N!==null&&N(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var Y=eR(E,d);Rr(o,r,Y,qt(o))}else Rr(o,r,d,qt(o))}catch(X){Rr(o,r,{then:function(){},status:"rejected",reason:X},qt())}finally{ee.p=C,B.T=y}}function oR(){}function Vc(o,r,a,d){if(o.tag!==5)throw Error(i(476));var p=Af(o).queue;Ef(o,p,r,q,a===null?oR:function(){return Tf(o),a(d)})}function Af(o){var r=o.memoizedState;if(r!==null)return r;r={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:q},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},o.memoizedState=r,o=o.alternate,o!==null&&(o.memoizedState=r),r}function Tf(o){var r=Af(o).next.queue;Rr(o,r,{},qt())}function _c(){return Et(Vr)}function Ff(){return ht().memoizedState}function Pf(){return ht().memoizedState}function rR(o){for(var r=o.return;r!==null;){switch(r.tag){case 24:case 3:var a=qt();o=yi(a);var d=Si(r,o,a);d!==null&&($t(d,r,a),Cr(d,r,a)),r={cache:vc()},o.payload=r;return}r=r.return}}function lR(o,r,a){var d=qt();a={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ql(o)?If(r,a):(a=ac(o,r,a,d),a!==null&&($t(a,o,d),Gf(a,r,d)))}function Lf(o,r,a){var d=qt();Rr(o,r,a,d)}function Rr(o,r,a,d){var p={lane:d,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ql(o))If(r,p);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=r.lastRenderedReducer,C!==null))try{var y=r.lastRenderedState,S=C(y,a);if(p.hasEagerState=!0,p.eagerState=S,Wt(S,y))return Pl(o,r,p,0),qe===null&&Fl(),!1}catch{}finally{}if(a=ac(o,r,p,d),a!==null)return $t(a,o,d),Gf(a,r,d),!0}return!1}function Wc(o,r,a,d){if(d={lane:2,revertLane:yd(),action:d,hasEagerState:!1,eagerState:null,next:null},ql(o)){if(r)throw Error(i(479))}else r=ac(o,a,d,2),r!==null&&$t(r,o,2)}function ql(o){var r=o.alternate;return o===xe||r!==null&&r===xe}function If(o,r){ho=_l=!0;var a=o.pending;a===null?r.next=r:(r.next=a.next,a.next=r),o.pending=r}function Gf(o,r,a){if((a&4194048)!==0){var d=r.lanes;d&=o.pendingLanes,a|=d,r.lanes=a,Vg(o,a)}}var $l={readContext:Et,use:Ul,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},Of={readContext:Et,use:Ul,useCallback:function(o,r){return Bt().memoizedState=[o,r===void 0?null:r],o},useContext:Et,useEffect:vf,useImperativeHandle:function(o,r,a){a=a!=null?a.concat([o]):null,Yl(4194308,4,Sf.bind(null,r,o),a)},useLayoutEffect:function(o,r){return Yl(4194308,4,o,r)},useInsertionEffect:function(o,r){Yl(4,2,o,r)},useMemo:function(o,r){var a=Bt();r=r===void 0?null:r;var d=o();if(mn){Ie(!0);try{o()}finally{Ie(!1)}}return a.memoizedState=[d,r],d},useReducer:function(o,r,a){var d=Bt();if(a!==void 0){var p=a(r);if(mn){Ie(!0);try{a(r)}finally{Ie(!1)}}}else p=r;return d.memoizedState=d.baseState=p,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:p},d.queue=o,o=o.dispatch=lR.bind(null,xe,o),[d.memoizedState,o]},useRef:function(o){var r=Bt();return o={current:o},r.memoizedState=o},useState:function(o){o=Nc(o);var r=o.queue,a=Lf.bind(null,xe,r);return r.dispatch=a,[o.memoizedState,a]},useDebugValue:Hc,useDeferredValue:function(o,r){var a=Bt();return zc(a,o,r)},useTransition:function(){var o=Nc(!1);return o=Ef.bind(null,xe,o.queue,!0,!1),Bt().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,r,a){var d=xe,p=Bt();if(ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),qe===null)throw Error(i(349));(Fe&124)!==0||tf(d,r,a)}p.memoizedState=a;var C={value:a,getSnapshot:r};return p.queue=C,vf(nf.bind(null,d,C,o),[o]),d.flags|=2048,po(9,Kl(),sf.bind(null,d,C,a,r),null),a},useId:function(){var o=Bt(),r=qe.identifierPrefix;if(ke){var a=Js,d=Qs;a=(d&~(1<<32-Ue(d)-1)).toString(32)+a,r="«"+r+"R"+a,a=Wl++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=tR++,r="«"+r+"r"+a.toString(32)+"»";return o.memoizedState=r},useHostTransitionStatus:_c,useFormState:gf,useActionState:gf,useOptimistic:function(o){var r=Bt();r.memoizedState=r.baseState=o;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Wc.bind(null,xe,!0,a),a.dispatch=r,[o,r]},useMemoCache:Gc,useCacheRefresh:function(){return Bt().memoizedState=rR.bind(null,xe)}},kf={readContext:Et,use:Ul,useCallback:xf,useContext:Et,useEffect:wf,useImperativeHandle:Rf,useInsertionEffect:bf,useLayoutEffect:yf,useMemo:Df,useReducer:jl,useRef:Cf,useState:function(){return jl(si)},useDebugValue:Hc,useDeferredValue:function(o,r){var a=ht();return Mf(a,Ve.memoizedState,o,r)},useTransition:function(){var o=jl(si)[0],r=ht().memoizedState;return[typeof o=="boolean"?o:yr(o),r]},useSyncExternalStore:ef,useId:Ff,useHostTransitionStatus:_c,useFormState:pf,useActionState:pf,useOptimistic:function(o,r){var a=ht();return lf(a,Ve,o,r)},useMemoCache:Gc,useCacheRefresh:Pf},aR={readContext:Et,use:Ul,useCallback:xf,useContext:Et,useEffect:wf,useImperativeHandle:Rf,useInsertionEffect:bf,useLayoutEffect:yf,useMemo:Df,useReducer:kc,useRef:Cf,useState:function(){return kc(si)},useDebugValue:Hc,useDeferredValue:function(o,r){var a=ht();return Ve===null?zc(a,o,r):Mf(a,Ve.memoizedState,o,r)},useTransition:function(){var o=kc(si)[0],r=ht().memoizedState;return[typeof o=="boolean"?o:yr(o),r]},useSyncExternalStore:ef,useId:Ff,useHostTransitionStatus:_c,useFormState:mf,useActionState:mf,useOptimistic:function(o,r){var a=ht();return Ve!==null?lf(a,Ve,o,r):(a.baseState=o,[o,a.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:Pf},fo=null,xr=0;function Zl(o){var r=xr;return xr+=1,fo===null&&(fo=[]),Kp(fo,o,r)}function Dr(o,r){r=r.props.ref,o.ref=r!==void 0?r:null}function Xl(o,r){throw r.$$typeof===m?Error(i(525)):(o=Object.prototype.toString.call(r),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":o)))}function Nf(o){var r=o._init;return r(o._payload)}function Bf(o){function r(G,P){if(o){var O=G.deletions;O===null?(G.deletions=[P],G.flags|=16):O.push(P)}}function a(G,P){if(!o)return null;for(;P!==null;)r(G,P),P=P.sibling;return null}function d(G){for(var P=new Map;G!==null;)G.key!==null?P.set(G.key,G):P.set(G.index,G),G=G.sibling;return P}function p(G,P){return G=Xs(G,P),G.index=0,G.sibling=null,G}function C(G,P,O){return G.index=O,o?(O=G.alternate,O!==null?(O=O.index,O<P?(G.flags|=67108866,P):O):(G.flags|=67108866,P)):(G.flags|=1048576,P)}function y(G){return o&&G.alternate===null&&(G.flags|=67108866),G}function S(G,P,O,$){return P===null||P.tag!==6?(P=cc(O,G.mode,$),P.return=G,P):(P=p(P,O),P.return=G,P)}function E(G,P,O,$){var he=O.type;return he===b?Y(G,P,O.props.children,$,O.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&Nf(he)===P.type)?(P=p(P,O.props),Dr(P,O),P.return=G,P):(P=Il(O.type,O.key,O.props,null,G.mode,$),Dr(P,O),P.return=G,P)}function N(G,P,O,$){return P===null||P.tag!==4||P.stateNode.containerInfo!==O.containerInfo||P.stateNode.implementation!==O.implementation?(P=dc(O,G.mode,$),P.return=G,P):(P=p(P,O.children||[]),P.return=G,P)}function Y(G,P,O,$,he){return P===null||P.tag!==7?(P=an(O,G.mode,$,he),P.return=G,P):(P=p(P,O),P.return=G,P)}function X(G,P,O){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=cc(""+P,G.mode,O),P.return=G,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return O=Il(P.type,P.key,P.props,null,G.mode,O),Dr(O,P),O.return=G,O;case w:return P=dc(P,G.mode,O),P.return=G,P;case K:var $=P._init;return P=$(P._payload),X(G,P,O)}if(le(P)||te(P))return P=an(P,G.mode,O,null),P.return=G,P;if(typeof P.then=="function")return X(G,Zl(P),O);if(P.$$typeof===F)return X(G,Nl(G,P),O);Xl(G,P)}return null}function H(G,P,O,$){var he=P!==null?P.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return he!==null?null:S(G,P,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return O.key===he?E(G,P,O,$):null;case w:return O.key===he?N(G,P,O,$):null;case K:return he=O._init,O=he(O._payload),H(G,P,O,$)}if(le(O)||te(O))return he!==null?null:Y(G,P,O,$,null);if(typeof O.then=="function")return H(G,P,Zl(O),$);if(O.$$typeof===F)return H(G,P,Nl(G,O),$);Xl(G,O)}return null}function V(G,P,O,$,he){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return G=G.get(O)||null,S(P,G,""+$,he);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return G=G.get($.key===null?O:$.key)||null,E(P,G,$,he);case w:return G=G.get($.key===null?O:$.key)||null,N(P,G,$,he);case K:var De=$._init;return $=De($._payload),V(G,P,O,$,he)}if(le($)||te($))return G=G.get(O)||null,Y(P,G,$,he,null);if(typeof $.then=="function")return V(G,P,O,Zl($),he);if($.$$typeof===F)return V(G,P,O,Nl(P,$),he);Xl(P,$)}return null}function we(G,P,O,$){for(var he=null,De=null,fe=P,Ce=P=0,yt=null;fe!==null&&Ce<O.length;Ce++){fe.index>Ce?(yt=fe,fe=null):yt=fe.sibling;var Ge=H(G,fe,O[Ce],$);if(Ge===null){fe===null&&(fe=yt);break}o&&fe&&Ge.alternate===null&&r(G,fe),P=C(Ge,P,Ce),De===null?he=Ge:De.sibling=Ge,De=Ge,fe=yt}if(Ce===O.length)return a(G,fe),ke&&cn(G,Ce),he;if(fe===null){for(;Ce<O.length;Ce++)fe=X(G,O[Ce],$),fe!==null&&(P=C(fe,P,Ce),De===null?he=fe:De.sibling=fe,De=fe);return ke&&cn(G,Ce),he}for(fe=d(fe);Ce<O.length;Ce++)yt=V(fe,G,Ce,O[Ce],$),yt!==null&&(o&&yt.alternate!==null&&fe.delete(yt.key===null?Ce:yt.key),P=C(yt,P,Ce),De===null?he=yt:De.sibling=yt,De=yt);return o&&fe.forEach(function(Hi){return r(G,Hi)}),ke&&cn(G,Ce),he}function me(G,P,O,$){if(O==null)throw Error(i(151));for(var he=null,De=null,fe=P,Ce=P=0,yt=null,Ge=O.next();fe!==null&&!Ge.done;Ce++,Ge=O.next()){fe.index>Ce?(yt=fe,fe=null):yt=fe.sibling;var Hi=H(G,fe,Ge.value,$);if(Hi===null){fe===null&&(fe=yt);break}o&&fe&&Hi.alternate===null&&r(G,fe),P=C(Hi,P,Ce),De===null?he=Hi:De.sibling=Hi,De=Hi,fe=yt}if(Ge.done)return a(G,fe),ke&&cn(G,Ce),he;if(fe===null){for(;!Ge.done;Ce++,Ge=O.next())Ge=X(G,Ge.value,$),Ge!==null&&(P=C(Ge,P,Ce),De===null?he=Ge:De.sibling=Ge,De=Ge);return ke&&cn(G,Ce),he}for(fe=d(fe);!Ge.done;Ce++,Ge=O.next())Ge=V(fe,G,Ce,Ge.value,$),Ge!==null&&(o&&Ge.alternate!==null&&fe.delete(Ge.key===null?Ce:Ge.key),P=C(Ge,P,Ce),De===null?he=Ge:De.sibling=Ge,De=Ge);return o&&fe.forEach(function(ux){return r(G,ux)}),ke&&cn(G,Ce),he}function We(G,P,O,$){if(typeof O=="object"&&O!==null&&O.type===b&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case v:e:{for(var he=O.key;P!==null;){if(P.key===he){if(he=O.type,he===b){if(P.tag===7){a(G,P.sibling),$=p(P,O.props.children),$.return=G,G=$;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===K&&Nf(he)===P.type){a(G,P.sibling),$=p(P,O.props),Dr($,O),$.return=G,G=$;break e}a(G,P);break}else r(G,P);P=P.sibling}O.type===b?($=an(O.props.children,G.mode,$,O.key),$.return=G,G=$):($=Il(O.type,O.key,O.props,null,G.mode,$),Dr($,O),$.return=G,G=$)}return y(G);case w:e:{for(he=O.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===O.containerInfo&&P.stateNode.implementation===O.implementation){a(G,P.sibling),$=p(P,O.children||[]),$.return=G,G=$;break e}else{a(G,P);break}else r(G,P);P=P.sibling}$=dc(O,G.mode,$),$.return=G,G=$}return y(G);case K:return he=O._init,O=he(O._payload),We(G,P,O,$)}if(le(O))return we(G,P,O,$);if(te(O)){if(he=te(O),typeof he!="function")throw Error(i(150));return O=he.call(O),me(G,P,O,$)}if(typeof O.then=="function")return We(G,P,Zl(O),$);if(O.$$typeof===F)return We(G,P,Nl(G,O),$);Xl(G,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,P!==null&&P.tag===6?(a(G,P.sibling),$=p(P,O),$.return=G,G=$):(a(G,P),$=cc(O,G.mode,$),$.return=G,G=$),y(G)):a(G,P)}return function(G,P,O,$){try{xr=0;var he=We(G,P,O,$);return fo=null,he}catch(fe){if(fe===fr||fe===Hl)throw fe;var De=Ut(29,fe,null,G.mode);return De.lanes=$,De.return=G,De}finally{}}}var mo=Bf(!0),Hf=Bf(!1),ls=_(null),Fs=null;function xi(o){var r=o.alternate;J(ft,ft.current&1),J(ls,o),Fs===null&&(r===null||co.current!==null||r.memoizedState!==null)&&(Fs=o)}function zf(o){if(o.tag===22){if(J(ft,ft.current),J(ls,o),Fs===null){var r=o.alternate;r!==null&&r.memoizedState!==null&&(Fs=o)}}else Di()}function Di(){J(ft,ft.current),J(ls,ls.current)}function ii(o){Z(ls),Fs===o&&(Fs=null),Z(ft)}var ft=_(0);function Ql(o){for(var r=o;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Id(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Uc(o,r,a,d){r=o.memoizedState,a=a(d,r),a=a==null?r:f({},r,a),o.memoizedState=a,o.lanes===0&&(o.updateQueue.baseState=a)}var jc={enqueueSetState:function(o,r,a){o=o._reactInternals;var d=qt(),p=yi(d);p.payload=r,a!=null&&(p.callback=a),r=Si(o,p,d),r!==null&&($t(r,o,d),Cr(r,o,d))},enqueueReplaceState:function(o,r,a){o=o._reactInternals;var d=qt(),p=yi(d);p.tag=1,p.payload=r,a!=null&&(p.callback=a),r=Si(o,p,d),r!==null&&($t(r,o,d),Cr(r,o,d))},enqueueForceUpdate:function(o,r){o=o._reactInternals;var a=qt(),d=yi(a);d.tag=2,r!=null&&(d.callback=r),r=Si(o,d,a),r!==null&&($t(r,o,a),Cr(r,o,a))}};function Vf(o,r,a,d,p,C,y){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,C,y):r.prototype&&r.prototype.isPureReactComponent?!lr(a,d)||!lr(p,C):!0}function _f(o,r,a,d){o=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==o&&jc.enqueueReplaceState(r,r.state,null)}function Cn(o,r){var a=r;if("ref"in r){a={};for(var d in r)d!=="ref"&&(a[d]=r[d])}if(o=o.defaultProps){a===r&&(a=f({},a));for(var p in o)a[p]===void 0&&(a[p]=o[p])}return a}var Jl=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Wf(o){Jl(o)}function Uf(o){console.error(o)}function jf(o){Jl(o)}function ea(o,r){try{var a=o.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function Kf(o,r,a){try{var d=o.onCaughtError;d(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Kc(o,r,a){return a=yi(a),a.tag=3,a.payload={element:null},a.callback=function(){ea(o,r)},a}function Yf(o){return o=yi(o),o.tag=3,o}function qf(o,r,a,d){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var C=d.value;o.payload=function(){return p(C)},o.callback=function(){Kf(r,a,d)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(o.callback=function(){Kf(r,a,d),typeof p!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var S=d.stack;this.componentDidCatch(d.value,{componentStack:S!==null?S:""})})}function uR(o,r,a,d,p){if(a.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=a.alternate,r!==null&&hr(r,a,p,!0),a=ls.current,a!==null){switch(a.tag){case 13:return Fs===null?md():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=p,d===yc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([d]):r.add(d),vd(o,d,p)),!1;case 22:return a.flags|=65536,d===yc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([d]):a.add(d)),vd(o,d,p)),!1}throw Error(i(435,a.tag))}return vd(o,d,p),md(),!1}if(ke)return r=ls.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,d!==pc&&(o=Error(i(422),{cause:d}),dr(is(o,a)))):(d!==pc&&(r=Error(i(423),{cause:d}),dr(is(r,a))),o=o.current.alternate,o.flags|=65536,p&=-p,o.lanes|=p,d=is(d,a),p=Kc(o.stateNode,d,p),xc(o,p),tt!==4&&(tt=2)),!1;var C=Error(i(520),{cause:d});if(C=is(C,a),Lr===null?Lr=[C]:Lr.push(C),tt!==4&&(tt=2),r===null)return!0;d=is(d,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,o=p&-p,a.lanes|=o,o=Kc(a.stateNode,d,o),xc(a,o),!1;case 1:if(r=a.type,C=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Pi===null||!Pi.has(C))))return a.flags|=65536,p&=-p,a.lanes|=p,p=Yf(p),qf(p,o,a,d),xc(a,p),!1}a=a.return}while(a!==null);return!1}var $f=Error(i(461)),wt=!1;function St(o,r,a,d){r.child=o===null?Hf(r,null,a,d):mo(r,o.child,a,d)}function Zf(o,r,a,d,p){a=a.render;var C=r.ref;if("ref"in d){var y={};for(var S in d)S!=="ref"&&(y[S]=d[S])}else y=d;return pn(r),d=Tc(o,r,a,y,C,p),S=Fc(),o!==null&&!wt?(Pc(o,r,p),ni(o,r,p)):(ke&&S&&hc(r),r.flags|=1,St(o,r,d,p),r.child)}function Xf(o,r,a,d,p){if(o===null){var C=a.type;return typeof C=="function"&&!uc(C)&&C.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=C,Qf(o,r,C,d,p)):(o=Il(a.type,null,d,r,r.mode,p),o.ref=r.ref,o.return=r,r.child=o)}if(C=o.child,!ed(o,p)){var y=C.memoizedProps;if(a=a.compare,a=a!==null?a:lr,a(y,d)&&o.ref===r.ref)return ni(o,r,p)}return r.flags|=1,o=Xs(C,d),o.ref=r.ref,o.return=r,r.child=o}function Qf(o,r,a,d,p){if(o!==null){var C=o.memoizedProps;if(lr(C,d)&&o.ref===r.ref)if(wt=!1,r.pendingProps=d=C,ed(o,p))(o.flags&131072)!==0&&(wt=!0);else return r.lanes=o.lanes,ni(o,r,p)}return Yc(o,r,a,d,p)}function Jf(o,r,a){var d=r.pendingProps,p=d.children,C=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((r.flags&128)!==0){if(d=C!==null?C.baseLanes|a:a,o!==null){for(p=r.child=o.child,C=0;p!==null;)C=C|p.lanes|p.childLanes,p=p.sibling;r.childLanes=C&~d}else r.childLanes=0,r.child=null;return em(o,r,d,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},o!==null&&Bl(r,C!==null?C.cachePool:null),C!==null?Xp(r,C):Mc(),zf(r);else return r.lanes=r.childLanes=536870912,em(o,r,C!==null?C.baseLanes|a:a,a)}else C!==null?(Bl(r,C.cachePool),Xp(r,C),Di(),r.memoizedState=null):(o!==null&&Bl(r,null),Mc(),Di());return St(o,r,p,a),r.child}function em(o,r,a,d){var p=bc();return p=p===null?null:{parent:pt._currentValue,pool:p},r.memoizedState={baseLanes:a,cachePool:p},o!==null&&Bl(r,null),Mc(),zf(r),o!==null&&hr(o,r,d,!0),null}function ta(o,r){var a=r.ref;if(a===null)o!==null&&o.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(o===null||o.ref!==a)&&(r.flags|=4194816)}}function Yc(o,r,a,d,p){return pn(r),a=Tc(o,r,a,d,void 0,p),d=Fc(),o!==null&&!wt?(Pc(o,r,p),ni(o,r,p)):(ke&&d&&hc(r),r.flags|=1,St(o,r,a,p),r.child)}function tm(o,r,a,d,p,C){return pn(r),r.updateQueue=null,a=Jp(r,d,a,p),Qp(o),d=Fc(),o!==null&&!wt?(Pc(o,r,C),ni(o,r,C)):(ke&&d&&hc(r),r.flags|=1,St(o,r,a,C),r.child)}function sm(o,r,a,d,p){if(pn(r),r.stateNode===null){var C=oo,y=a.contextType;typeof y=="object"&&y!==null&&(C=Et(y)),C=new a(d,C),r.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=jc,r.stateNode=C,C._reactInternals=r,C=r.stateNode,C.props=d,C.state=r.memoizedState,C.refs={},Sc(r),y=a.contextType,C.context=typeof y=="object"&&y!==null?Et(y):oo,C.state=r.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Uc(r,a,y,d),C.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(y=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),y!==C.state&&jc.enqueueReplaceState(C,C.state,null),wr(r,d,C,p),vr(),C.state=r.memoizedState),typeof C.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(o===null){C=r.stateNode;var S=r.memoizedProps,E=Cn(a,S);C.props=E;var N=C.context,Y=a.contextType;y=oo,typeof Y=="object"&&Y!==null&&(y=Et(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Y||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(S||N!==y)&&_f(r,C,d,y),bi=!1;var H=r.memoizedState;C.state=H,wr(r,d,C,p),vr(),N=r.memoizedState,S||H!==N||bi?(typeof X=="function"&&(Uc(r,a,X,d),N=r.memoizedState),(E=bi||Vf(r,a,E,d,H,N,y))?(Y||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(r.flags|=4194308)):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=N),C.props=d,C.state=N,C.context=y,d=E):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{C=r.stateNode,Rc(o,r),y=r.memoizedProps,Y=Cn(a,y),C.props=Y,X=r.pendingProps,H=C.context,N=a.contextType,E=oo,typeof N=="object"&&N!==null&&(E=Et(N)),S=a.getDerivedStateFromProps,(N=typeof S=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(y!==X||H!==E)&&_f(r,C,d,E),bi=!1,H=r.memoizedState,C.state=H,wr(r,d,C,p),vr();var V=r.memoizedState;y!==X||H!==V||bi||o!==null&&o.dependencies!==null&&kl(o.dependencies)?(typeof S=="function"&&(Uc(r,a,S,d),V=r.memoizedState),(Y=bi||Vf(r,a,Y,d,H,V,E)||o!==null&&o.dependencies!==null&&kl(o.dependencies))?(N||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(d,V,E),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(d,V,E)),typeof C.componentDidUpdate=="function"&&(r.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof C.componentDidUpdate!="function"||y===o.memoizedProps&&H===o.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||y===o.memoizedProps&&H===o.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=V),C.props=d,C.state=V,C.context=E,d=Y):(typeof C.componentDidUpdate!="function"||y===o.memoizedProps&&H===o.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||y===o.memoizedProps&&H===o.memoizedState||(r.flags|=1024),d=!1)}return C=d,ta(o,r),d=(r.flags&128)!==0,C||d?(C=r.stateNode,a=d&&typeof a.getDerivedStateFromError!="function"?null:C.render(),r.flags|=1,o!==null&&d?(r.child=mo(r,o.child,null,p),r.child=mo(r,null,a,p)):St(o,r,a,p),r.memoizedState=C.state,o=r.child):o=ni(o,r,p),o}function im(o,r,a,d){return cr(),r.flags|=256,St(o,r,a,d),r.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(o){return{baseLanes:o,cachePool:Wp()}}function Zc(o,r,a){return o=o!==null?o.childLanes&~a:0,r&&(o|=as),o}function nm(o,r,a){var d=r.pendingProps,p=!1,C=(r.flags&128)!==0,y;if((y=C)||(y=o!==null&&o.memoizedState===null?!1:(ft.current&2)!==0),y&&(p=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,o===null){if(ke){if(p?xi(r):Di(),ke){var S=et,E;if(E=S){e:{for(E=S,S=Ts;E.nodeType!==8;){if(!S){S=null;break e}if(E=Ss(E.nextSibling),E===null){S=null;break e}}S=E}S!==null?(r.memoizedState={dehydrated:S,treeContext:un!==null?{id:Qs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},E=Ut(18,null,null,0),E.stateNode=S,E.return=r,r.child=E,Ft=r,et=null,E=!0):E=!1}E||hn(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Id(S)?r.lanes=32:r.lanes=536870912,null;ii(r)}return S=d.children,d=d.fallback,p?(Di(),p=r.mode,S=sa({mode:"hidden",children:S},p),d=an(d,p,a,null),S.return=r,d.return=r,S.sibling=d,r.child=S,p=r.child,p.memoizedState=$c(a),p.childLanes=Zc(o,y,a),r.memoizedState=qc,d):(xi(r),Xc(r,S))}if(E=o.memoizedState,E!==null&&(S=E.dehydrated,S!==null)){if(C)r.flags&256?(xi(r),r.flags&=-257,r=Qc(o,r,a)):r.memoizedState!==null?(Di(),r.child=o.child,r.flags|=128,r=null):(Di(),p=d.fallback,S=r.mode,d=sa({mode:"visible",children:d.children},S),p=an(p,S,a,null),p.flags|=2,d.return=r,p.return=r,d.sibling=p,r.child=d,mo(r,o.child,null,a),d=r.child,d.memoizedState=$c(a),d.childLanes=Zc(o,y,a),r.memoizedState=qc,r=p);else if(xi(r),Id(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var N=y.dgst;y=N,d=Error(i(419)),d.stack="",d.digest=y,dr({value:d,source:null,stack:null}),r=Qc(o,r,a)}else if(wt||hr(o,r,a,!1),y=(a&o.childLanes)!==0,wt||y){if(y=qe,y!==null&&(d=a&-a,d=(d&42)!==0?1:Gu(d),d=(d&(y.suspendedLanes|a))!==0?0:d,d!==0&&d!==E.retryLane))throw E.retryLane=d,no(o,d),$t(y,o,d),$f;S.data==="$?"||md(),r=Qc(o,r,a)}else S.data==="$?"?(r.flags|=192,r.child=o.child,r=null):(o=E.treeContext,et=Ss(S.nextSibling),Ft=r,ke=!0,dn=null,Ts=!1,o!==null&&(os[rs++]=Qs,os[rs++]=Js,os[rs++]=un,Qs=o.id,Js=o.overflow,un=r),r=Xc(r,d.children),r.flags|=4096);return r}return p?(Di(),p=d.fallback,S=r.mode,E=o.child,N=E.sibling,d=Xs(E,{mode:"hidden",children:d.children}),d.subtreeFlags=E.subtreeFlags&65011712,N!==null?p=Xs(N,p):(p=an(p,S,a,null),p.flags|=2),p.return=r,d.return=r,d.sibling=p,r.child=d,d=p,p=r.child,S=o.child.memoizedState,S===null?S=$c(a):(E=S.cachePool,E!==null?(N=pt._currentValue,E=E.parent!==N?{parent:N,pool:N}:E):E=Wp(),S={baseLanes:S.baseLanes|a,cachePool:E}),p.memoizedState=S,p.childLanes=Zc(o,y,a),r.memoizedState=qc,d):(xi(r),a=o.child,o=a.sibling,a=Xs(a,{mode:"visible",children:d.children}),a.return=r,a.sibling=null,o!==null&&(y=r.deletions,y===null?(r.deletions=[o],r.flags|=16):y.push(o)),r.child=a,r.memoizedState=null,a)}function Xc(o,r){return r=sa({mode:"visible",children:r},o.mode),r.return=o,o.child=r}function sa(o,r){return o=Ut(22,o,null,r),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Qc(o,r,a){return mo(r,o.child,null,a),o=Xc(r,r.pendingProps.children),o.flags|=2,r.memoizedState=null,o}function om(o,r,a){o.lanes|=r;var d=o.alternate;d!==null&&(d.lanes|=r),mc(o.return,r,a)}function Jc(o,r,a,d,p){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:p}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=a,C.tailMode=p)}function rm(o,r,a){var d=r.pendingProps,p=d.revealOrder,C=d.tail;if(St(o,r,d.children,a),d=ft.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=r.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&om(o,a,r);else if(o.tag===19)om(o,a,r);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(J(ft,d),p){case"forwards":for(a=r.child,p=null;a!==null;)o=a.alternate,o!==null&&Ql(o)===null&&(p=a),a=a.sibling;a=p,a===null?(p=r.child,r.child=null):(p=a.sibling,a.sibling=null),Jc(r,!1,p,a,C);break;case"backwards":for(a=null,p=r.child,r.child=null;p!==null;){if(o=p.alternate,o!==null&&Ql(o)===null){r.child=p;break}o=p.sibling,p.sibling=a,a=p,p=o}Jc(r,!0,a,null,C);break;case"together":Jc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ni(o,r,a){if(o!==null&&(r.dependencies=o.dependencies),Fi|=r.lanes,(a&r.childLanes)===0)if(o!==null){if(hr(o,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(o!==null&&r.child!==o.child)throw Error(i(153));if(r.child!==null){for(o=r.child,a=Xs(o,o.pendingProps),r.child=a,a.return=r;o.sibling!==null;)o=o.sibling,a=a.sibling=Xs(o,o.pendingProps),a.return=r;a.sibling=null}return r.child}function ed(o,r){return(o.lanes&r)!==0?!0:(o=o.dependencies,!!(o!==null&&kl(o)))}function cR(o,r,a){switch(r.tag){case 3:Oe(r,r.stateNode.containerInfo),wi(r,pt,o.memoizedState.cache),cr();break;case 27:case 5:Ji(r);break;case 4:Oe(r,r.stateNode.containerInfo);break;case 10:wi(r,r.type,r.memoizedProps.value);break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(xi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?nm(o,r,a):(xi(r),o=ni(o,r,a),o!==null?o.sibling:null);xi(r);break;case 19:var p=(o.flags&128)!==0;if(d=(a&r.childLanes)!==0,d||(hr(o,r,a,!1),d=(a&r.childLanes)!==0),p){if(d)return rm(o,r,a);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),J(ft,ft.current),d)break;return null;case 22:case 23:return r.lanes=0,Jf(o,r,a);case 24:wi(r,pt,o.memoizedState.cache)}return ni(o,r,a)}function lm(o,r,a){if(o!==null)if(o.memoizedProps!==r.pendingProps)wt=!0;else{if(!ed(o,a)&&(r.flags&128)===0)return wt=!1,cR(o,r,a);wt=(o.flags&131072)!==0}else wt=!1,ke&&(r.flags&1048576)!==0&&kp(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:e:{o=r.pendingProps;var d=r.elementType,p=d._init;if(d=p(d._payload),r.type=d,typeof d=="function")uc(d)?(o=Cn(d,o),r.tag=1,r=sm(null,r,d,o,a)):(r.tag=0,r=Yc(null,r,d,o,a));else{if(d!=null){if(p=d.$$typeof,p===L){r.tag=11,r=Zf(null,r,d,o,a);break e}else if(p===U){r.tag=14,r=Xf(null,r,d,o,a);break e}}throw r=de(d)||d,Error(i(306,r,""))}}return r;case 0:return Yc(o,r,r.type,r.pendingProps,a);case 1:return d=r.type,p=Cn(d,r.pendingProps),sm(o,r,d,p,a);case 3:e:{if(Oe(r,r.stateNode.containerInfo),o===null)throw Error(i(387));d=r.pendingProps;var C=r.memoizedState;p=C.element,Rc(o,r),wr(r,d,null,a);var y=r.memoizedState;if(d=y.cache,wi(r,pt,d),d!==C.cache&&Cc(r,[pt],a,!0),vr(),d=y.element,C.isDehydrated)if(C={element:d,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=C,r.memoizedState=C,r.flags&256){r=im(o,r,d,a);break e}else if(d!==p){p=is(Error(i(424)),r),dr(p),r=im(o,r,d,a);break e}else{switch(o=r.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(et=Ss(o.firstChild),Ft=r,ke=!0,dn=null,Ts=!0,a=Hf(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cr(),d===p){r=ni(o,r,a);break e}St(o,r,d,a)}r=r.child}return r;case 26:return ta(o,r),o===null?(a=dC(r.type,null,r.pendingProps,null))?r.memoizedState=a:ke||(a=r.type,o=r.pendingProps,d=ma(ue.current).createElement(a),d[Mt]=r,d[kt]=o,xt(d,a,o),vt(d),r.stateNode=d):r.memoizedState=dC(r.type,o.memoizedProps,r.pendingProps,o.memoizedState),null;case 27:return Ji(r),o===null&&ke&&(d=r.stateNode=aC(r.type,r.pendingProps,ue.current),Ft=r,Ts=!0,p=et,Gi(r.type)?(Gd=p,et=Ss(d.firstChild)):et=p),St(o,r,r.pendingProps.children,a),ta(o,r),o===null&&(r.flags|=4194304),r.child;case 5:return o===null&&ke&&((p=d=et)&&(d=BR(d,r.type,r.pendingProps,Ts),d!==null?(r.stateNode=d,Ft=r,et=Ss(d.firstChild),Ts=!1,p=!0):p=!1),p||hn(r)),Ji(r),p=r.type,C=r.pendingProps,y=o!==null?o.memoizedProps:null,d=C.children,Fd(p,C)?d=null:y!==null&&Fd(p,y)&&(r.flags|=32),r.memoizedState!==null&&(p=Tc(o,r,sR,null,null,a),Vr._currentValue=p),ta(o,r),St(o,r,d,a),r.child;case 6:return o===null&&ke&&((o=a=et)&&(a=HR(a,r.pendingProps,Ts),a!==null?(r.stateNode=a,Ft=r,et=null,o=!0):o=!1),o||hn(r)),null;case 13:return nm(o,r,a);case 4:return Oe(r,r.stateNode.containerInfo),d=r.pendingProps,o===null?r.child=mo(r,null,d,a):St(o,r,d,a),r.child;case 11:return Zf(o,r,r.type,r.pendingProps,a);case 7:return St(o,r,r.pendingProps,a),r.child;case 8:return St(o,r,r.pendingProps.children,a),r.child;case 12:return St(o,r,r.pendingProps.children,a),r.child;case 10:return d=r.pendingProps,wi(r,r.type,d.value),St(o,r,d.children,a),r.child;case 9:return p=r.type._context,d=r.pendingProps.children,pn(r),p=Et(p),d=d(p),r.flags|=1,St(o,r,d,a),r.child;case 14:return Xf(o,r,r.type,r.pendingProps,a);case 15:return Qf(o,r,r.type,r.pendingProps,a);case 19:return rm(o,r,a);case 31:return d=r.pendingProps,a=r.mode,d={mode:d.mode,children:d.children},o===null?(a=sa(d,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Xs(o.child,d),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Jf(o,r,a);case 24:return pn(r),d=Et(pt),o===null?(p=bc(),p===null&&(p=qe,C=vc(),p.pooledCache=C,C.refCount++,C!==null&&(p.pooledCacheLanes|=a),p=C),r.memoizedState={parent:d,cache:p},Sc(r),wi(r,pt,p)):((o.lanes&a)!==0&&(Rc(o,r),wr(r,null,null,a),vr()),p=o.memoizedState,C=r.memoizedState,p.parent!==d?(p={parent:d,cache:d},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),wi(r,pt,d)):(d=C.cache,wi(r,pt,d),d!==p.cache&&Cc(r,[pt],a,!0))),St(o,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function oi(o){o.flags|=4}function am(o,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!mC(r)){if(r=ls.current,r!==null&&((Fe&4194048)===Fe?Fs!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Fs))throw mr=yc,Up;o.flags|=8192}}function ia(o,r){r!==null&&(o.flags|=4),o.flags&16384&&(r=o.tag!==22?Hg():536870912,o.lanes|=r,bo|=r)}function Mr(o,r){if(!ke)switch(o.tailMode){case"hidden":r=o.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?o.tail=null:a.sibling=null;break;case"collapsed":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Je(o){var r=o.alternate!==null&&o.alternate.child===o.child,a=0,d=0;if(r)for(var p=o.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=o,p=p.sibling;else for(p=o.child;p!==null;)a|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=o,p=p.sibling;return o.subtreeFlags|=d,o.childLanes=a,r}function dR(o,r,a){var d=r.pendingProps;switch(gc(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(r),null;case 1:return Je(r),null;case 3:return a=r.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),ti(pt),Jt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(ur(r)?oi(r):o===null||o.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hp())),Je(r),null;case 26:return a=r.memoizedState,o===null?(oi(r),a!==null?(Je(r),am(r,a)):(Je(r),r.flags&=-16777217)):a?a!==o.memoizedState?(oi(r),Je(r),am(r,a)):(Je(r),r.flags&=-16777217):(o.memoizedProps!==d&&oi(r),Je(r),r.flags&=-16777217),null;case 27:qs(r),a=ue.current;var p=r.type;if(o!==null&&r.stateNode!=null)o.memoizedProps!==d&&oi(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return Je(r),null}o=ie.current,ur(r)?Np(r):(o=aC(p,d,a),r.stateNode=o,oi(r))}return Je(r),null;case 5:if(qs(r),a=r.type,o!==null&&r.stateNode!=null)o.memoizedProps!==d&&oi(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return Je(r),null}if(o=ie.current,ur(r))Np(r);else{switch(p=ma(ue.current),o){case 1:o=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":o=p.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?p.createElement(a,{is:d.is}):p.createElement(a)}}o[Mt]=r,o[kt]=d;e:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break e;for(;p.sibling===null;){if(p.return===null||p.return===r)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=o;e:switch(xt(o,a,d),a){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&oi(r)}}return Je(r),r.flags&=-16777217,null;case 6:if(o&&r.stateNode!=null)o.memoizedProps!==d&&oi(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(o=ue.current,ur(r)){if(o=r.stateNode,a=r.memoizedProps,d=null,p=Ft,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}o[Mt]=r,o=!!(o.nodeValue===a||d!==null&&d.suppressHydrationWarning===!0||tC(o.nodeValue,a)),o||hn(r)}else o=ma(o).createTextNode(d),o[Mt]=r,r.stateNode=o}return Je(r),null;case 13:if(d=r.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(p=ur(r),d!==null&&d.dehydrated!==null){if(o===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Mt]=r}else cr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Je(r),p=!1}else p=Hp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(ii(r),r):(ii(r),null)}if(ii(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=d!==null,o=o!==null&&o.memoizedState!==null,a){d=r.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var C=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(C=d.memoizedState.cachePool.pool),C!==p&&(d.flags|=2048)}return a!==o&&a&&(r.child.flags|=8192),ia(r,r.updateQueue),Je(r),null;case 4:return Jt(),o===null&&Dd(r.stateNode.containerInfo),Je(r),null;case 10:return ti(r.type),Je(r),null;case 19:if(Z(ft),p=r.memoizedState,p===null)return Je(r),null;if(d=(r.flags&128)!==0,C=p.rendering,C===null)if(d)Mr(p,!1);else{if(tt!==0||o!==null&&(o.flags&128)!==0)for(o=r.child;o!==null;){if(C=Ql(o),C!==null){for(r.flags|=128,Mr(p,!1),o=C.updateQueue,r.updateQueue=o,ia(r,o),r.subtreeFlags=0,o=a,a=r.child;a!==null;)Op(a,o),a=a.sibling;return J(ft,ft.current&1|2),r.child}o=o.sibling}p.tail!==null&&ye()>ra&&(r.flags|=128,d=!0,Mr(p,!1),r.lanes=4194304)}else{if(!d)if(o=Ql(C),o!==null){if(r.flags|=128,d=!0,o=o.updateQueue,r.updateQueue=o,ia(r,o),Mr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!ke)return Je(r),null}else 2*ye()-p.renderingStartTime>ra&&a!==536870912&&(r.flags|=128,d=!0,Mr(p,!1),r.lanes=4194304);p.isBackwards?(C.sibling=r.child,r.child=C):(o=p.last,o!==null?o.sibling=C:r.child=C,p.last=C)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=ye(),r.sibling=null,o=ft.current,J(ft,d?o&1|2:o&1),r):(Je(r),null);case 22:case 23:return ii(r),Ec(),d=r.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(a&536870912)!==0&&(r.flags&128)===0&&(Je(r),r.subtreeFlags&6&&(r.flags|=8192)):Je(r),a=r.updateQueue,a!==null&&ia(r,a.retryQueue),a=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==a&&(r.flags|=2048),o!==null&&Z(fn),null;case 24:return a=null,o!==null&&(a=o.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ti(pt),Je(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function hR(o,r){switch(gc(r),r.tag){case 1:return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 3:return ti(pt),Jt(),o=r.flags,(o&65536)!==0&&(o&128)===0?(r.flags=o&-65537|128,r):null;case 26:case 27:case 5:return qs(r),null;case 13:if(ii(r),o=r.memoizedState,o!==null&&o.dehydrated!==null){if(r.alternate===null)throw Error(i(340));cr()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 19:return Z(ft),null;case 4:return Jt(),null;case 10:return ti(r.type),null;case 22:case 23:return ii(r),Ec(),o!==null&&Z(fn),o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 24:return ti(pt),null;case 25:return null;default:return null}}function um(o,r){switch(gc(r),r.tag){case 3:ti(pt),Jt();break;case 26:case 27:case 5:qs(r);break;case 4:Jt();break;case 13:ii(r);break;case 19:Z(ft);break;case 10:ti(r.type);break;case 22:case 23:ii(r),Ec(),o!==null&&Z(fn);break;case 24:ti(pt)}}function Er(o,r){try{var a=r.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var p=d.next;a=p;do{if((a.tag&o)===o){d=void 0;var C=a.create,y=a.inst;d=C(),y.destroy=d}a=a.next}while(a!==p)}}catch(S){je(r,r.return,S)}}function Mi(o,r,a){try{var d=r.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var C=p.next;d=C;do{if((d.tag&o)===o){var y=d.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,p=r;var E=a,N=S;try{N()}catch(Y){je(p,E,Y)}}}d=d.next}while(d!==C)}}catch(Y){je(r,r.return,Y)}}function cm(o){var r=o.updateQueue;if(r!==null){var a=o.stateNode;try{Zp(r,a)}catch(d){je(o,o.return,d)}}}function dm(o,r,a){a.props=Cn(o.type,o.memoizedProps),a.state=o.memoizedState;try{a.componentWillUnmount()}catch(d){je(o,r,d)}}function Ar(o,r){try{var a=o.ref;if(a!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof a=="function"?o.refCleanup=a(d):a.current=d}}catch(p){je(o,r,p)}}function Ps(o,r){var a=o.ref,d=o.refCleanup;if(a!==null)if(typeof d=="function")try{d()}catch(p){je(o,r,p)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){je(o,r,p)}else a.current=null}function hm(o){var r=o.type,a=o.memoizedProps,d=o.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&d.focus();break e;case"img":a.src?d.src=a.src:a.srcSet&&(d.srcset=a.srcSet)}}catch(p){je(o,o.return,p)}}function td(o,r,a){try{var d=o.stateNode;IR(d,o.type,a,r),d[kt]=r}catch(p){je(o,o.return,p)}}function gm(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Gi(o.type)||o.tag===4}function sd(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gm(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Gi(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function id(o,r,a){var d=o.tag;if(d===5||d===6)o=o.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(o,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(o),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=fa));else if(d!==4&&(d===27&&Gi(o.type)&&(a=o.stateNode,r=null),o=o.child,o!==null))for(id(o,r,a),o=o.sibling;o!==null;)id(o,r,a),o=o.sibling}function na(o,r,a){var d=o.tag;if(d===5||d===6)o=o.stateNode,r?a.insertBefore(o,r):a.appendChild(o);else if(d!==4&&(d===27&&Gi(o.type)&&(a=o.stateNode),o=o.child,o!==null))for(na(o,r,a),o=o.sibling;o!==null;)na(o,r,a),o=o.sibling}function pm(o){var r=o.stateNode,a=o.memoizedProps;try{for(var d=o.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);xt(r,d,a),r[Mt]=o,r[kt]=a}catch(C){je(o,o.return,C)}}var ri=!1,rt=!1,nd=!1,fm=typeof WeakSet=="function"?WeakSet:Set,bt=null;function gR(o,r){if(o=o.containerInfo,Ad=Sa,o=Dp(o),sc(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{a=(a=o.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var p=d.anchorOffset,C=d.focusNode;d=d.focusOffset;try{a.nodeType,C.nodeType}catch{a=null;break e}var y=0,S=-1,E=-1,N=0,Y=0,X=o,H=null;t:for(;;){for(var V;X!==a||p!==0&&X.nodeType!==3||(S=y+p),X!==C||d!==0&&X.nodeType!==3||(E=y+d),X.nodeType===3&&(y+=X.nodeValue.length),(V=X.firstChild)!==null;)H=X,X=V;for(;;){if(X===o)break t;if(H===a&&++N===p&&(S=y),H===C&&++Y===d&&(E=y),(V=X.nextSibling)!==null)break;X=H,H=X.parentNode}X=V}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:o,selectionRange:a},Sa=!1,bt=r;bt!==null;)if(r=bt,o=r.child,(r.subtreeFlags&1024)!==0&&o!==null)o.return=r,bt=o;else for(;bt!==null;){switch(r=bt,C=r.alternate,o=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,a=r,p=C.memoizedProps,C=C.memoizedState,d=a.stateNode;try{var we=Cn(a.type,p,a.elementType===a.type);o=d.getSnapshotBeforeUpdate(we,C),d.__reactInternalSnapshotBeforeUpdate=o}catch(me){je(a,a.return,me)}}break;case 3:if((o&1024)!==0){if(o=r.stateNode.containerInfo,a=o.nodeType,a===9)Ld(o);else if(a===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Ld(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=r.sibling,o!==null){o.return=r.return,bt=o;break}bt=r.return}}function mm(o,r,a){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ei(o,a),d&4&&Er(5,a);break;case 1:if(Ei(o,a),d&4)if(o=a.stateNode,r===null)try{o.componentDidMount()}catch(y){je(a,a.return,y)}else{var p=Cn(a.type,r.memoizedProps);r=r.memoizedState;try{o.componentDidUpdate(p,r,o.__reactInternalSnapshotBeforeUpdate)}catch(y){je(a,a.return,y)}}d&64&&cm(a),d&512&&Ar(a,a.return);break;case 3:if(Ei(o,a),d&64&&(o=a.updateQueue,o!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Zp(o,r)}catch(y){je(a,a.return,y)}}break;case 27:r===null&&d&4&&pm(a);case 26:case 5:Ei(o,a),r===null&&d&4&&hm(a),d&512&&Ar(a,a.return);break;case 12:Ei(o,a);break;case 13:Ei(o,a),d&4&&wm(o,a),d&64&&(o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(a=SR.bind(null,a),zR(o,a))));break;case 22:if(d=a.memoizedState!==null||ri,!d){r=r!==null&&r.memoizedState!==null||rt,p=ri;var C=rt;ri=d,(rt=r)&&!C?Ai(o,a,(a.subtreeFlags&8772)!==0):Ei(o,a),ri=p,rt=C}break;case 30:break;default:Ei(o,a)}}function Cm(o){var r=o.alternate;r!==null&&(o.alternate=null,Cm(r)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(r=o.stateNode,r!==null&&Nu(r)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Qe=null,Ht=!1;function li(o,r,a){for(a=a.child;a!==null;)vm(o,r,a),a=a.sibling}function vm(o,r,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(tn,a)}catch{}switch(a.tag){case 26:rt||Ps(a,r),li(o,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||Ps(a,r);var d=Qe,p=Ht;Gi(a.type)&&(Qe=a.stateNode,Ht=!1),li(o,r,a),Nr(a.stateNode),Qe=d,Ht=p;break;case 5:rt||Ps(a,r);case 6:if(d=Qe,p=Ht,Qe=null,li(o,r,a),Qe=d,Ht=p,Qe!==null)if(Ht)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(C){je(a,r,C)}else try{Qe.removeChild(a.stateNode)}catch(C){je(a,r,C)}break;case 18:Qe!==null&&(Ht?(o=Qe,rC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.stateNode),jr(o)):rC(Qe,a.stateNode));break;case 4:d=Qe,p=Ht,Qe=a.stateNode.containerInfo,Ht=!0,li(o,r,a),Qe=d,Ht=p;break;case 0:case 11:case 14:case 15:rt||Mi(2,a,r),rt||Mi(4,a,r),li(o,r,a);break;case 1:rt||(Ps(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"&&dm(a,r,d)),li(o,r,a);break;case 21:li(o,r,a);break;case 22:rt=(d=rt)||a.memoizedState!==null,li(o,r,a),rt=d;break;default:li(o,r,a)}}function wm(o,r){if(r.memoizedState===null&&(o=r.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{jr(o)}catch(a){je(r,r.return,a)}}function pR(o){switch(o.tag){case 13:case 19:var r=o.stateNode;return r===null&&(r=o.stateNode=new fm),r;case 22:return o=o.stateNode,r=o._retryCache,r===null&&(r=o._retryCache=new fm),r;default:throw Error(i(435,o.tag))}}function od(o,r){var a=pR(o);r.forEach(function(d){var p=RR.bind(null,o,d);a.has(d)||(a.add(d),d.then(p,p))})}function jt(o,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var p=a[d],C=o,y=r,S=y;e:for(;S!==null;){switch(S.tag){case 27:if(Gi(S.type)){Qe=S.stateNode,Ht=!1;break e}break;case 5:Qe=S.stateNode,Ht=!1;break e;case 3:case 4:Qe=S.stateNode.containerInfo,Ht=!0;break e}S=S.return}if(Qe===null)throw Error(i(160));vm(C,y,p),Qe=null,Ht=!1,C=p.alternate,C!==null&&(C.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)bm(r,o),r=r.sibling}var ys=null;function bm(o,r){var a=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:jt(r,o),Kt(o),d&4&&(Mi(3,o,o.return),Er(3,o),Mi(5,o,o.return));break;case 1:jt(r,o),Kt(o),d&512&&(rt||a===null||Ps(a,a.return)),d&64&&ri&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(a=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=a===null?d:a.concat(d))));break;case 26:var p=ys;if(jt(r,o),Kt(o),d&512&&(rt||a===null||Ps(a,a.return)),d&4){var C=a!==null?a.memoizedState:null;if(d=o.memoizedState,a===null)if(d===null)if(o.stateNode===null){e:{d=o.type,a=o.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":C=p.getElementsByTagName("title")[0],(!C||C[Qo]||C[Mt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=p.createElement(d),p.head.insertBefore(C,p.querySelector("head > title"))),xt(C,d,a),C[Mt]=o,vt(C),d=C;break e;case"link":var y=pC("link","href",p).get(d+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(C=y[S],C.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&C.getAttribute("rel")===(a.rel==null?null:a.rel)&&C.getAttribute("title")===(a.title==null?null:a.title)&&C.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break t}}C=p.createElement(d),xt(C,d,a),p.head.appendChild(C);break;case"meta":if(y=pC("meta","content",p).get(d+(a.content||""))){for(S=0;S<y.length;S++)if(C=y[S],C.getAttribute("content")===(a.content==null?null:""+a.content)&&C.getAttribute("name")===(a.name==null?null:a.name)&&C.getAttribute("property")===(a.property==null?null:a.property)&&C.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&C.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break t}}C=p.createElement(d),xt(C,d,a),p.head.appendChild(C);break;default:throw Error(i(468,d))}C[Mt]=o,vt(C),d=C}o.stateNode=d}else fC(p,o.type,o.stateNode);else o.stateNode=gC(p,d,o.memoizedProps);else C!==d?(C===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):C.count--,d===null?fC(p,o.type,o.stateNode):gC(p,d,o.memoizedProps)):d===null&&o.stateNode!==null&&td(o,o.memoizedProps,a.memoizedProps)}break;case 27:jt(r,o),Kt(o),d&512&&(rt||a===null||Ps(a,a.return)),a!==null&&d&4&&td(o,o.memoizedProps,a.memoizedProps);break;case 5:if(jt(r,o),Kt(o),d&512&&(rt||a===null||Ps(a,a.return)),o.flags&32){p=o.stateNode;try{Xn(p,"")}catch(V){je(o,o.return,V)}}d&4&&o.stateNode!=null&&(p=o.memoizedProps,td(o,p,a!==null?a.memoizedProps:p)),d&1024&&(nd=!0);break;case 6:if(jt(r,o),Kt(o),d&4){if(o.stateNode===null)throw Error(i(162));d=o.memoizedProps,a=o.stateNode;try{a.nodeValue=d}catch(V){je(o,o.return,V)}}break;case 3:if(wa=null,p=ys,ys=Ca(r.containerInfo),jt(r,o),ys=p,Kt(o),d&4&&a!==null&&a.memoizedState.isDehydrated)try{jr(r.containerInfo)}catch(V){je(o,o.return,V)}nd&&(nd=!1,ym(o));break;case 4:d=ys,ys=Ca(o.stateNode.containerInfo),jt(r,o),Kt(o),ys=d;break;case 12:jt(r,o),Kt(o);break;case 13:jt(r,o),Kt(o),o.child.flags&8192&&o.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dd=ye()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,od(o,d)));break;case 22:p=o.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,N=ri,Y=rt;if(ri=N||p,rt=Y||E,jt(r,o),rt=Y,ri=N,Kt(o),d&8192)e:for(r=o.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(a===null||E||ri||rt||vn(o)),a=null,r=o;;){if(r.tag===5||r.tag===26){if(a===null){E=a=r;try{if(C=E.stateNode,p)y=C.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=E.stateNode;var X=E.memoizedProps.style,H=X!=null&&X.hasOwnProperty("display")?X.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(V){je(E,E.return,V)}}}else if(r.tag===6){if(a===null){E=r;try{E.stateNode.nodeValue=p?"":E.memoizedProps}catch(V){je(E,E.return,V)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===o)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=o.updateQueue,d!==null&&(a=d.retryQueue,a!==null&&(d.retryQueue=null,od(o,a))));break;case 19:jt(r,o),Kt(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,od(o,d)));break;case 30:break;case 21:break;default:jt(r,o),Kt(o)}}function Kt(o){var r=o.flags;if(r&2){try{for(var a,d=o.return;d!==null;){if(gm(d)){a=d;break}d=d.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var p=a.stateNode,C=sd(o);na(o,C,p);break;case 5:var y=a.stateNode;a.flags&32&&(Xn(y,""),a.flags&=-33);var S=sd(o);na(o,S,y);break;case 3:case 4:var E=a.stateNode.containerInfo,N=sd(o);id(o,N,E);break;default:throw Error(i(161))}}catch(Y){je(o,o.return,Y)}o.flags&=-3}r&4096&&(o.flags&=-4097)}function ym(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var r=o;ym(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),o=o.sibling}}function Ei(o,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)mm(o,r.alternate,r),r=r.sibling}function vn(o){for(o=o.child;o!==null;){var r=o;switch(r.tag){case 0:case 11:case 14:case 15:Mi(4,r,r.return),vn(r);break;case 1:Ps(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&dm(r,r.return,a),vn(r);break;case 27:Nr(r.stateNode);case 26:case 5:Ps(r,r.return),vn(r);break;case 22:r.memoizedState===null&&vn(r);break;case 30:vn(r);break;default:vn(r)}o=o.sibling}}function Ai(o,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,p=o,C=r,y=C.flags;switch(C.tag){case 0:case 11:case 15:Ai(p,C,a),Er(4,C);break;case 1:if(Ai(p,C,a),d=C,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(N){je(d,d.return,N)}if(d=C,p=d.updateQueue,p!==null){var S=d.stateNode;try{var E=p.shared.hiddenCallbacks;if(E!==null)for(p.shared.hiddenCallbacks=null,p=0;p<E.length;p++)$p(E[p],S)}catch(N){je(d,d.return,N)}}a&&y&64&&cm(C),Ar(C,C.return);break;case 27:pm(C);case 26:case 5:Ai(p,C,a),a&&d===null&&y&4&&hm(C),Ar(C,C.return);break;case 12:Ai(p,C,a);break;case 13:Ai(p,C,a),a&&y&4&&wm(p,C);break;case 22:C.memoizedState===null&&Ai(p,C,a),Ar(C,C.return);break;case 30:break;default:Ai(p,C,a)}r=r.sibling}}function rd(o,r){var a=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(o!=null&&o.refCount++,a!=null&&gr(a))}function ld(o,r){o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&gr(o))}function Ls(o,r,a,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sm(o,r,a,d),r=r.sibling}function Sm(o,r,a,d){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ls(o,r,a,d),p&2048&&Er(9,r);break;case 1:Ls(o,r,a,d);break;case 3:Ls(o,r,a,d),p&2048&&(o=null,r.alternate!==null&&(o=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==o&&(r.refCount++,o!=null&&gr(o)));break;case 12:if(p&2048){Ls(o,r,a,d),o=r.stateNode;try{var C=r.memoizedProps,y=C.id,S=C.onPostCommit;typeof S=="function"&&S(y,r.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(E){je(r,r.return,E)}}else Ls(o,r,a,d);break;case 13:Ls(o,r,a,d);break;case 23:break;case 22:C=r.stateNode,y=r.alternate,r.memoizedState!==null?C._visibility&2?Ls(o,r,a,d):Tr(o,r):C._visibility&2?Ls(o,r,a,d):(C._visibility|=2,Co(o,r,a,d,(r.subtreeFlags&10256)!==0)),p&2048&&rd(y,r);break;case 24:Ls(o,r,a,d),p&2048&&ld(r.alternate,r);break;default:Ls(o,r,a,d)}}function Co(o,r,a,d,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var C=o,y=r,S=a,E=d,N=y.flags;switch(y.tag){case 0:case 11:case 15:Co(C,y,S,E,p),Er(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?Co(C,y,S,E,p):Tr(C,y):(Y._visibility|=2,Co(C,y,S,E,p)),p&&N&2048&&rd(y.alternate,y);break;case 24:Co(C,y,S,E,p),p&&N&2048&&ld(y.alternate,y);break;default:Co(C,y,S,E,p)}r=r.sibling}}function Tr(o,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=o,d=r,p=d.flags;switch(d.tag){case 22:Tr(a,d),p&2048&&rd(d.alternate,d);break;case 24:Tr(a,d),p&2048&&ld(d.alternate,d);break;default:Tr(a,d)}r=r.sibling}}var Fr=8192;function vo(o){if(o.subtreeFlags&Fr)for(o=o.child;o!==null;)Rm(o),o=o.sibling}function Rm(o){switch(o.tag){case 26:vo(o),o.flags&Fr&&o.memoizedState!==null&&JR(ys,o.memoizedState,o.memoizedProps);break;case 5:vo(o);break;case 3:case 4:var r=ys;ys=Ca(o.stateNode.containerInfo),vo(o),ys=r;break;case 22:o.memoizedState===null&&(r=o.alternate,r!==null&&r.memoizedState!==null?(r=Fr,Fr=16777216,vo(o),Fr=r):vo(o));break;default:vo(o)}}function xm(o){var r=o.alternate;if(r!==null&&(o=r.child,o!==null)){r.child=null;do r=o.sibling,o.sibling=null,o=r;while(o!==null)}}function Pr(o){var r=o.deletions;if((o.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];bt=d,Mm(d,o)}xm(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Dm(o),o=o.sibling}function Dm(o){switch(o.tag){case 0:case 11:case 15:Pr(o),o.flags&2048&&Mi(9,o,o.return);break;case 3:Pr(o);break;case 12:Pr(o);break;case 22:var r=o.stateNode;o.memoizedState!==null&&r._visibility&2&&(o.return===null||o.return.tag!==13)?(r._visibility&=-3,oa(o)):Pr(o);break;default:Pr(o)}}function oa(o){var r=o.deletions;if((o.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];bt=d,Mm(d,o)}xm(o)}for(o=o.child;o!==null;){switch(r=o,r.tag){case 0:case 11:case 15:Mi(8,r,r.return),oa(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,oa(r));break;default:oa(r)}o=o.sibling}}function Mm(o,r){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:Mi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var d=a.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:gr(a.memoizedState.cache)}if(d=a.child,d!==null)d.return=a,bt=d;else e:for(a=o;bt!==null;){d=bt;var p=d.sibling,C=d.return;if(Cm(d),d===a){bt=null;break e}if(p!==null){p.return=C,bt=p;break e}bt=C}}}var fR={getCacheForType:function(o){var r=Et(pt),a=r.data.get(o);return a===void 0&&(a=o(),r.data.set(o,a)),a}},mR=typeof WeakMap=="function"?WeakMap:Map,Be=0,qe=null,Ee=null,Fe=0,He=0,Yt=null,Ti=!1,wo=!1,ad=!1,ai=0,tt=0,Fi=0,wn=0,ud=0,as=0,bo=0,Lr=null,zt=null,cd=!1,dd=0,ra=1/0,la=null,Pi=null,Rt=0,Li=null,yo=null,So=0,hd=0,gd=null,Em=null,Ir=0,pd=null;function qt(){if((Be&2)!==0&&Fe!==0)return Fe&-Fe;if(B.T!==null){var o=ao;return o!==0?o:yd()}return _g()}function Am(){as===0&&(as=(Fe&536870912)===0||ke?Bg():536870912);var o=ls.current;return o!==null&&(o.flags|=32),as}function $t(o,r,a){(o===qe&&(He===2||He===9)||o.cancelPendingCommit!==null)&&(Ro(o,0),Ii(o,Fe,as,!1)),Xo(o,a),((Be&2)===0||o!==qe)&&(o===qe&&((Be&2)===0&&(wn|=a),tt===4&&Ii(o,Fe,as,!1)),Is(o))}function Tm(o,r,a){if((Be&6)!==0)throw Error(i(327));var d=!a&&(r&124)===0&&(r&o.expiredLanes)===0||Zo(o,r),p=d?wR(o,r):Cd(o,r,!0),C=d;do{if(p===0){wo&&!d&&Ii(o,r,0,!1);break}else{if(a=o.current.alternate,C&&!CR(a)){p=Cd(o,r,!1),C=!1;continue}if(p===2){if(C=r,o.errorRecoveryDisabledLanes&C)var y=0;else y=o.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;e:{var S=o;p=Lr;var E=S.current.memoizedState.isDehydrated;if(E&&(Ro(S,y).flags|=256),y=Cd(S,y,!1),y!==2){if(ad&&!E){S.errorRecoveryDisabledLanes|=C,wn|=C,p=4;break e}C=zt,zt=p,C!==null&&(zt===null?zt=C:zt.push.apply(zt,C))}p=y}if(C=!1,p!==2)continue}}if(p===1){Ro(o,0),Ii(o,r,0,!0);break}e:{switch(d=o,C=p,C){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Ii(d,r,as,!Ti);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=dd+300-ye(),10<p)){if(Ii(d,r,as,!Ti),vl(d,0,!0)!==0)break e;d.timeoutHandle=nC(Fm.bind(null,d,a,zt,la,cd,r,as,wn,bo,Ti,C,2,-0,0),p);break e}Fm(d,a,zt,la,cd,r,as,wn,bo,Ti,C,0,-0,0)}}break}while(!0);Is(o)}function Fm(o,r,a,d,p,C,y,S,E,N,Y,X,H,V){if(o.timeoutHandle=-1,X=r.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(zr={stylesheets:null,count:0,unsuspend:QR},Rm(r),X=ex(),X!==null)){o.cancelPendingCommit=X(Nm.bind(null,o,r,C,a,d,p,y,S,E,Y,1,H,V)),Ii(o,C,y,!N);return}Nm(o,r,C,a,d,p,y,S,E)}function CR(o){for(var r=o;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var d=0;d<a.length;d++){var p=a[d],C=p.getSnapshot;p=p.value;try{if(!Wt(C(),p))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(o,r,a,d){r&=~ud,r&=~wn,o.suspendedLanes|=r,o.pingedLanes&=~r,d&&(o.warmLanes|=r),d=o.expirationTimes;for(var p=r;0<p;){var C=31-Ue(p),y=1<<C;d[C]=-1,p&=~y}a!==0&&zg(o,a,r)}function aa(){return(Be&6)===0?(Gr(0),!1):!0}function fd(){if(Ee!==null){if(He===0)var o=Ee.return;else o=Ee,ei=gn=null,Lc(o),fo=null,xr=0,o=Ee;for(;o!==null;)um(o.alternate,o),o=o.return;Ee=null}}function Ro(o,r){var a=o.timeoutHandle;a!==-1&&(o.timeoutHandle=-1,OR(a)),a=o.cancelPendingCommit,a!==null&&(o.cancelPendingCommit=null,a()),fd(),qe=o,Ee=a=Xs(o.current,null),Fe=r,He=0,Yt=null,Ti=!1,wo=Zo(o,r),ad=!1,bo=as=ud=wn=Fi=tt=0,zt=Lr=null,cd=!1,(r&8)!==0&&(r|=r&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=r;0<d;){var p=31-Ue(d),C=1<<p;r|=o[p],d&=~C}return ai=r,Fl(),a}function Pm(o,r){xe=null,B.H=$l,r===fr||r===Hl?(r=Yp(),He=3):r===Up?(r=Yp(),He=4):He=r===$f?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yt=r,Ee===null&&(tt=1,ea(o,is(r,o.current)))}function Lm(){var o=B.H;return B.H=$l,o===null?$l:o}function Im(){var o=B.A;return B.A=fR,o}function md(){tt=4,Ti||(Fe&4194048)!==Fe&&ls.current!==null||(wo=!0),(Fi&134217727)===0&&(wn&134217727)===0||qe===null||Ii(qe,Fe,as,!1)}function Cd(o,r,a){var d=Be;Be|=2;var p=Lm(),C=Im();(qe!==o||Fe!==r)&&(la=null,Ro(o,r)),r=!1;var y=tt;e:do try{if(He!==0&&Ee!==null){var S=Ee,E=Yt;switch(He){case 8:fd(),y=6;break e;case 3:case 2:case 9:case 6:ls.current===null&&(r=!0);var N=He;if(He=0,Yt=null,xo(o,S,E,N),a&&wo){y=0;break e}break;default:N=He,He=0,Yt=null,xo(o,S,E,N)}}vR(),y=tt;break}catch(Y){Pm(o,Y)}while(!0);return r&&o.shellSuspendCounter++,ei=gn=null,Be=d,B.H=p,B.A=C,Ee===null&&(qe=null,Fe=0,Fl()),y}function vR(){for(;Ee!==null;)Gm(Ee)}function wR(o,r){var a=Be;Be|=2;var d=Lm(),p=Im();qe!==o||Fe!==r?(la=null,ra=ye()+500,Ro(o,r)):wo=Zo(o,r);e:do try{if(He!==0&&Ee!==null){r=Ee;var C=Yt;t:switch(He){case 1:He=0,Yt=null,xo(o,r,C,1);break;case 2:case 9:if(jp(C)){He=0,Yt=null,Om(r);break}r=function(){He!==2&&He!==9||qe!==o||(He=7),Is(o)},C.then(r,r);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:jp(C)?(He=0,Yt=null,Om(r)):(He=0,Yt=null,xo(o,r,C,7));break;case 5:var y=null;switch(Ee.tag){case 26:y=Ee.memoizedState;case 5:case 27:var S=Ee;if(!y||mC(y)){He=0,Yt=null;var E=S.sibling;if(E!==null)Ee=E;else{var N=S.return;N!==null?(Ee=N,ua(N)):Ee=null}break t}}He=0,Yt=null,xo(o,r,C,5);break;case 6:He=0,Yt=null,xo(o,r,C,6);break;case 8:fd(),tt=6;break e;default:throw Error(i(462))}}bR();break}catch(Y){Pm(o,Y)}while(!0);return ei=gn=null,B.H=d,B.A=p,Be=a,Ee!==null?0:(qe=null,Fe=0,Fl(),tt)}function bR(){for(;Ee!==null&&!gt();)Gm(Ee)}function Gm(o){var r=lm(o.alternate,o,ai);o.memoizedProps=o.pendingProps,r===null?ua(o):Ee=r}function Om(o){var r=o,a=r.alternate;switch(r.tag){case 15:case 0:r=tm(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=tm(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Lc(r);default:um(a,r),r=Ee=Op(r,ai),r=lm(a,r,ai)}o.memoizedProps=o.pendingProps,r===null?ua(o):Ee=r}function xo(o,r,a,d){ei=gn=null,Lc(r),fo=null,xr=0;var p=r.return;try{if(uR(o,p,r,a,Fe)){tt=1,ea(o,is(a,o.current)),Ee=null;return}}catch(C){if(p!==null)throw Ee=p,C;tt=1,ea(o,is(a,o.current)),Ee=null;return}r.flags&32768?(ke||d===1?o=!0:wo||(Fe&536870912)!==0?o=!1:(Ti=o=!0,(d===2||d===9||d===3||d===6)&&(d=ls.current,d!==null&&d.tag===13&&(d.flags|=16384))),km(r,o)):ua(r)}function ua(o){var r=o;do{if((r.flags&32768)!==0){km(r,Ti);return}o=r.return;var a=dR(r.alternate,r,ai);if(a!==null){Ee=a;return}if(r=r.sibling,r!==null){Ee=r;return}Ee=r=o}while(r!==null);tt===0&&(tt=5)}function km(o,r){do{var a=hR(o.alternate,o);if(a!==null){a.flags&=32767,Ee=a;return}if(a=o.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(o=o.sibling,o!==null)){Ee=o;return}Ee=o=a}while(o!==null);tt=6,Ee=null}function Nm(o,r,a,d,p,C,y,S,E){o.cancelPendingCommit=null;do ca();while(Rt!==0);if((Be&6)!==0)throw Error(i(327));if(r!==null){if(r===o.current)throw Error(i(177));if(C=r.lanes|r.childLanes,C|=lc,Qy(o,a,C,y,S,E),o===qe&&(Ee=qe=null,Fe=0),yo=r,Li=o,So=a,hd=C,gd=p,Em=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,xR(ct,function(){return _m(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,p=ee.p,ee.p=2,y=Be,Be|=4;try{gR(o,r,a)}finally{Be=y,ee.p=p,B.T=d}}Rt=1,Bm(),Hm(),zm()}}function Bm(){if(Rt===1){Rt=0;var o=Li,r=yo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var d=ee.p;ee.p=2;var p=Be;Be|=4;try{bm(r,o);var C=Td,y=Dp(o.containerInfo),S=C.focusedElem,E=C.selectionRange;if(y!==S&&S&&S.ownerDocument&&xp(S.ownerDocument.documentElement,S)){if(E!==null&&sc(S)){var N=E.start,Y=E.end;if(Y===void 0&&(Y=N),"selectionStart"in S)S.selectionStart=N,S.selectionEnd=Math.min(Y,S.value.length);else{var X=S.ownerDocument||document,H=X&&X.defaultView||window;if(H.getSelection){var V=H.getSelection(),we=S.textContent.length,me=Math.min(E.start,we),We=E.end===void 0?me:Math.min(E.end,we);!V.extend&&me>We&&(y=We,We=me,me=y);var G=Rp(S,me),P=Rp(S,We);if(G&&P&&(V.rangeCount!==1||V.anchorNode!==G.node||V.anchorOffset!==G.offset||V.focusNode!==P.node||V.focusOffset!==P.offset)){var O=X.createRange();O.setStart(G.node,G.offset),V.removeAllRanges(),me>We?(V.addRange(O),V.extend(P.node,P.offset)):(O.setEnd(P.node,P.offset),V.addRange(O))}}}}for(X=[],V=S;V=V.parentNode;)V.nodeType===1&&X.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<X.length;S++){var $=X[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Sa=!!Ad,Td=Ad=null}finally{Be=p,ee.p=d,B.T=a}}o.current=r,Rt=2}}function Hm(){if(Rt===2){Rt=0;var o=Li,r=yo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var d=ee.p;ee.p=2;var p=Be;Be|=4;try{mm(o,r.alternate,r)}finally{Be=p,ee.p=d,B.T=a}}Rt=3}}function zm(){if(Rt===4||Rt===3){Rt=0,Ot();var o=Li,r=yo,a=So,d=Em;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Rt=5:(Rt=0,yo=Li=null,Vm(o,o.pendingLanes));var p=o.pendingLanes;if(p===0&&(Pi=null),Ou(a),r=r.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(tn,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=B.T,p=ee.p,ee.p=2,B.T=null;try{for(var C=o.onRecoverableError,y=0;y<d.length;y++){var S=d[y];C(S.value,{componentStack:S.stack})}}finally{B.T=r,ee.p=p}}(So&3)!==0&&ca(),Is(o),p=o.pendingLanes,(a&4194090)!==0&&(p&42)!==0?o===pd?Ir++:(Ir=0,pd=o):Ir=0,Gr(0)}}function Vm(o,r){(o.pooledCacheLanes&=r)===0&&(r=o.pooledCache,r!=null&&(o.pooledCache=null,gr(r)))}function ca(o){return Bm(),Hm(),zm(),_m()}function _m(){if(Rt!==5)return!1;var o=Li,r=hd;hd=0;var a=Ou(So),d=B.T,p=ee.p;try{ee.p=32>a?32:a,B.T=null,a=gd,gd=null;var C=Li,y=So;if(Rt=0,yo=Li=null,So=0,(Be&6)!==0)throw Error(i(331));var S=Be;if(Be|=4,Dm(C.current),Sm(C,C.current,y,a),Be=S,Gr(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(tn,C)}catch{}return!0}finally{ee.p=p,B.T=d,Vm(o,r)}}function Wm(o,r,a){r=is(a,r),r=Kc(o.stateNode,r,2),o=Si(o,r,2),o!==null&&(Xo(o,2),Is(o))}function je(o,r,a){if(o.tag===3)Wm(o,o,a);else for(;r!==null;){if(r.tag===3){Wm(r,o,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Pi===null||!Pi.has(d))){o=is(a,o),a=Yf(2),d=Si(r,a,2),d!==null&&(qf(a,d,r,o),Xo(d,2),Is(d));break}}r=r.return}}function vd(o,r,a){var d=o.pingCache;if(d===null){d=o.pingCache=new mR;var p=new Set;d.set(r,p)}else p=d.get(r),p===void 0&&(p=new Set,d.set(r,p));p.has(a)||(ad=!0,p.add(a),o=yR.bind(null,o,r,a),r.then(o,o))}function yR(o,r,a){var d=o.pingCache;d!==null&&d.delete(r),o.pingedLanes|=o.suspendedLanes&a,o.warmLanes&=~a,qe===o&&(Fe&a)===a&&(tt===4||tt===3&&(Fe&62914560)===Fe&&300>ye()-dd?(Be&2)===0&&Ro(o,0):ud|=a,bo===Fe&&(bo=0)),Is(o)}function Um(o,r){r===0&&(r=Hg()),o=no(o,r),o!==null&&(Xo(o,r),Is(o))}function SR(o){var r=o.memoizedState,a=0;r!==null&&(a=r.retryLane),Um(o,a)}function RR(o,r){var a=0;switch(o.tag){case 13:var d=o.stateNode,p=o.memoizedState;p!==null&&(a=p.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),Um(o,a)}function xR(o,r){return ze(o,r)}var da=null,Do=null,wd=!1,ha=!1,bd=!1,bn=0;function Is(o){o!==Do&&o.next===null&&(Do===null?da=Do=o:Do=Do.next=o),ha=!0,wd||(wd=!0,MR())}function Gr(o,r){if(!bd&&ha){bd=!0;do for(var a=!1,d=da;d!==null;){if(o!==0){var p=d.pendingLanes;if(p===0)var C=0;else{var y=d.suspendedLanes,S=d.pingedLanes;C=(1<<31-Ue(42|o)+1)-1,C&=p&~(y&~S),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(a=!0,qm(d,C))}else C=Fe,C=vl(d,d===qe?C:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(C&3)===0||Zo(d,C)||(a=!0,qm(d,C));d=d.next}while(a);bd=!1}}function DR(){jm()}function jm(){ha=wd=!1;var o=0;bn!==0&&(GR()&&(o=bn),bn=0);for(var r=ye(),a=null,d=da;d!==null;){var p=d.next,C=Km(d,r);C===0?(d.next=null,a===null?da=p:a.next=p,p===null&&(Do=a)):(a=d,(o!==0||(C&3)!==0)&&(ha=!0)),d=p}Gr(o)}function Km(o,r){for(var a=o.suspendedLanes,d=o.pingedLanes,p=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var y=31-Ue(C),S=1<<y,E=p[y];E===-1?((S&a)===0||(S&d)!==0)&&(p[y]=Xy(S,r)):E<=r&&(o.expiredLanes|=S),C&=~S}if(r=qe,a=Fe,a=vl(o,o===r?a:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,a===0||o===r&&(He===2||He===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&Ye(d),o.callbackNode=null,o.callbackPriority=0;if((a&3)===0||Zo(o,a)){if(r=a&-a,r===o.callbackPriority)return r;switch(d!==null&&Ye(d),Ou(a)){case 2:case 8:a=nt;break;case 32:a=ct;break;case 268435456:a=Wn;break;default:a=ct}return d=Ym.bind(null,o),a=ze(a,d),o.callbackPriority=r,o.callbackNode=a,r}return d!==null&&d!==null&&Ye(d),o.callbackPriority=2,o.callbackNode=null,2}function Ym(o,r){if(Rt!==0&&Rt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var a=o.callbackNode;if(ca()&&o.callbackNode!==a)return null;var d=Fe;return d=vl(o,o===qe?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(Tm(o,d,r),Km(o,ye()),o.callbackNode!=null&&o.callbackNode===a?Ym.bind(null,o):null)}function qm(o,r){if(ca())return null;Tm(o,r,!0)}function MR(){kR(function(){(Be&6)!==0?ze(Ct,DR):jm()})}function yd(){return bn===0&&(bn=Bg()),bn}function $m(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Rl(""+o)}function Zm(o,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,o.id&&a.setAttribute("form",o.id),r.parentNode.insertBefore(a,r),o=new FormData(o),a.parentNode.removeChild(a),o}function ER(o,r,a,d,p){if(r==="submit"&&a&&a.stateNode===p){var C=$m((p[kt]||null).action),y=d.submitter;y&&(r=(r=y[kt]||null)?$m(r.formAction):y.getAttribute("formAction"),r!==null&&(C=r,y=null));var S=new El("action","action",null,d,p);o.push({event:S,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(bn!==0){var E=y?Zm(p,y):new FormData(p);Vc(a,{pending:!0,data:E,method:p.method,action:C},null,E)}}else typeof C=="function"&&(S.preventDefault(),E=y?Zm(p,y):new FormData(p),Vc(a,{pending:!0,data:E,method:p.method,action:C},C,E))},currentTarget:p}]})}}for(var Sd=0;Sd<rc.length;Sd++){var Rd=rc[Sd],AR=Rd.toLowerCase(),TR=Rd[0].toUpperCase()+Rd.slice(1);bs(AR,"on"+TR)}bs(Ap,"onAnimationEnd"),bs(Tp,"onAnimationIteration"),bs(Fp,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(KS,"onTransitionRun"),bs(YS,"onTransitionStart"),bs(qS,"onTransitionCancel"),bs(Pp,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function Xm(o,r){r=(r&4)!==0;for(var a=0;a<o.length;a++){var d=o[a],p=d.event;d=d.listeners;e:{var C=void 0;if(r)for(var y=d.length-1;0<=y;y--){var S=d[y],E=S.instance,N=S.currentTarget;if(S=S.listener,E!==C&&p.isPropagationStopped())break e;C=S,p.currentTarget=N;try{C(p)}catch(Y){Jl(Y)}p.currentTarget=null,C=E}else for(y=0;y<d.length;y++){if(S=d[y],E=S.instance,N=S.currentTarget,S=S.listener,E!==C&&p.isPropagationStopped())break e;C=S,p.currentTarget=N;try{C(p)}catch(Y){Jl(Y)}p.currentTarget=null,C=E}}}}function Ae(o,r){var a=r[ku];a===void 0&&(a=r[ku]=new Set);var d=o+"__bubble";a.has(d)||(Qm(r,o,2,!1),a.add(d))}function xd(o,r,a){var d=0;r&&(d|=4),Qm(a,o,d,r)}var ga="_reactListening"+Math.random().toString(36).slice(2);function Dd(o){if(!o[ga]){o[ga]=!0,Ug.forEach(function(a){a!=="selectionchange"&&(FR.has(a)||xd(a,!1,o),xd(a,!0,o))});var r=o.nodeType===9?o:o.ownerDocument;r===null||r[ga]||(r[ga]=!0,xd("selectionchange",!1,r))}}function Qm(o,r,a,d){switch(SC(r)){case 2:var p=ix;break;case 8:p=nx;break;default:p=Hd}a=p.bind(null,r,a,o),p=void 0,!Yu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),d?p!==void 0?o.addEventListener(r,a,{capture:!0,passive:p}):o.addEventListener(r,a,!0):p!==void 0?o.addEventListener(r,a,{passive:p}):o.addEventListener(r,a,!1)}function Md(o,r,a,d,p){var C=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var y=d.tag;if(y===3||y===4){var S=d.stateNode.containerInfo;if(S===p)break;if(y===4)for(y=d.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===p)return;y=y.return}for(;S!==null;){if(y=jn(S),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){d=C=y;continue e}S=S.parentNode}}d=d.return}np(function(){var N=C,Y=ju(a),X=[];e:{var H=Lp.get(o);if(H!==void 0){var V=El,we=o;switch(o){case"keypress":if(Dl(a)===0)break e;case"keydown":case"keyup":V=xS;break;case"focusin":we="focus",V=Xu;break;case"focusout":we="blur",V=Xu;break;case"beforeblur":case"afterblur":V=Xu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=hS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=ES;break;case Ap:case Tp:case Fp:V=fS;break;case Pp:V=TS;break;case"scroll":case"scrollend":V=cS;break;case"wheel":V=PS;break;case"copy":case"cut":case"paste":V=CS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=up;break;case"toggle":case"beforetoggle":V=IS}var me=(r&4)!==0,We=!me&&(o==="scroll"||o==="scrollend"),G=me?H!==null?H+"Capture":null:H;me=[];for(var P=N,O;P!==null;){var $=P;if(O=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||O===null||G===null||($=er(P,G),$!=null&&me.push(kr(P,$,O))),We)break;P=P.return}0<me.length&&(H=new V(H,we,null,a,Y),X.push({event:H,listeners:me}))}}if((r&7)===0){e:{if(H=o==="mouseover"||o==="pointerover",V=o==="mouseout"||o==="pointerout",H&&a!==Uu&&(we=a.relatedTarget||a.fromElement)&&(jn(we)||we[Un]))break e;if((V||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,V?(we=a.relatedTarget||a.toElement,V=N,we=we?jn(we):null,we!==null&&(We=l(we),me=we.tag,we!==We||me!==5&&me!==27&&me!==6)&&(we=null)):(V=null,we=N),V!==we)){if(me=lp,$="onMouseLeave",G="onMouseEnter",P="mouse",(o==="pointerout"||o==="pointerover")&&(me=up,$="onPointerLeave",G="onPointerEnter",P="pointer"),We=V==null?H:Jo(V),O=we==null?H:Jo(we),H=new me($,P+"leave",V,a,Y),H.target=We,H.relatedTarget=O,$=null,jn(Y)===N&&(me=new me(G,P+"enter",we,a,Y),me.target=O,me.relatedTarget=We,$=me),We=$,V&&we)t:{for(me=V,G=we,P=0,O=me;O;O=Mo(O))P++;for(O=0,$=G;$;$=Mo($))O++;for(;0<P-O;)me=Mo(me),P--;for(;0<O-P;)G=Mo(G),O--;for(;P--;){if(me===G||G!==null&&me===G.alternate)break t;me=Mo(me),G=Mo(G)}me=null}else me=null;V!==null&&Jm(X,H,V,me,!1),we!==null&&We!==null&&Jm(X,We,we,me,!0)}}e:{if(H=N?Jo(N):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var he=Cp;else if(fp(H))if(vp)he=WS;else{he=VS;var De=zS}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?N&&Wu(N.elementType)&&(he=Cp):he=_S;if(he&&(he=he(o,N))){mp(X,he,a,Y);break e}De&&De(o,H,N),o==="focusout"&&N&&H.type==="number"&&N.memoizedProps.value!=null&&_u(H,"number",H.value)}switch(De=N?Jo(N):window,o){case"focusin":(fp(De)||De.contentEditable==="true")&&(to=De,ic=N,ar=null);break;case"focusout":ar=ic=to=null;break;case"mousedown":nc=!0;break;case"contextmenu":case"mouseup":case"dragend":nc=!1,Mp(X,a,Y);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":Mp(X,a,Y)}var fe;if(Ju)e:{switch(o){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else eo?gp(o,a)&&(Ce="onCompositionEnd"):o==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(cp&&a.locale!=="ko"&&(eo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&eo&&(fe=op()):(vi=Y,qu="value"in vi?vi.value:vi.textContent,eo=!0)),De=pa(N,Ce),0<De.length&&(Ce=new ap(Ce,o,null,a,Y),X.push({event:Ce,listeners:De}),fe?Ce.data=fe:(fe=pp(a),fe!==null&&(Ce.data=fe)))),(fe=OS?kS(o,a):NS(o,a))&&(Ce=pa(N,"onBeforeInput"),0<Ce.length&&(De=new ap("onBeforeInput","beforeinput",null,a,Y),X.push({event:De,listeners:Ce}),De.data=fe)),ER(X,o,N,a,Y)}Xm(X,r)})}function kr(o,r,a){return{instance:o,listener:r,currentTarget:a}}function pa(o,r){for(var a=r+"Capture",d=[];o!==null;){var p=o,C=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||C===null||(p=er(o,a),p!=null&&d.unshift(kr(o,p,C)),p=er(o,r),p!=null&&d.push(kr(o,p,C))),o.tag===3)return d;o=o.return}return[]}function Mo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Jm(o,r,a,d,p){for(var C=r._reactName,y=[];a!==null&&a!==d;){var S=a,E=S.alternate,N=S.stateNode;if(S=S.tag,E!==null&&E===d)break;S!==5&&S!==26&&S!==27||N===null||(E=N,p?(N=er(a,C),N!=null&&y.unshift(kr(a,N,E))):p||(N=er(a,C),N!=null&&y.push(kr(a,N,E)))),a=a.return}y.length!==0&&o.push({event:r,listeners:y})}var PR=/\r\n?/g,LR=/\u0000|\uFFFD/g;function eC(o){return(typeof o=="string"?o:""+o).replace(PR,`
`).replace(LR,"")}function tC(o,r){return r=eC(r),eC(o)===r}function fa(){}function _e(o,r,a,d,p,C){switch(a){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Xn(o,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Xn(o,""+d);break;case"className":bl(o,"class",d);break;case"tabIndex":bl(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(o,a,d);break;case"style":sp(o,d,C);break;case"data":if(r!=="object"){bl(o,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||a!=="href")){o.removeAttribute(a);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(a);break}d=Rl(""+d),o.setAttribute(a,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(a==="formAction"?(r!=="input"&&_e(o,r,"name",p.name,p,null),_e(o,r,"formEncType",p.formEncType,p,null),_e(o,r,"formMethod",p.formMethod,p,null),_e(o,r,"formTarget",p.formTarget,p,null)):(_e(o,r,"encType",p.encType,p,null),_e(o,r,"method",p.method,p,null),_e(o,r,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(a);break}d=Rl(""+d),o.setAttribute(a,d);break;case"onClick":d!=null&&(o.onclick=fa);break;case"onScroll":d!=null&&Ae("scroll",o);break;case"onScrollEnd":d!=null&&Ae("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(p.children!=null)throw Error(i(60));o.innerHTML=a}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}a=Rl(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(a,""+d):o.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(a,""):o.removeAttribute(a);break;case"capture":case"download":d===!0?o.setAttribute(a,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(a,d):o.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(a,d):o.removeAttribute(a);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(a):o.setAttribute(a,d);break;case"popover":Ae("beforetoggle",o),Ae("toggle",o),wl(o,"popover",d);break;case"xlinkActuate":$s(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":$s(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":$s(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":$s(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":$s(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":$s(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":$s(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":$s(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":$s(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wl(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=aS.get(a)||a,wl(o,a,d))}}function Ed(o,r,a,d,p,C){switch(a){case"style":sp(o,d,C);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(a=d.__html,a!=null){if(p.children!=null)throw Error(i(60));o.innerHTML=a}}break;case"children":typeof d=="string"?Xn(o,d):(typeof d=="number"||typeof d=="bigint")&&Xn(o,""+d);break;case"onScroll":d!=null&&Ae("scroll",o);break;case"onScrollEnd":d!=null&&Ae("scrollend",o);break;case"onClick":d!=null&&(o.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),r=a.slice(2,p?a.length-7:void 0),C=o[kt]||null,C=C!=null?C[a]:null,typeof C=="function"&&o.removeEventListener(r,C,p),typeof d=="function")){typeof C!="function"&&C!==null&&(a in o?o[a]=null:o.hasAttribute(a)&&o.removeAttribute(a)),o.addEventListener(r,d,p);break e}a in o?o[a]=d:d===!0?o.setAttribute(a,""):wl(o,a,d)}}}function xt(o,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",o),Ae("load",o);var d=!1,p=!1,C;for(C in a)if(a.hasOwnProperty(C)){var y=a[C];if(y!=null)switch(C){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:_e(o,r,C,y,a,null)}}p&&_e(o,r,"srcSet",a.srcSet,a,null),d&&_e(o,r,"src",a.src,a,null);return;case"input":Ae("invalid",o);var S=C=y=p=null,E=null,N=null;for(d in a)if(a.hasOwnProperty(d)){var Y=a[d];if(Y!=null)switch(d){case"name":p=Y;break;case"type":y=Y;break;case"checked":E=Y;break;case"defaultChecked":N=Y;break;case"value":C=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:_e(o,r,d,Y,a,null)}}Qg(o,C,S,E,N,y,p,!1),yl(o);return;case"select":Ae("invalid",o),d=y=C=null;for(p in a)if(a.hasOwnProperty(p)&&(S=a[p],S!=null))switch(p){case"value":C=S;break;case"defaultValue":y=S;break;case"multiple":d=S;default:_e(o,r,p,S,a,null)}r=C,a=y,o.multiple=!!d,r!=null?Zn(o,!!d,r,!1):a!=null&&Zn(o,!!d,a,!0);return;case"textarea":Ae("invalid",o),C=p=d=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":d=S;break;case"defaultValue":p=S;break;case"children":C=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:_e(o,r,y,S,a,null)}ep(o,d,p,C),yl(o);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(d=a[E],d!=null))switch(E){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:_e(o,r,E,d,a,null)}return;case"dialog":Ae("beforetoggle",o),Ae("toggle",o),Ae("cancel",o),Ae("close",o);break;case"iframe":case"object":Ae("load",o);break;case"video":case"audio":for(d=0;d<Or.length;d++)Ae(Or[d],o);break;case"image":Ae("error",o),Ae("load",o);break;case"details":Ae("toggle",o);break;case"embed":case"source":case"link":Ae("error",o),Ae("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(d=a[N],d!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:_e(o,r,N,d,a,null)}return;default:if(Wu(r)){for(Y in a)a.hasOwnProperty(Y)&&(d=a[Y],d!==void 0&&Ed(o,r,Y,d,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(d=a[S],d!=null&&_e(o,r,S,d,a,null))}function IR(o,r,a,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,C=null,y=null,S=null,E=null,N=null,Y=null;for(V in a){var X=a[V];if(a.hasOwnProperty(V)&&X!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":E=X;default:d.hasOwnProperty(V)||_e(o,r,V,null,d,X)}}for(var H in d){var V=d[H];if(X=a[H],d.hasOwnProperty(H)&&(V!=null||X!=null))switch(H){case"type":C=V;break;case"name":p=V;break;case"checked":N=V;break;case"defaultChecked":Y=V;break;case"value":y=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,r));break;default:V!==X&&_e(o,r,H,V,d,X)}}Vu(o,y,S,E,N,Y,C,p);return;case"select":V=y=S=H=null;for(C in a)if(E=a[C],a.hasOwnProperty(C)&&E!=null)switch(C){case"value":break;case"multiple":V=E;default:d.hasOwnProperty(C)||_e(o,r,C,null,d,E)}for(p in d)if(C=d[p],E=a[p],d.hasOwnProperty(p)&&(C!=null||E!=null))switch(p){case"value":H=C;break;case"defaultValue":S=C;break;case"multiple":y=C;default:C!==E&&_e(o,r,p,C,d,E)}r=S,a=y,d=V,H!=null?Zn(o,!!a,H,!1):!!d!=!!a&&(r!=null?Zn(o,!!a,r,!0):Zn(o,!!a,a?[]:"",!1));return;case"textarea":V=H=null;for(S in a)if(p=a[S],a.hasOwnProperty(S)&&p!=null&&!d.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:_e(o,r,S,null,d,p)}for(y in d)if(p=d[y],C=a[y],d.hasOwnProperty(y)&&(p!=null||C!=null))switch(y){case"value":H=p;break;case"defaultValue":V=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==C&&_e(o,r,y,p,d,C)}Jg(o,H,V);return;case"option":for(var we in a)if(H=a[we],a.hasOwnProperty(we)&&H!=null&&!d.hasOwnProperty(we))switch(we){case"selected":o.selected=!1;break;default:_e(o,r,we,null,d,H)}for(E in d)if(H=d[E],V=a[E],d.hasOwnProperty(E)&&H!==V&&(H!=null||V!=null))switch(E){case"selected":o.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:_e(o,r,E,H,d,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)H=a[me],a.hasOwnProperty(me)&&H!=null&&!d.hasOwnProperty(me)&&_e(o,r,me,null,d,H);for(N in d)if(H=d[N],V=a[N],d.hasOwnProperty(N)&&H!==V&&(H!=null||V!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,r));break;default:_e(o,r,N,H,d,V)}return;default:if(Wu(r)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!d.hasOwnProperty(We)&&Ed(o,r,We,void 0,d,H);for(Y in d)H=d[Y],V=a[Y],!d.hasOwnProperty(Y)||H===V||H===void 0&&V===void 0||Ed(o,r,Y,H,d,V);return}}for(var G in a)H=a[G],a.hasOwnProperty(G)&&H!=null&&!d.hasOwnProperty(G)&&_e(o,r,G,null,d,H);for(X in d)H=d[X],V=a[X],!d.hasOwnProperty(X)||H===V||H==null&&V==null||_e(o,r,X,H,d,V)}var Ad=null,Td=null;function ma(o){return o.nodeType===9?o:o.ownerDocument}function sC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iC(o,r){if(o===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&r==="foreignObject"?0:o}function Fd(o,r){return o==="textarea"||o==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pd=null;function GR(){var o=window.event;return o&&o.type==="popstate"?o===Pd?!1:(Pd=o,!0):(Pd=null,!1)}var nC=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,oC=typeof Promise=="function"?Promise:void 0,kR=typeof queueMicrotask=="function"?queueMicrotask:typeof oC<"u"?function(o){return oC.resolve(null).then(o).catch(NR)}:nC;function NR(o){setTimeout(function(){throw o})}function Gi(o){return o==="head"}function rC(o,r){var a=r,d=0,p=0;do{var C=a.nextSibling;if(o.removeChild(a),C&&C.nodeType===8)if(a=C.data,a==="/$"){if(0<d&&8>d){a=d;var y=o.ownerDocument;if(a&1&&Nr(y.documentElement),a&2&&Nr(y.body),a&4)for(a=y.head,Nr(a),y=a.firstChild;y;){var S=y.nextSibling,E=y.nodeName;y[Qo]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}if(p===0){o.removeChild(C),jr(r);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:d=a.charCodeAt(0)-48;else d=0;a=C}while(a);jr(r)}function Ld(o){var r=o.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),Nu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}o.removeChild(a)}}function BR(o,r,a,d){for(;o.nodeType===1;){var p=a;if(o.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[Qo])switch(r){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==p.rel||o.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||o.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||o.getAttribute("title")!==(p.title==null?null:p.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(p.src==null?null:p.src)||o.getAttribute("type")!==(p.type==null?null:p.type)||o.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(r==="input"&&o.type==="hidden"){var C=p.name==null?null:""+p.name;if(p.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=Ss(o.nextSibling),o===null)break}return null}function HR(o,r,a){if(r==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!a||(o=Ss(o.nextSibling),o===null))return null;return o}function Id(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function zR(o,r){var a=o.ownerDocument;if(o.data!=="$?"||a.readyState==="complete")r();else{var d=function(){r(),a.removeEventListener("DOMContentLoaded",d)};a.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function Ss(o){for(;o!=null;o=o.nextSibling){var r=o.nodeType;if(r===1||r===3)break;if(r===8){if(r=o.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return o}var Gd=null;function lC(o){o=o.previousSibling;for(var r=0;o;){if(o.nodeType===8){var a=o.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return o;r--}else a==="/$"&&r++}o=o.previousSibling}return null}function aC(o,r,a){switch(r=ma(a),o){case"html":if(o=r.documentElement,!o)throw Error(i(452));return o;case"head":if(o=r.head,!o)throw Error(i(453));return o;case"body":if(o=r.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Nr(o){for(var r=o.attributes;r.length;)o.removeAttributeNode(r[0]);Nu(o)}var us=new Map,uC=new Set;function Ca(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ui=ee.d;ee.d={f:VR,r:_R,D:WR,C:UR,L:jR,m:KR,X:qR,S:YR,M:$R};function VR(){var o=ui.f(),r=aa();return o||r}function _R(o){var r=Kn(o);r!==null&&r.tag===5&&r.type==="form"?Tf(r):ui.r(o)}var Eo=typeof document>"u"?null:document;function cC(o,r,a){var d=Eo;if(d&&typeof r=="string"&&r){var p=ss(r);p='link[rel="'+o+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),uC.has(p)||(uC.add(p),o={rel:o,crossOrigin:a,href:r},d.querySelector(p)===null&&(r=d.createElement("link"),xt(r,"link",o),vt(r),d.head.appendChild(r)))}}function WR(o){ui.D(o),cC("dns-prefetch",o,null)}function UR(o,r){ui.C(o,r),cC("preconnect",o,r)}function jR(o,r,a){ui.L(o,r,a);var d=Eo;if(d&&o&&r){var p='link[rel="preload"][as="'+ss(r)+'"]';r==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+ss(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+ss(a.imageSizes)+'"]')):p+='[href="'+ss(o)+'"]';var C=p;switch(r){case"style":C=Ao(o);break;case"script":C=To(o)}us.has(C)||(o=f({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:o,as:r},a),us.set(C,o),d.querySelector(p)!==null||r==="style"&&d.querySelector(Br(C))||r==="script"&&d.querySelector(Hr(C))||(r=d.createElement("link"),xt(r,"link",o),vt(r),d.head.appendChild(r)))}}function KR(o,r){ui.m(o,r);var a=Eo;if(a&&o){var d=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+ss(d)+'"][href="'+ss(o)+'"]',C=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=To(o)}if(!us.has(C)&&(o=f({rel:"modulepreload",href:o},r),us.set(C,o),a.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hr(C)))return}d=a.createElement("link"),xt(d,"link",o),vt(d),a.head.appendChild(d)}}}function YR(o,r,a){ui.S(o,r,a);var d=Eo;if(d&&o){var p=Yn(d).hoistableStyles,C=Ao(o);r=r||"default";var y=p.get(C);if(!y){var S={loading:0,preload:null};if(y=d.querySelector(Br(C)))S.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":r},a),(a=us.get(C))&&Od(o,a);var E=y=d.createElement("link");vt(E),xt(E,"link",o),E._p=new Promise(function(N,Y){E.onload=N,E.onerror=Y}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,va(y,r,d)}y={type:"stylesheet",instance:y,count:1,state:S},p.set(C,y)}}}function qR(o,r){ui.X(o,r);var a=Eo;if(a&&o){var d=Yn(a).hoistableScripts,p=To(o),C=d.get(p);C||(C=a.querySelector(Hr(p)),C||(o=f({src:o,async:!0},r),(r=us.get(p))&&kd(o,r),C=a.createElement("script"),vt(C),xt(C,"link",o),a.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},d.set(p,C))}}function $R(o,r){ui.M(o,r);var a=Eo;if(a&&o){var d=Yn(a).hoistableScripts,p=To(o),C=d.get(p);C||(C=a.querySelector(Hr(p)),C||(o=f({src:o,async:!0,type:"module"},r),(r=us.get(p))&&kd(o,r),C=a.createElement("script"),vt(C),xt(C,"link",o),a.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},d.set(p,C))}}function dC(o,r,a,d){var p=(p=ue.current)?Ca(p):null;if(!p)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ao(a.href),a=Yn(p).hoistableStyles,d=a.get(r),d||(d={type:"style",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){o=Ao(a.href);var C=Yn(p).hoistableStyles,y=C.get(o);if(y||(p=p.ownerDocument||p,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,y),(C=p.querySelector(Br(o)))&&!C._p&&(y.instance=C,y.state.loading=5),us.has(o)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},us.set(o,a),C||ZR(p,o,a,y.state))),r&&d===null)throw Error(i(528,""));return y}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(a),a=Yn(p).hoistableScripts,d=a.get(r),d||(d={type:"script",instance:null,count:0,state:null},a.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Ao(o){return'href="'+ss(o)+'"'}function Br(o){return'link[rel="stylesheet"]['+o+"]"}function hC(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function ZR(o,r,a,d){o.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=o.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),xt(r,"link",a),vt(r),o.head.appendChild(r))}function To(o){return'[src="'+ss(o)+'"]'}function Hr(o){return"script[async]"+o}function gC(o,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var d=o.querySelector('style[data-href~="'+ss(a.href)+'"]');if(d)return r.instance=d,vt(d),d;var p=f({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),vt(d),xt(d,"style",p),va(d,a.precedence,o),r.instance=d;case"stylesheet":p=Ao(a.href);var C=o.querySelector(Br(p));if(C)return r.state.loading|=4,r.instance=C,vt(C),C;d=hC(a),(p=us.get(p))&&Od(d,p),C=(o.ownerDocument||o).createElement("link"),vt(C);var y=C;return y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),xt(C,"link",d),r.state.loading|=4,va(C,a.precedence,o),r.instance=C;case"script":return C=To(a.src),(p=o.querySelector(Hr(C)))?(r.instance=p,vt(p),p):(d=a,(p=us.get(C))&&(d=f({},a),kd(d,p)),o=o.ownerDocument||o,p=o.createElement("script"),vt(p),xt(p,"link",d),o.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,va(d,a.precedence,o));return r.instance}function va(o,r,a){for(var d=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,C=p,y=0;y<d.length;y++){var S=d[y];if(S.dataset.precedence===r)C=S;else if(C!==p)break}C?C.parentNode.insertBefore(o,C.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(o,r.firstChild))}function Od(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.title==null&&(o.title=r.title)}function kd(o,r){o.crossOrigin==null&&(o.crossOrigin=r.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=r.referrerPolicy),o.integrity==null&&(o.integrity=r.integrity)}var wa=null;function pC(o,r,a){if(wa===null){var d=new Map,p=wa=new Map;p.set(a,d)}else p=wa,d=p.get(a),d||(d=new Map,p.set(a,d));if(d.has(o))return d;for(d.set(o,null),a=a.getElementsByTagName(o),p=0;p<a.length;p++){var C=a[p];if(!(C[Qo]||C[Mt]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var y=C.getAttribute(r)||"";y=o+y;var S=d.get(y);S?S.push(C):d.set(y,[C])}}return d}function fC(o,r,a){o=o.ownerDocument||o,o.head.insertBefore(a,r==="title"?o.querySelector("head > title"):null)}function XR(o,r,a){if(a===1||r.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return o=r.disabled,typeof r.precedence=="string"&&o==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var zr=null;function QR(){}function JR(o,r,a){if(zr===null)throw Error(i(475));var d=zr;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Ao(a.href),C=o.querySelector(Br(p));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=ba.bind(d),o.then(d,d)),r.state.loading|=4,r.instance=C,vt(C);return}C=o.ownerDocument||o,a=hC(a),(p=us.get(p))&&Od(a,p),C=C.createElement("link"),vt(C);var y=C;y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),xt(C,"link",a),r.instance=C}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(d.count++,r=ba.bind(d),o.addEventListener("load",r),o.addEventListener("error",r))}}function ex(){if(zr===null)throw Error(i(475));var o=zr;return o.stylesheets&&o.count===0&&Nd(o,o.stylesheets),0<o.count?function(r){var a=setTimeout(function(){if(o.stylesheets&&Nd(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=r,function(){o.unsuspend=null,clearTimeout(a)}}:null}function ba(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ya=null;function Nd(o,r){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ya=new Map,r.forEach(tx,o),ya=null,ba.call(o))}function tx(o,r){if(!(r.state.loading&4)){var a=ya.get(o);if(a)var d=a.get(null);else{a=new Map,ya.set(o,a);for(var p=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<p.length;C++){var y=p[C];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),d=y)}d&&a.set(null,d)}p=r.instance,y=p.getAttribute("data-precedence"),C=a.get(y)||d,C===d&&a.set(null,p),a.set(y,p),this.count++,d=ba.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),C?C.parentNode.insertBefore(p,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(p,o.firstChild)),r.state.loading|=4}}var Vr={$$typeof:F,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function sx(o,r,a,d,p,C,y,S){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.hiddenUpdates=Iu(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=C,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function CC(o,r,a,d,p,C,y,S,E,N,Y,X){return o=new sx(o,r,a,y,S,E,N,X),r=1,C===!0&&(r|=24),C=Ut(3,null,null,r),o.current=C,C.stateNode=o,r=vc(),r.refCount++,o.pooledCache=r,r.refCount++,C.memoizedState={element:d,isDehydrated:a,cache:r},Sc(C),o}function vC(o){return o?(o=oo,o):oo}function wC(o,r,a,d,p,C){p=vC(p),d.context===null?d.context=p:d.pendingContext=p,d=yi(r),d.payload={element:a},C=C===void 0?null:C,C!==null&&(d.callback=C),a=Si(o,d,r),a!==null&&($t(a,o,r),Cr(a,o,r))}function bC(o,r){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var a=o.retryLane;o.retryLane=a!==0&&a<r?a:r}}function Bd(o,r){bC(o,r),(o=o.alternate)&&bC(o,r)}function yC(o){if(o.tag===13){var r=no(o,67108864);r!==null&&$t(r,o,67108864),Bd(o,67108864)}}var Sa=!0;function ix(o,r,a,d){var p=B.T;B.T=null;var C=ee.p;try{ee.p=2,Hd(o,r,a,d)}finally{ee.p=C,B.T=p}}function nx(o,r,a,d){var p=B.T;B.T=null;var C=ee.p;try{ee.p=8,Hd(o,r,a,d)}finally{ee.p=C,B.T=p}}function Hd(o,r,a,d){if(Sa){var p=zd(d);if(p===null)Md(o,r,d,Ra,a),RC(o,d);else if(rx(p,o,r,a,d))d.stopPropagation();else if(RC(o,d),r&4&&-1<ox.indexOf(o)){for(;p!==null;){var C=Kn(p);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var y=sn(C.pendingLanes);if(y!==0){var S=C;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var E=1<<31-Ue(y);S.entanglements[1]|=E,y&=~E}Is(C),(Be&6)===0&&(ra=ye()+500,Gr(0))}}break;case 13:S=no(C,2),S!==null&&$t(S,C,2),aa(),Bd(C,2)}if(C=zd(d),C===null&&Md(o,r,d,Ra,a),C===p)break;p=C}p!==null&&d.stopPropagation()}else Md(o,r,d,null,a)}}function zd(o){return o=ju(o),Vd(o)}var Ra=null;function Vd(o){if(Ra=null,o=jn(o),o!==null){var r=l(o);if(r===null)o=null;else{var a=r.tag;if(a===13){if(o=u(r),o!==null)return o;o=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Ra=o,null}function SC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Ct:return 2;case nt:return 8;case ct:case es:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var _d=!1,Oi=null,ki=null,Ni=null,_r=new Map,Wr=new Map,Bi=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function RC(o,r){switch(o){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":_r.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(r.pointerId)}}function Ur(o,r,a,d,p,C){return o===null||o.nativeEvent!==C?(o={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:C,targetContainers:[p]},r!==null&&(r=Kn(r),r!==null&&yC(r)),o):(o.eventSystemFlags|=d,r=o.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),o)}function rx(o,r,a,d,p){switch(r){case"focusin":return Oi=Ur(Oi,o,r,a,d,p),!0;case"dragenter":return ki=Ur(ki,o,r,a,d,p),!0;case"mouseover":return Ni=Ur(Ni,o,r,a,d,p),!0;case"pointerover":var C=p.pointerId;return _r.set(C,Ur(_r.get(C)||null,o,r,a,d,p)),!0;case"gotpointercapture":return C=p.pointerId,Wr.set(C,Ur(Wr.get(C)||null,o,r,a,d,p)),!0}return!1}function xC(o){var r=jn(o.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){o.blockedOn=r,Jy(o.priority,function(){if(a.tag===13){var d=qt();d=Gu(d);var p=no(a,d);p!==null&&$t(p,a,d),Bd(a,d)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){o.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}o.blockedOn=null}function xa(o){if(o.blockedOn!==null)return!1;for(var r=o.targetContainers;0<r.length;){var a=zd(o.nativeEvent);if(a===null){a=o.nativeEvent;var d=new a.constructor(a.type,a);Uu=d,a.target.dispatchEvent(d),Uu=null}else return r=Kn(a),r!==null&&yC(r),o.blockedOn=a,!1;r.shift()}return!0}function DC(o,r,a){xa(o)&&a.delete(r)}function lx(){_d=!1,Oi!==null&&xa(Oi)&&(Oi=null),ki!==null&&xa(ki)&&(ki=null),Ni!==null&&xa(Ni)&&(Ni=null),_r.forEach(DC),Wr.forEach(DC)}function Da(o,r){o.blockedOn===r&&(o.blockedOn=null,_d||(_d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lx)))}var Ma=null;function MC(o){Ma!==o&&(Ma=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ma===o&&(Ma=null);for(var r=0;r<o.length;r+=3){var a=o[r],d=o[r+1],p=o[r+2];if(typeof d!="function"){if(Vd(d||a)===null)continue;break}var C=Kn(a);C!==null&&(o.splice(r,3),r-=3,Vc(C,{pending:!0,data:p,method:a.method,action:d},d,p))}}))}function jr(o){function r(E){return Da(E,o)}Oi!==null&&Da(Oi,o),ki!==null&&Da(ki,o),Ni!==null&&Da(Ni,o),_r.forEach(r),Wr.forEach(r);for(var a=0;a<Bi.length;a++){var d=Bi[a];d.blockedOn===o&&(d.blockedOn=null)}for(;0<Bi.length&&(a=Bi[0],a.blockedOn===null);)xC(a),a.blockedOn===null&&Bi.shift();if(a=(o.ownerDocument||o).$$reactFormReplay,a!=null)for(d=0;d<a.length;d+=3){var p=a[d],C=a[d+1],y=p[kt]||null;if(typeof C=="function")y||MC(a);else if(y){var S=null;if(C&&C.hasAttribute("formAction")){if(p=C,y=C[kt]||null)S=y.formAction;else if(Vd(p)!==null)continue}else S=y.action;typeof S=="function"?a[d+1]=S:(a.splice(d,3),d-=3),MC(a)}}}function Wd(o){this._internalRoot=o}Ea.prototype.render=Wd.prototype.render=function(o){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,d=qt();wC(a,d,o,r,null,null)},Ea.prototype.unmount=Wd.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var r=o.containerInfo;wC(o.current,2,null,o,null,null),aa(),r[Un]=null}};function Ea(o){this._internalRoot=o}Ea.prototype.unstable_scheduleHydration=function(o){if(o){var r=_g();o={blockedOn:null,target:o,priority:r};for(var a=0;a<Bi.length&&r!==0&&r<Bi[a].priority;a++);Bi.splice(a,0,o),a===0&&xC(o)}};var EC=t.version;if(EC!=="19.1.0")throw Error(i(527,EC,"19.1.0"));ee.findDOMNode=function(o){var r=o._reactInternals;if(r===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=h(r),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var ax={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{tn=Aa.inject(ax),Dt=Aa}catch{}}return Yr.createRoot=function(o,r){if(!n(o))throw Error(i(299));var a=!1,d="",p=Wf,C=Uf,y=jf,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=CC(o,1,!1,null,null,a,d,p,C,y,S,null),o[Un]=r.current,Dd(o),new Wd(r)},Yr.hydrateRoot=function(o,r,a){if(!n(o))throw Error(i(299));var d=!1,p="",C=Wf,y=Uf,S=jf,E=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(C=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),r=CC(o,1,!0,r,a??null,d,p,C,y,S,E,N),r.context=vC(null),a=r.current,d=qt(),d=Gu(d),p=yi(d),p.callback=null,Si(a,p,d),a=d,r.current.lanes=a,Xo(r,a),Is(r),o[Un]=r.current,Dd(o),new Ea(r)},Yr.version="19.1.0",Yr}var NC;function Cx(){if(NC)return Kd.exports;NC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kd.exports=mx(),Kd.exports}var vx=Cx(),Zi=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,s){const i=t?this.allAsyncListeners:this.allSyncListeners;let n=i.get(e);return!n&&s&&(n=new Set,i.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,s=!1){this.getListeners(e,s,!0).add(t)}removeEventListener(e,t,s=!1){const i=this.getListeners(e,s,!1);i&&(i.delete(t),i.size===0&&(s?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const s=e.type;if(t&&"event"in e){const c=e.event;c instanceof Event&&(e.eventPath=c.composedPath())}const i=(c,h)=>c.forEach(g=>{if(!h.has(g))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>g(e)):()=>g(e);t?this.dispatchAsync(f):f()}),n=this.getListeners(s,t,!1)??new Set,l=new Set(n);l.size>0&&i(l,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(c=>{const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(s,e)):()=>c(s,e);t?this.dispatchAsync(h):h()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function wx(e,t){return t}function Qh(e){return(e==null?void 0:e.getLocaleTextFunc())??wx}function ws(e,t,s){s==null||typeof s=="string"&&s==""?Jh(e,t):Es(e,t,s)}function Es(e,t,s){e.setAttribute(Zv(t),s.toString())}function Jh(e,t){e.removeAttribute(Zv(t))}function Zv(e){return`aria-${e}`}function gs(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function bx(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function yx(e){return parseInt(e.getAttribute("aria-posinset"),10)}function Sx(e){return e.getAttribute("aria-label")}function Xt(e,t){ws(e,"label",t)}function sl(e,t){ws(e,"labelledby",t)}function Xv(e,t){ws(e,"describedby",t)}function Qv(e,t){ws(e,"live",t)}function Rx(e,t){ws(e,"atomic",t)}function xx(e,t){ws(e,"relevant",t)}function Dx(e,t){ws(e,"level",t)}function Mx(e,t){ws(e,"disabled",t)}function eg(e,t){ws(e,"hidden",t)}function Vn(e,t){Es(e,"expanded",t)}function Ex(e){Jh(e,"expanded")}function Jv(e,t){Es(e,"setsize",t)}function ew(e,t){Es(e,"posinset",t)}function Ax(e,t){Es(e,"rowcount",t)}function Tx(e,t){Es(e,"rowindex",t)}function Fx(e,t){Es(e,"colcount",t)}function tw(e,t){Es(e,"colindex",t)}function Px(e,t){Es(e,"colspan",t)}function Lx(e,t){Es(e,"sort",t)}function Ix(e){Jh(e,"sort")}function Gx(e,t){ws(e,"selected",t)}function Ox(e,t){Es(e,"checked",t===void 0?"mixed":t)}function kx(e,t){ws(e,"controls",t.id),sl(t,e.id)}function Nx(e,t){ws(e,"haspopup",t===!1?null:t)}function sw(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Zd,Xd,Qd,Jd,eh,Dh,Mh,th;function cl(){return Zd===void 0&&(Zd=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Zd}function iw(){if(Xd===void 0){const e=window;Xd=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Xd}function tg(){return Qd===void 0&&(Qd=/(firefox)/i.test(navigator.userAgent)),Qd}function nw(){return Jd===void 0&&(Jd=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Jd}function An(){return eh===void 0&&(eh=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),eh}function BC(e){if(!e)return null;const t=e.tabIndex,s=e.getAttribute("tabIndex");return t===-1&&(s===null||s===""&&!tg())?null:t.toString()}function Bx(){if(th!==void 0)return th;if(!document.body)return-1;let e=1e6;const t=tg()?6e6:1e9,s=document.createElement("div");for(document.body.appendChild(s);;){const i=e*2;if(s.style.height=i+"px",i>t||s.clientHeight!==i)break;e=i}return document.body.removeChild(s),th=e,e}function Hx(){return Mh==null&&ow(),Mh}function ow(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let s=t.offsetWidth-t.clientWidth;s===0&&t.clientWidth===0&&(s=null),t.parentNode&&t.parentNode.removeChild(t),s!=null&&(Mh=s,Dh=s===0)}function rw(){return Dh==null&&ow(),Dh}var Ta;function HC(e,t,s){const i=e.parentElement;let n=i&&i.firstChild;for(;n;)t&&n.classList.toggle(t,n===e),n=n.nextSibling}var zx="[tabindex], input, select, button, textarea, [href]",lw="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function sg(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),n=t.call(e,lw),l=Ys(e);return i&&!n&&l}function Pe(e,t,s={}){const{skipAriaHidden:i}=s;e.classList.toggle("ag-hidden",!t),i||eg(e,!t)}function Vx(e,t,s={}){const{skipAriaHidden:i}=s;e.classList.toggle("ag-invisible",!t),i||eg(e,!t)}function aw(e,t){const s="disabled",i=t?l=>l.setAttribute(s,""):l=>l.removeAttribute(s);i(e);const n=e.querySelectorAll("input")??[];for(const l of n)i(l)}function Io(e,t,s){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof s=="number"){if(++i>s)break}else if(e===s)break}return!1}function Uo(e){const{height:t,width:s,borderTopWidth:i,borderRightWidth:n,borderBottomWidth:l,borderLeftWidth:u,paddingTop:c,paddingRight:h,paddingBottom:g,paddingLeft:f,marginTop:m,marginRight:v,marginBottom:w,marginLeft:b,boxSizing:R}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(s||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(l||"0"),borderLeftWidth:parseFloat(u||"0"),paddingTop:parseFloat(c||"0"),paddingRight:parseFloat(h||"0"),paddingBottom:parseFloat(g||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(m||"0"),marginRight:parseFloat(v||"0"),marginBottom:parseFloat(w||"0"),marginLeft:parseFloat(b||"0"),boxSizing:R}}function ig(e){const t=Uo(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function il(e){const t=Uo(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function uw(e){const{height:t,marginBottom:s,marginTop:i}=Uo(e);return Math.floor(t+s+i)}function cw(e){const{width:t,marginLeft:s,marginRight:i}=Uo(e);return Math.floor(t+s+i)}function dw(e){const t=e.getBoundingClientRect(),{borderTopWidth:s,borderLeftWidth:i,borderRightWidth:n,borderBottomWidth:l}=Uo(e);return{top:t.top+(s||0),left:t.left+(i||0),right:t.right+(n||0),bottom:t.bottom+(l||0)}}function Xa(){if(typeof Ta=="boolean")return Ta;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Ta=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Ta}function Qa(e,t){let s=e.scrollLeft;return t&&(s=Math.abs(s),iw()&&!Xa()&&(s=e.scrollWidth-e.getBoundingClientRect().width-s)),s}function Ja(e,t,s){s&&(Xa()?t*=-1:(cl()||iw())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function ms(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Nn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function hw(e){return!!e.offsetParent}function Ys(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!hw(e)||window.getComputedStyle(e).visibility!=="visible")}function ng(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function _x(e){return e.clientWidth<e.scrollWidth}function Wx(e){return e.clientHeight<e.scrollHeight}function gw(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Vs(e,t)}function Vs(e,t){t=pw(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Qr(e,t){t=pw(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function pw(e){return typeof e=="number"?`${e}px`:e}function yu(e){return e instanceof Node||e instanceof HTMLElement}function Go(e,t,s){s==null||s===""?e.removeAttribute(t):e.setAttribute(t,s.toString())}function pi(e,t,s){const n=Rw(e).ResizeObserver,l=n?new n(s):null;return l==null||l.observe(t),()=>l==null?void 0:l.disconnect()}function Ux(e){const t=Hn(e),s="getSelection"in t?t.getSelection():null,i=[];for(let n=0;n<((s==null?void 0:s.rangeCount)??0);n++){const l=s==null?void 0:s.getRangeAt(n);l&&i.push(l)}return{selection:s,ranges:i}}function Su(e,t){if(!e.gos.get("enableCellTextSelection")||!tg()&&!cl())return t();const{selection:i,ranges:n}=Ux(e);t(),i==null||i.removeAllRanges();for(const l of n)i==null||i.addRange(l)}function Ms(e,t){const s=Rw(e);s.requestAnimationFrame?s.requestAnimationFrame(t):s.webkitRequestAnimationFrame?s.webkitRequestAnimationFrame(t):s.setTimeout(t,0)}var fw="data-ref",sh;function zC(){return sh??(sh=document.createTextNode(" ")),sh.cloneNode()}function $e(e){const{attrs:t,children:s,cls:i,ref:n,role:l,tag:u}=e,c=document.createElement(u);if(i&&(c.className=i),n&&c.setAttribute(fw,n),l&&c.setAttribute("role",l),t)for(const h of Object.keys(t))c.setAttribute(h,t[h]);if(s)if(typeof s=="string")c.textContent=s;else{let h=!0;for(const g of s)g&&(typeof g=="string"?(c.appendChild(document.createTextNode(g)),h=!1):(h&&(c.appendChild(zC()),h=!1),c.append($e(g)),c.appendChild(zC())))}return c}function Tn(e){return e==null||e===""?null:e}function ge(e){return e!=null&&e!==""}function Ze(e){return!ge(e)}function Eh(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function jx(e,t){const s=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return s===i}function Kx(e,t,s=!1){const i=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function l(u,c){return u>c?1:u<c?-1:0}if(typeof e!="string"||!s)return l(e,t);try{return e.localeCompare(t)}catch{return l(e,t)}}var mw="https://www.ag-grid.com",VC={};function og(e,t){VC[t]||(e(),VC[t]=!0)}function eu(e,t,...s){e.get("debug")&&console.log("AG Grid: "+t,...s)}function Jr(e,...t){og(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Oo(e,...t){og(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var Yx={pending:!1,funcs:[]},qx={pending:!1,funcs:[]};function Ah(e,t="setTimeout",s){const i=t==="raf"?qx:Yx;if(i.funcs.push(e),i.pending)return;i.pending=!0;const n=()=>{const l=i.funcs.slice();i.funcs.length=0,i.pending=!1,l.forEach(u=>u())};t==="raf"?Ms(s,n):window.setTimeout(n,0)}function Mn(e,t,s){let i;return function(...n){const l=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(l,n)},s)}}function _C(e,t){let s=0;return function(...i){const n=this,l=Date.now();l-s<t||(s=l,e.apply(n,i))}}function Cw(e,t,s=100,i){const n=Date.now();let l=null,u=!1;const c=()=>{const h=Date.now()-n>s;(e()||h)&&(t(),u=!0,l!=null&&(window.clearInterval(l),l=null))};c(),u||(l=window.setInterval(c,10))}var Ne="33.2.1",WC=2e3,UC=100,vw="_version_",_a=null,Fn=`${mw}/javascript-data-grid`;function $x(e){_a=e}function Zx(e){Fn=e}function ww(e,t,s){return(_a==null?void 0:_a.getConsoleMessage(e,t))??[e0(e,t,s)]}function rg(e,t,s,i){e(`error #${t}`,...ww(t,s,i))}function Xx(e){if(!e)return String(e);const t={};for(const s of Object.keys(e))typeof e[s]!="object"&&typeof e[s]!="function"&&(t[s]=e[s]);return JSON.stringify(t)}function Qx(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=Xx(e)),t}function tu(e){return e===void 0?"undefined":e===null?"null":e}function Th(e,t){return`${e}?${t.toString()}`}function Jx(e,t,s){const i=Array.from(t.entries()).sort((l,u)=>u[1].length-l[1].length);let n=Th(e,t);for(const[l,u]of i){if(l===vw)continue;const c=n.length-s;if(c<=0)break;const h="...",g=c+h.length,f=u.length-g>UC?u.slice(0,u.length-g)+h:u.slice(0,UC)+h;t.set(l,f),n=Th(e,t)}return n}function bw(e,t){const s=new URLSearchParams;if(s.append(vw,Ne),t)for(const l of Object.keys(t))s.append(l,Qx(t[l]));const i=`${Fn}/errors/${e}`,n=Th(i,s);return n.length<=WC?n:Jx(i,s,WC)}var e0=(e,t,s)=>{const i=bw(e,t);return`${s?s+` 
`:""}Visit ${i}${s?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function re(...e){rg(Jr,e[0],e[1])}function Te(...e){rg(Oo,e[0],e[1])}function Fh(e,t,s){rg(Oo,e,t,s)}function t0(e,t){const s=t[0];return`error #${s} `+ww(s,t[1],e).join(" ")}function qi(...e){return t0(void 0,e)}function yw(e,t){return e.get("rowModelType")===t}function fi(e,t){return yw(e,"clientSide")}function Cs(e,t){return yw(e,"serverSide")}function It(e,t){return e.get("domLayout")===t}function Hs(e){return iu(e)!==void 0}function lg(e){return typeof e.get("getRowHeight")=="function"}function s0(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Ns(e,t,s=!1,i){const{gos:n,environment:l}=e;if(i==null&&(i=l.getDefaultRowHeight()),lg(n)){if(s)return{height:i,estimated:!0};const h={node:t,data:t.data},g=n.getCallback("getRowHeight")(h);if(Ph(g))return g===0&&re(23),{height:Math.max(1,g),estimated:!1}}if(t.detail&&n.get("masterDetail"))return i0(n);const u=n.get("rowHeight");return{height:u&&Ph(u)?u:i,estimated:!1}}function i0(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Ph(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Bn(e){const{environment:t,gos:s}=e,i=s.get("rowHeight");if(!i||Ze(i))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(re(24),t.getDefaultRowHeight())}function Ph(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Sw(e,t,s){const i=t[e.getDomDataKey()];return i?i[s]:void 0}function Bo(e,t,s,i){const n=e.getDomDataKey();let l=t[n];Ze(l)&&(l={},t[n]=l),l[s]=i}function lt(e){const{gos:t,eGridDiv:s}=e;let i=null;const n=t.get("getDocument");return n&&ge(n)?i=n():s&&(i=s.ownerDocument),i&&ge(i)?i:document}function Rw(e){return lt(e).defaultView||window}function Hn(e){return e.eGridDiv.getRootNode()}function Ke(e){return Hn(e).activeElement}function Ru(e){let t=null,s=null;try{t=lt(e).fullscreenElement}catch{}finally{t||(t=Hn(e));const i=t.querySelector("body");i?s=i:t instanceof ShadowRoot?s=t:t instanceof Document?s=t==null?void 0:t.documentElement:s=t}return s}function n0(e){const t=Ru(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function o0(e){const t=Ru(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function Lh(e,t,s){const n=e.getBoundingClientRect().height,l=n0(s)-2,u=o0(s)-2;if(!e.offsetParent)return;const h=dw(e.offsetParent),{clientY:g,clientX:f}=t;let m=g-h.top-n/2,v=f-h.left-10;const w=lt(s),b=w.defaultView||window,R=b.pageYOffset||w.documentElement.scrollTop,D=b.pageXOffset||w.documentElement.scrollLeft;l>0&&v+e.clientWidth>l+D&&(v=l+D-e.clientWidth),v<0&&(v=0),u>0&&m+e.clientHeight>u+R&&(m=u+R-e.clientHeight),m<0&&(m=0),e.style.left=`${v}px`,e.style.top=`${m}px`}function su(e){const t=lt(e),s=Ke(e);return s===null||s===t.body}function ag(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function xu(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||It(e,"print"))}function Bs(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function xw(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function ug(e){return e.get("grandTotalRow")}function Ho(e){const t=e.get("groupTotalRow");return typeof t=="function"?e.getCallback("groupTotalRow"):()=>t??void 0}function Dw(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function cg(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function zo(e){const t=e.getCallback("getRowId");return t===void 0?t:s=>{let i=t(s);return typeof i!="string"&&(re(25,{id:i}),i=String(i)),i}}function r0(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Mw(e,t){const s=e.get("suppressGroupChangesColumnVisibility");if(s===!0||t&&s==="suppressHideOnGroup"||!t&&s==="suppressShowOnUngroup")return!1;const i=e.get("suppressRowGroupHidesColumns");if(t&&i===!0)return!1;const n=e.get("suppressMakeColumnVisibleAfterUnGroup");return!(!t&&n===!0)}function Pn(e){return(e==null?void 0:e.checkboxes)??!0}function Wa(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function nl(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function ih(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function Ew(e){return typeof e.get("rowSelection")!="string"}function ol(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Aw(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const s=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return s&&i?!1:s?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function l0(e){const t=Aw(e);return t===!0||t==="enableSelection"}function a0(e){const t=Aw(e);return t===!0||t==="enableDeselection"}function Ih(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function iu(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Vo(e){return iu(e)==="multiRow"}function u0(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Tw(e){const t=e.get("rowSelection");if(typeof t=="string"){const s=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return s&&i?"filteredDescendants":s?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Fw(e,t=!0){const s=e.get("rowSelection");return typeof s!="object"?t?"all":void 0:s.mode==="multiRow"?s.selectAll:"all"}function nu(e){const t=Tw(e);return t==="descendants"||t==="filteredDescendants"}function Lt(e){return e.get("columnMenu")==="legacy"}function c0(e){return!Lt(e)}function Pw(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function d0(e,t,s){typeof e!="object"&&(e={});const i={...e};return s.forEach(n=>{const l=t[n];typeof l<"u"&&(i[n]=l)}),i}function h0(e,t){if(!e)return;const s={};let i=!1;if(Object.keys(e).forEach(u=>{s[u]=e[u],i=!0}),!i)return;const n={type:"gridOptionsChanged",options:s};t.dispatchEvent(n);const l={type:"componentStateChanged",...s};t.dispatchEvent(l)}function Re(e,t){return e.addGridCommonParams(t)}function g0(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var Lw="__ag_Grid_Stop_Propagation",p0=["touchstart","touchend","touchmove","touchcancel","scroll"],f0=["wheel"],nh={};function _s(e){e[Lw]=!0}function xs(e){return e[Lw]===!0}var Iw=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return s=>{if(typeof nh[s]=="boolean")return nh[s];const i=document.createElement(e[s]||"div");return s="on"+s,nh[s]=s in i}})();function Gw(e,t,s){let i=t;for(;i;){const n=Sw(e,i,s);if(n)return n;i=i.parentElement}return null}function Gh(e,t){return!t||!e?!1:C0(t).indexOf(e)>=0}function m0(e){const t=[];let s=e.target;for(;s;)t.push(s),s=s.parentElement;return t}function C0(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():m0(t)}function v0(e,t,s,i){const n=Ow(s);let l;n!=null&&(l={passive:n}),e&&e.addEventListener&&e.addEventListener(t,s,i,l)}var Ow=e=>{const t=p0.includes(e),s=f0.includes(e);if(t)return!0;if(s)return!1},j=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,s){this.localEventService||(this.localEventService=new Zi),this.localEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){var i;(i=this.localEventService)==null||i.removeEventListener(e,t,s)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const s=[];for(const i of Object.keys(t)){const n=t[i];n&&s.push(this._setupListener(e,i,n))}return s}_setupListener(e,t,s){if(this.destroyed)return()=>null;let i;return w0(e)?(e.__addEventListener(t,s),i=()=>(e.__removeEventListener(t,s),null)):(e instanceof HTMLElement?v0(this.beans.frameworkOverrides,e,t,s):e.addEventListener(t,s),i=()=>(e.removeEventListener(t,s),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}setupGridOptionListener(e,t){const{gos:s}=this;s.addPropertyEventListener(e,t);const i=()=>(s.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const s=e.join("-")+this.propertyListenerId++,i=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[s])return;this.lastChangeSetIdLookup[s]=n.changeSet.id}const l={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};t(l)};e.forEach(n=>this.setupGridOptionListener(n,i))}getLocaleTextFunc(){return Qh(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const s=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),s}createBean(e,t,s){return(t||this.stubContext).createBean(e,s)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function w0(e){return e.__addEventListener!==void 0}var b0=new Set(["__proto__","constructor","prototype"]);function y0(e,t){if(e!=null){if(Array.isArray(e)){for(let s=0;s<e.length;s++)t(s.toString(),e[s]);return}for(const s of Object.keys(e))t(s,e[s])}}function Gt(e,t,s=!0,i=!1){ge(t)&&y0(t,(n,l)=>{if(b0.has(n))return;let u=e[n];u!==l&&(i&&u==null&&l!=null&&typeof l=="object"&&l.constructor===Object&&(u={},e[n]=u),jC(l)&&jC(u)&&!Array.isArray(u)?Gt(u,l,s,i):(s||l!==void 0)&&(e[n]=l))})}function Ua(e,t,s){if(!t||!e)return;if(!s)return e[t];const i=t.split(".");let n=e;for(let l=0;l<i.length;l++){if(n==null)return;n=n[i[l]]}return n}function jC(e){return typeof e=="object"&&e!==null}var S0=/[&<>"']/g,R0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ps(e,t){if(e==null)return null;const s=e.toString().toString();return t?s:s.replace(S0,i=>R0[i])}var x0={resizable:!0,sortable:!0},D0=0;function kw(){return D0++}function Ws(e){return e instanceof Du}var Du=class extends j{constructor(e,t,s,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=s,this.primary=i,this.isColumn=!0,this.instanceId=kw(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Zi,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=ps(s)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:s,colFlex:i}}=this;t==null||t.initCol(this);const n=e.hide;n!==void 0?this.visible=!n:this.visible=!e.initialHide,s==null||s.initCol(this),i==null||i.initCol(this)}setColDef(e,t,s){var n;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&((n=this.beans.rowSpanSvc)==null||n.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",s)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:s}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ge(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ge(s)&&s.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const s=e.width,i=e.initialWidth;return s!=null?t=s:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var i,n,l;this.frameworkEventListenerService=(n=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:n.call(i,this.frameworkEventListenerService,this.colEventSvc);const s=((l=this.frameworkEventListenerService)==null?void 0:l.wrap(t))??t;this.colEventSvc.addEventListener(e,s)}removeEventListener(e,t){var i;const s=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.colEventSvc.removeEventListener(e,s)}createColumnFunctionCallbackParams(e){return Re(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??x0[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const s=this.createColumnFunctionCallbackParams(e);return t(s)}return!1}createColumnEvent(e,t){return Re(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ze(this.sort)}isSorting(){return ge(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return re(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const s=e===!0;this.visible!==s&&(this.visible=s,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let s=!0;for(;e;){if(!e.isPadding()){s=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:s}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Re(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ze(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),s=this.colDef.colSpan(t);return Math.max(s,1)}getRowSpan(e){if(Ze(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),s=this.colDef.rowSpan(t);return Math.max(s,1)}setActualWidth(e,t,s=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),s||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,s){const i=this.createColumnEvent(e,t);s&&Gt(i,s),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function mt(e){return e instanceof el}var el=class extends j{constructor(e,t,s,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=s,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=kw(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Ws(t)?e.push(t):mt(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,s=!1;const i=this.findChildrenRemovingPadding();for(let l=0,u=i.length;l<u;l++){const c=i[l];if(!c.isVisible())continue;const h=c.getColumnGroupShow();h==="open"?(e=!0,s=!0):h==="closed"?(t=!0,s=!0):(e=!0,t=!0)}const n=e&&t&&s;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=s=>{s.forEach(i=>{mt(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},M0={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},E0=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Eh(e);let s=0;for(;;){let i=e??t;if(i?s!==0&&(i+="_"+s):i=s,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);s++}}},En=Object.freeze([]);function Le(e){if(e!=null&&e.length)return e[e.length-1]}function _n(e,t,s){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,n)=>s?s(i,t[n]):t[n]===i)}function Fa(e,t){if(e)for(const s of e)t(s)}function vs(e,t){const s=e.indexOf(t);s>=0&&e.splice(s,1)}function KC(e,t,s){for(let i=0;i<t.length;i++)vs(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(s,0,t[i])}var _o="ag-Grid-AutoColumn",Nw="ag-Grid-SelectionColumn",A0="ag-Grid-RowNumbersColumn";function dg(e){const t=[],s=i=>{for(let n=0;n<i.length;n++){const l=i[n];Ws(l)?t.push(l):mt(l)&&s(l.getChildren())}};return s(e),t}function Fo(e){return e.reduce((t,s)=>t+s.getActualWidth(),0)}function Xi(e,t,s){const i={};if(!t)return;di(null,t,l=>{i[l.getInstanceId()]=l}),s&&di(null,s,l=>{i[l.getInstanceId()]=null});const n=Object.values(i).filter(l=>l!=null);e.context.destroyBeans(n)}function hg(e){return e.getId().startsWith(_o)}function Qi(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(Nw))??!1}function ou(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(A0))??!1}function ru(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function Bw(e,t){return _n(e,t,(s,i)=>s.getColId()===i.getColId())}function Hw(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Ln(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function gg(e,t){const s=e===t,i=e.getColDef()===t,n=e.getColId()==t;return s||i||n}var T0=(e,t)=>(s,i)=>{const n={value1:void 0,value2:void 0};let l=!1;return e&&(e[s]!==void 0&&(n.value1=e[s],l=!0),ge(i)&&e[i]!==void 0&&(n.value2=e[i],l=!0)),!l&&t&&(t[s]!==void 0&&(n.value1=t[s]),ge(i)&&t[i]!==void 0&&(n.value2=t[i])),n};function zw(e,t=null,s,i,n){const l=new E0,{existingCols:u,existingGroups:c,existingColKeys:h}=F0(i);l.addExistingKeys(h);const g=Vw(e,t,0,s,u,l,c,n),{colGroupSvc:f}=e,m=(f==null?void 0:f.findMaxDepth(g,0))??0,v=f?f.balanceColumnTree(g,0,m,l):g;return di(null,v,(b,R)=>{mt(b)&&b.setupExpandable(),b.originalParent=R}),{columnTree:v,treeDept:m}}function F0(e){const t=[],s=[],i=[];return e&&di(null,e,n=>{if(mt(n)){const l=n;s.push(l)}else{const l=n;i.push(l.getId()),t.push(l)}}),{existingCols:t,existingGroups:s,existingColKeys:i}}function Vw(e,t,s,i,n,l,u,c){if(!t)return[];const{colGroupSvc:h}=e,g=new Array(t.length);for(let f=0;f<g.length;f++){const m=t[f];h&&k0(m)?g[f]=h.createProvidedColumnGroup(i,m,s,n,l,u,c):g[f]=P0(e,i,m,n,l,c)}return g}function P0(e,t,s,i,n,l){var h;const u=I0(s,i);u&&(i==null||i.splice(u.idx,1));let c=u==null?void 0:u.column;if(c){const g=lu(e,s,c.getColId());c.setColDef(g,s,l),L0(e,c,g,l)}else{const g=n.getUniqueKey(s.colId,s.field),f=lu(e,s,g);c=new Du(f,s,g,t),e.context.createBean(c)}return(h=e.dataTypeSvc)==null||h.addColumnListeners(c),c}function _w(e,t,s,i,n,l,u,c){const{sortSvc:h,pinnedCols:g,colFlex:f}=e;s!==void 0&&t.setVisible(!s,c),h&&(h.updateColSort(t,i,c),n!==void 0&&h.setColSortIndex(t,n)),l!==void 0&&(g==null||g.setColPinned(t,l)),u!==void 0&&(f==null||f.setColFlex(t,u))}function L0(e,t,s,i){_w(e,t,s.hide,s.sort,s.sortIndex,s.pinned,s.flex,i);const n=t.getFlex();if(!(n!=null&&n>0))if(s.width!=null)t.setActualWidth(s.width,i);else{const l=t.getActualWidth();t.setActualWidth(l,i)}}function I0(e,t){if(t)for(let s=0;s<t.length;s++){const i=t[s].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[s].getId()===e.colId)return{idx:s,column:t[s]};continue}if(e.field!=null){if(i.field===e.field)return{idx:s,column:t[s]};continue}if(i===e)return{idx:s,column:t[s]}}}function lu(e,t,s,i){const{gos:n,dataTypeSvc:l,validation:u}=e,c={},h=n.get("defaultColDef");Gt(c,h,!1,!0);const g=G0(e,c,t,s);g&&O0(e,g,c),Gt(c,t,!1,!0);const f=n.get("autoGroupColumnDef"),m=Bs(n);return t.rowGroup&&f&&m&&Gt(c,{sort:f.sort,initialSort:f.initialSort},!1,!0),l==null||l.validateColDef(c),u==null||u.validateColDef(c,s,i),c}function G0(e,t,s,i){var u;const n=(u=e.dataTypeSvc)==null?void 0:u.updateColDefAndGetColumnType(t,s,i),l=s.type??n??t.type;return t.type=l,l?ru(l):void 0}function O0(e,t,s){if(!t.length)return;const i=Object.assign({},M0),n=e.gos.get("columnTypes")||{};for(const l of Object.keys(n)){const u=n[l];l in i?re(34,{key:l}):(u.type&&re(35),i[l]=u)}t.forEach(l=>{const u=i[l.trim()];u?Gt(s,u,!1,!0):re(36,{t:l})})}function k0(e){return e.children!==void 0}function di(e,t,s){if(t)for(let i=0;i<t.length;i++){const n=t[i];mt(n)&&di(n,n.getChildren(),s),s(n,e)}}function Ww(e,t){const s=[],i=[],n=[];return e.forEach(u=>{const c=u.getColDef().lockPosition;c==="right"?n.push(u):c==="left"||c===!0?s.push(u):i.push(u)}),t.get("enableRtl")?[...n,...i,...s]:[...s,...i,...n]}function Uw(e,t){let s=!0;return di(null,t,i=>{if(!mt(i))return;const n=i,l=n.getColGroupDef();if(!(l&&l.marryChildren))return;const c=[];n.getLeafColumns().forEach(v=>{const w=e.indexOf(v);c.push(w)});const h=Math.max.apply(Math,c),g=Math.min.apply(Math,c),f=h-g,m=n.getLeafColumns().length-1;f>m&&(s=!1)}),s}function jw(e,t){if(!e||e.length==0)return;const s=t(e[0]);for(let i=1;i<e.length;i++)if(s!==t(e[i]))return;return s}function Kw(e,t,s){if(!t.length)return;const i=t.length===1?t[0]:null,n=jw(t,l=>l.getPinned());e.dispatchEvent({type:"columnPinned",pinned:n??null,columns:t,column:i,source:s})}function N0(e,t,s){if(!t.length)return;const i=t.length===1?t[0]:null,n=jw(t,l=>l.isVisible());e.dispatchEvent({type:"columnVisible",visible:n,columns:t,column:i,source:s})}function Yw(e,t,s,i){e.dispatchEvent({type:t,columns:s,column:s&&s.length==1?s[0]:null,source:i})}function au(e,t,s,i,n=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:n,finished:s,source:i})}function Ds(e,t,s){var L;const{colModel:i,rowGroupColsSvc:n,pivotColsSvc:l,autoColSvc:u,selectionColSvc:c,colAnimation:h,visibleCols:g,pivotResultCols:f,environment:m,valueColsSvc:v,eventSvc:w,gos:b}=e,R=i.getColDefCols()||[];if(!(R!=null&&R.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return re(32),!1;const D=(I,k,U,K,ne)=>{if(!I)return;const oe=T0(k,t.defaultState),z=oe("flex").value1;if(_w(e,I,oe("hide").value1,oe("sort").value1,oe("sortIndex").value1,oe("pinned").value1,z,s),z==null){const te=oe("width").value1;if(te!=null){const Q=I.getColDef().minWidth??m.getDefaultColumnMinWidth();Q!=null&&te>=Q&&I.setActualWidth(te,s)}}ne||!I.isPrimary()||(v==null||v.syncColumnWithState(I,s,oe),n==null||n.syncColumnWithState(I,s,oe,U),l==null||l.syncColumnWithState(I,s,oe,K))},A=(I,k,U)=>{var M,_;const K=qw(e,s),ne=k.slice(),oe={},z={},te=[],Q=[],de=[];let le=0;const B=(n==null?void 0:n.columns.slice())??[],ee=(l==null?void 0:l.columns.slice())??[];I.forEach(Z=>{const J=Z.colId;if(J.startsWith(_o)){te.push(Z),de.push(Z);return}if(Qi(J)){Q.push(Z),de.push(Z);return}const pe=U(J);pe?(D(pe,Z,oe,z,!1),vs(ne,pe)):(de.push(Z),le+=1)});const q=Z=>D(Z,null,oe,z,!1);ne.forEach(q),n==null||n.sortColumns(YC.bind(n,oe,B)),l==null||l.sortColumns(YC.bind(l,z,ee)),i.refreshCols(!1);const ce=(Z,J,ie=[])=>{J.forEach(pe=>{const ue=Z(pe.colId);vs(ie,ue),D(ue,pe,null,null,!0)}),ie.forEach(q)};return ce(Z=>(u==null?void 0:u.getColumn(Z))??null,te,(M=u==null?void 0:u.getColumns())==null?void 0:M.slice()),ce(Z=>(c==null?void 0:c.getColumn(Z))??null,Q,(_=c==null?void 0:c.getColumns())==null?void 0:_.slice()),H0(t,i,b),g.refresh(s),w.dispatchEvent({type:"columnEverythingChanged",source:s}),K(),{unmatchedAndAutoStates:de,unmatchedCount:le}};h==null||h.start();let{unmatchedAndAutoStates:T,unmatchedCount:F}=A(t.state||[],R,I=>i.getColDefCol(I));if(T.length>0||ge(t.defaultState)){const I=((L=f==null?void 0:f.getPivotResultCols())==null?void 0:L.list)??[];F=A(T,I,k=>(f==null?void 0:f.getPivotResultCol(k))??null).unmatchedCount}return h==null||h.finish(),F===0}function B0(e,t){var D,A;const{colModel:s,autoColSvc:i,selectionColSvc:n}=e,l=s.getColDefCols();if(!(l!=null&&l.length))return;const u=s.getColDefColTree(),c=dg(u),h=[];let g=1e3,f=1e3;const m=T=>{const F=$w(T);Ze(F.rowGroupIndex)&&F.rowGroup&&(F.rowGroupIndex=g++),Ze(F.pivotIndex)&&F.pivot&&(F.pivotIndex=f++),h.push(F)};(D=i==null?void 0:i.getColumns())==null||D.forEach(m),(A=n==null?void 0:n.getColumns())==null||A.forEach(m),c==null||c.forEach(m),Ds(e,{state:h},t);const v=(i==null?void 0:i.getColumns())??[],R=[...(n==null?void 0:n.getColumns())??[],...v,...l].map(T=>({colId:T.colId}));Ds(e,{state:R,applyOrder:!0},t)}function qw(e,t){const{rowGroupColsSvc:s,pivotColsSvc:i,valueColsSvc:n,colModel:l,sortSvc:u,eventSvc:c}=e,h={rowGroupColumns:(s==null?void 0:s.columns.slice())??[],pivotColumns:(i==null?void 0:i.columns.slice())??[],valueColumns:(n==null?void 0:n.columns.slice())??[]},g=Oh(e),f={};return g.forEach(m=>{f[m.colId]=m}),()=>{const m=(k,U,K,ne)=>{const oe=U.map(ne),z=K.map(ne);if(_n(oe,z))return;const Q=new Set(U);K.forEach(le=>{Q.delete(le)||Q.add(le)});const de=[...Q];c.dispatchEvent({type:k,columns:de,column:de.length===1?de[0]:null,source:t})},v=k=>{const U=[];return l.forAllCols(K=>{const ne=f[K.getColId()];ne&&k(ne,K)&&U.push(K)}),U},w=k=>k.getColId();m("columnRowGroupChanged",h.rowGroupColumns,(s==null?void 0:s.columns)??[],w),m("columnPivotChanged",h.pivotColumns,(i==null?void 0:i.columns)??[],w);const R=v((k,U)=>{const K=k.aggFunc!=null,ne=K!=U.isValueActive(),oe=K&&k.aggFunc!=U.getAggFunc();return ne||oe});R.length>0&&Yw(c,"columnValueChanged",R,t),au(c,v((k,U)=>k.width!=U.getActualWidth()),!0,t),Kw(c,v((k,U)=>k.pinned!=U.getPinned()),t),N0(c,v((k,U)=>k.hide==U.isVisible()),t);const L=v((k,U)=>k.sort!=U.getSort()||k.sortIndex!=U.getSortIndex());L.length>0&&(u==null||u.dispatchSortChangedEvents(t,L));const I=Oh(e);V0(g,I,t,l,c)}}function Oh(e){const{colModel:t,rowGroupColsSvc:s,pivotColsSvc:i}=e,n=t.getColDefCols();if(Ze(n)||!t.isAlive())return[];const l=s==null?void 0:s.columns,u=i==null?void 0:i.columns,c=[],h=f=>{const m=f.isRowGroupActive()&&l?l.indexOf(f):null,v=f.isPivotActive()&&u?u.indexOf(f):null,w=f.isValueActive()?f.getAggFunc():null,b=f.getSort()!=null?f.getSort():null,R=f.getSortIndex()!=null?f.getSortIndex():null;c.push({colId:f.getColId(),width:f.getActualWidth(),hide:!f.isVisible(),pinned:f.getPinned(),sort:b,sortIndex:R,aggFunc:w,rowGroup:f.isRowGroupActive(),rowGroupIndex:m,pivot:f.isPivotActive(),pivotIndex:v,flex:f.getFlex()??null})};t.forAllCols(f=>h(f));const g=new Map(t.getCols().map((f,m)=>[f.getColId(),m]));return c.sort((f,m)=>{const v=g.has(f.colId)?g.get(f.colId):-1,w=g.has(m.colId)?g.get(m.colId):-1;return v-w}),c}function $w(e){const t=(b,R)=>b??R??null,s=e.getColDef(),i=t(s.sort,s.initialSort),n=t(s.sortIndex,s.initialSortIndex),l=t(s.hide,s.initialHide),u=t(s.pinned,s.initialPinned),c=t(s.width,s.initialWidth),h=t(s.flex,s.initialFlex);let g=t(s.rowGroupIndex,s.initialRowGroupIndex),f=t(s.rowGroup,s.initialRowGroup);g==null&&(f==null||f==!1)&&(g=null,f=null);let m=t(s.pivotIndex,s.initialPivotIndex),v=t(s.pivot,s.initialPivot);m==null&&(v==null||v==!1)&&(m=null,v=null);const w=t(s.aggFunc,s.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:n,hide:l,pinned:u,width:c,flex:h,rowGroup:f,rowGroupIndex:g,pivot:v,pivotIndex:m,aggFunc:w}}function H0(e,t,s){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(n=>{n.colId!=null&&i.push(n.colId)}),z0(t.cols,i,t,s)}function z0(e,t,s,i){if(e==null)return;let n=[];const l={};t.forEach(c=>{if(l[c])return;const h=e.map[c];h&&(n.push(h),l[c]=!0)});let u=0;if(e.list.forEach(c=>{const h=c.getColId();if(l[h]!=null)return;h.startsWith(_o)?n.splice(u++,0,c):n.push(c)}),n=Ww(n,i),!Uw(n,s.getColTree())){re(39);return}e.list=n}function V0(e,t,s,i,n){const l={};t.forEach(f=>l[f.colId]=f);const u={};e.forEach(f=>{l[f.colId]&&(u[f.colId]=!0)});const c=e.filter(f=>u[f.colId]),h=t.filter(f=>u[f.colId]),g=[];h.forEach((f,m)=>{const v=c&&c[m];if(v&&v.colId!==f.colId){const w=i.getCol(v.colId);w&&g.push(w)}}),g.length&&n.dispatchEvent({type:"columnMoved",columns:g,column:g.length===1?g[0]:null,finished:!0,source:s})}var YC=(e,t,s,i)=>{const n=e[s.getId()],l=e[i.getId()],u=n!=null,c=l!=null;if(u&&c)return n-l;if(u)return-1;if(c)return 1;const h=t.indexOf(s),g=t.indexOf(i),f=h>=0,m=g>=0;return f&&m?h-g:f?-1:1},_0=class extends j{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Ln(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Ln(e.source)))}createColsFromColDefs(e){var T,F,L;const{beans:t}=this,{valueCache:s,colAutosize:i,rowGroupColsSvc:n,pivotColsSvc:l,valueColsSvc:u,visibleCols:c,colViewport:h,eventSvc:g}=t,f=this.colDefs?qw(t,e):void 0;s==null||s.expire();const m=(T=this.colDefCols)==null?void 0:T.list,v=(F=this.colDefCols)==null?void 0:F.tree,w=zw(t,this.colDefs,!0,v,e);Xi(t,(L=this.colDefCols)==null?void 0:L.tree,w.columnTree);const b=w.columnTree,R=w.treeDept,D=dg(b),A={};D.forEach(I=>A[I.getId()]=I),this.colDefCols={tree:b,treeDepth:R,list:D,map:A},n==null||n.extractCols(e,m),l==null||l.extractCols(e,m),u==null||u.extractCols(e,m),this.ready=!0,this.refreshCols(!0),c.refresh(e),h.checkViewportColumns(),g.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),g.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(i==null||i.applyAutosizeStrategy())}refreshCols(e){var R;if(!this.colDefCols)return;const t=(R=this.cols)==null?void 0:R.tree;this.saveColOrder();const{autoColSvc:s,selectionColSvc:i,rowNumbersSvc:n,quickFilter:l,pivotResultCols:u,showRowGroupCols:c,rowAutoHeight:h,visibleCols:g,colViewport:f,eventSvc:m}=this.beans,v=this.selectCols(u,this.colDefCols);this.createColumnsForService([s,i,n],v);const w=s0(this.gos,this.showingPivotResult);(!e||w)&&this.restoreColOrder(v),this.positionLockedCols(v),c==null||c.refresh(),l==null||l.refreshCols(),this.setColSpanActive(),h==null||h.setAutoHeightActive(v),g.clear(),f.clear(),!_n(t,this.cols.tree)&&m.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const s of e)s&&(s.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),s.addColumns(t))}selectCols(e,t){const s=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=s!=null;const{map:i,list:n,tree:l,treeDepth:u}=s??t;return this.cols={list:n.slice(),map:{...i},tree:l.slice(),treeDepth:u},s&&(s.list.some(h=>{var g;return((g=this.cols)==null?void 0:g.map[h.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var i;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(i=this.beans.valueColsSvc)==null?void 0:i.columns;return this.cols.list.filter(n=>{const l=hg(n);if(e){const u=t==null?void 0:t.includes(n);return l||u}else return l||n.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,s){Ds(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},s)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const s=new Map(t.map((g,f)=>[g,f]));if(!e.list.some(g=>s.has(g)))return;const n=new Map(e.list.map(g=>[g,!0])),l=t.filter(g=>n.has(g)),u=new Map(l.map(g=>[g,!0])),c=e.list.filter(g=>!u.has(g)),h=l.slice();c.forEach(g=>{let f=g.getOriginalParent();if(!f){h.push(g);return}const m=[];for(;!m.length&&f;)f.getLeafColumns().forEach(R=>{const D=h.indexOf(R)>=0,A=m.indexOf(R)<0;D&&A&&m.push(R)}),f=f.getOriginalParent();if(!m.length){h.push(g);return}const v=m.map(b=>h.indexOf(b)),w=Math.max(...v);h.splice(w+1,0,g)}),e.list=h}positionLockedCols(e){e.list=Ww(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:s,eventSvc:i}=this.beans;s.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var s;if(!this.cols)return;(s=this.beans.autoColSvc)==null||s.updateColumns(e);const t=Ln(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;Xi(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var n,l,u,c;const{pivotResultCols:t,autoColSvc:s,selectionColSvc:i}=this.beans;Fa((n=this.colDefCols)==null?void 0:n.list,e),Fa((l=s==null?void 0:s.columns)==null?void 0:l.list,e),Fa((u=i==null?void 0:i.columns)==null?void 0:u.list,e),Fa((c=t==null?void 0:t.getPivotResultCols())==null?void 0:c.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var n,l;if(t==null)return null;const{map:s,list:i}=t;if(typeof e=="string"&&s[e])return s[e];for(let u=0;u<i.length;u++)if(gg(i[u],e))return i[u];return((n=this.beans.autoColSvc)==null?void 0:n.getColumn(e))??((l=this.beans.selectionColSvc)==null?void 0:l.getColumn(e))??null}},pg=class extends j{constructor(){super(...arguments),this.dispatchColumnChangedEvent=Yw,this.columns=[],this.columnIndexMap={},this.updateIndexMap=()=>{this.columnIndexMap={},this.columns.forEach((e,t)=>this.columnIndexMap[e.getId()]=t)}}wireBeans(e){this.colModel=e.colModel,this.aggFuncSvc=e.aggFuncSvc,this.visibleCols=e.visibleCols}sortColumns(e){this.columns.sort(e),this.updateIndexMap()}setColumns(e,t){this.setColList(e,this.columns,this.eventName,!0,!0,this.columnProcessors.set,t)}addColumns(e,t){this.updateColList(e,this.columns,!0,!0,this.columnProcessors.add,this.eventName,t)}removeColumns(e,t){this.updateColList(e,this.columns,!1,!0,this.columnProcessors.remove,this.eventName,t)}getColumnIndex(e){return this.columnIndexMap[e]}setColList(e=[],t,s,i,n,l,u){const c=this.colModel.getCols();if(!c||c.length===0)return;const h=new Map;t.forEach((f,m)=>h.set(f,m)),t.length=0,ge(e)&&e.forEach(f=>{const m=this.colModel.getColDefCol(f);m&&t.push(m)}),t.forEach((f,m)=>{const v=h.get(f);if(v===void 0){h.set(f,0);return}i&&v!==m||h.delete(f)}),this.updateIndexMap(),(this.colModel.getColDefCols()||[]).forEach(f=>{const m=t.indexOf(f)>=0;l(f,m,u)}),n&&this.colModel.refreshCols(!1),this.visibleCols.refresh(u),this.dispatchColumnChangedEvent(this.eventSvc,s,[...h.keys()],u)}updateColList(e=[],t,s,i,n,l,u){if(!e||e.length===0)return;let c=!1;const h=new Set;if(e.forEach(f=>{if(!f)return;const m=this.colModel.getColDefCol(f);if(m){if(h.add(m),s){if(t.indexOf(m)>=0)return;t.push(m)}else{const v=t.indexOf(m);if(v<0)return;for(let w=v+1;w<t.length;w++)h.add(t[w]);vs(t,m)}n(m,s,u),c=!0}}),!c)return;this.updateIndexMap(),i&&this.colModel.refreshCols(!1),this.visibleCols.refresh(u);const g=Array.from(h);this.eventSvc.dispatchEvent({type:l,columns:g,column:g.length===1?g[0]:null,source:u})}extractCols(e,t=[]){const s=this.columns,i=[],n=[],{setFlagFunc:l,getIndexFunc:u,getInitialIndexFunc:c,getValueFunc:h,getInitialValueFunc:g}=this.columnExtractors;(this.colModel.getColDefCols()||[]).forEach(w=>{const b=t.indexOf(w)<0,R=w.getColDef(),D=h(R),A=g(R),T=u(R),F=c(R);let L;D!==void 0?L=D:T!==void 0?T===null?L=!1:L=T>=0:b?A!==void 0?L=A:F!==void 0?L=F!=null&&F>=0:L=!1:L=s.indexOf(w)>=0,L&&((b?T!=null||F!=null:T!=null)?i.push(w):n.push(w))});const m=w=>{const b=u(w.getColDef()),R=c(w.getColDef());return b??R};i.sort((w,b)=>{const R=m(w),D=m(b);return R===D?0:R<D?-1:1});const v=[].concat(i);return s.forEach(w=>{n.indexOf(w)>=0&&v.push(w)}),n.forEach(w=>{v.indexOf(w)<0&&v.push(w)}),s.forEach(w=>{v.indexOf(w)<0&&l(w,!1,e)}),v.forEach(w=>{s.indexOf(w)<0&&l(w,!0,e)}),this.columns=v,this.updateIndexMap(),this.columns}restoreColumnOrder(e,t){const s=this.columns,i=this.colModel.getColDefCols();if(!s.length||!i)return e;const n=Object.keys(t),l=new Set(n),u=new Set(n),c=new Set(s.map(F=>{const L=F.getColId();return u.delete(L),L}).concat(n)),h=[],g={};let f=0;for(let F=0;F<i.length;F++){const L=i[F].getColId();c.has(L)&&(h.push(L),g[L]=f++)}let m=1e3,v=!1,w=0;const b=this.columnOrdering.enableProp,R=this.columnOrdering.initialEnableProp,D=this.columnOrdering.indexProp,A=this.columnOrdering.initialIndexProp,T=F=>{const L=g[F];for(let I=w;I<L;I++){const k=h[I];u.has(k)&&(t[k][D]=m++,u.delete(k))}w=L};return s.forEach(F=>{const L=F.getColId();if(l.has(L))T(L),t[L][D]=m++;else{const I=F.getColDef();(I[D]===null||I[D]===void 0&&I[A]==null)&&(v||(I[b]||I[b]===void 0&&I[R]?T(L):(u.forEach(K=>{t[K][D]=m+g[K]}),m+=h.length,v=!0)),e[L]||(e[L]={colId:L}),e[L][D]=m++)}}),e}},W0=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let s;return typeof t!="number"?s=0:s=t+1,this.existingIds[e]=s,s}},jo=class extends j{};function Mu(e,t,s){return s&&e.addDestroyFunc(()=>t.destroyBean(s)),s??e}var dl=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(n=>this.addOrRemoveCssClass(n,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}},U0=0,ae=null,Me=class extends j{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=U0++,this.cssClassManager=new dl(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(s=>[s.selector,s])),e&&this.setTemplate(e)}preConstruct(){var t,s,i;this.wireTemplate(this.getGui());const e="component-"+((s=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:s.name);(i=this.css)==null||i.forEach(n=>this.beans.environment.addGlobalCSS(n,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(fw):null}applyElementsToComponent(e,t,s,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const n=this[t];if(n===ae)this[t]=i??e;else{const l=s&&s[t];if(!this.suppressDataRefValidation&&!l)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,t){const s=[];for(const i of e.childNodes??[])s.push(i);s.forEach(i=>{if(!(i instanceof HTMLElement))return;const n=this.createComponentFromElement(i,l=>{const u=l.getGui();if(u)for(const c of i.attributes??[])u.setAttribute(c.name,c.value)},t);if(n){if(n.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const l=Array.prototype.slice.call(i.children);n.addItems(l)}this.swapComponentForNode(n,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,s){const i=e.nodeName,n=this.getDataRefAttribute(e),l=i.indexOf("AG-")===0,u=l?this.componentSelectors.get(i):null;let c=null;if(u){const h=s&&n?s[n]:void 0;c=new u.component(h),c.setParentComponent(this),this.createBean(c,null,t)}else if(l)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,n,s,c),c}swapComponentForNode(e,t,s){const i=e.getGui();t.replaceChild(i,s),t.insertBefore(document.createComment(s.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(s=>s.setAttribute("tabindex",t.toString()))}setTemplate(e,t,s){let i;typeof e=="string"||e==null?i=ng(e):i=$e(e),this.setTemplateFromElement(i,t,s)}setTemplateFromElement(e,t,s,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let n=0;n<t.length;n++){const l=t[n];this.componentSelectors.set(l.selector,l)}this.wireTemplate(e,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let s=t;return e==null?null:(s||(s=this.eGui),yu(e)?{element:e,parent:s}:{element:e.getGui(),parent:s})}prependChild(e,t){const{element:s,parent:i}=this.getContainerAndElement(e,t)||{};!s||!i||i.insertAdjacentElement("afterbegin",s)}appendChild(e,t){const{element:s,parent:i}=this.getContainerAndElement(e,t)||{};!s||!i||i.appendChild(s)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:s}=t;Vx(this.eGui,e,{skipAriaHidden:s})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:s}=t;Pe(this.eGui,e,{skipAriaHidden:s});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,s){this.eGui.addEventListener(e,t,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function j0(e){return typeof e.then=="function"}var at=class Xr{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(s=>this.onDone(s),s=>this.onReject(s))}static all(t){return t.length?new Xr(s=>{let i=t.length;const n=new Array(i);t.forEach((l,u)=>{l.then(c=>{n[u]=c,i--,i===0&&s(n)})})}):Xr.resolve()}static resolve(t=null){return new Xr(s=>s(t))}then(t){return new Xr(s=>{this.status===1?s(t(this.resolution)):this.waiters.push(i=>s(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(s=>s(t))}onReject(t){}};function K0(e){return e?e.prototype&&"getGui"in e.prototype:!1}function Y0(e,t,s,i){const{name:n}=s;let l,u,c,h,g,f;if(t){const m=t,v=m[n+"Selector"],w=v?v(i):null,b=R=>{typeof R=="string"?l=R:R!=null&&R!==!0&&(e.isFrameworkComponent(R)?c=R:u=R)};w?(b(w.component),h=w.params,g=w.popup,f=w.popupPosition):b(m[n])}return{compName:l,jsComp:u,fwComp:c,paramsFromSelector:h,popupFromSelector:g,popupPositionFromSelector:f}}var q0=class extends j{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,s,i=!1){return this.getCompDetails(this.gridOptions,e,t,s,i)}getCompDetails(e,t,s,i,n=!1){var T;const{name:l,cellRenderer:u}=t;let{compName:c,jsComp:h,fwComp:g,paramsFromSelector:f,popupFromSelector:m,popupPositionFromSelector:v}=Y0(this.beans.frameworkOverrides,e,t,i),w;const b=F=>{const L=this.registry.getUserComponent(l,F);L&&(h=L.componentFromFramework?void 0:L.component,g=L.componentFromFramework?L.component:void 0,w=L.params)};if(c!=null&&b(c),h==null&&g==null&&s!=null&&b(s),h&&u&&!K0(h)&&(h=(T=this.agCompUtils)==null?void 0:T.adaptFunction(t,h)),!h&&!g){const{validation:F}=this.beans;n&&(c!==s||!s)?c?F!=null&&F.isProvidedUserComp(c)||Te(50,{compName:c}):s?F||Te(260,{...this.gos.getModuleErrorParams(),propName:l,compName:s}):Te(216,{name:l}):s&&!F&&Te(146,{comp:s});return}const R=this.mergeParams(e,t,i,f,w),D=h==null,A=h??g;return{componentFromFramework:D,componentClass:A,params:R,type:t,popupFromSelector:m,popupPositionFromSelector:v,newAgStackInstance:()=>this.newAgStackInstance(A,D,R,t)}}newAgStackInstance(e,t,s,i){var c;const n=!t;let l;n?l=new e:l=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(l);const u=(c=l.init)==null?void 0:c.call(l,s);return u==null?at.resolve(l):u.then(()=>l)}mergeParams(e,t,s,i=null,n){const l={...s,...n},u=e,c=u&&u[t.name+"Params"];if(typeof c=="function"){const h=c(s);Gt(l,h)}else typeof c=="object"&&Gt(l,c);return Gt(l,i),l}},$0={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},Z0={name:"headerComponent",optionalMethods:["refresh"]},X0={name:"innerHeaderComponent"},Q0={name:"innerHeaderGroupComponent"},J0={name:"headerGroupComponent"},eD={name:"innerRenderer",cellRenderer:!0,optionalMethods:["afterGuiAttached"]},tD={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},sD={name:"loadingCellRenderer",cellRenderer:!0},iD={name:"loadingOverlayComponent",optionalMethods:["refresh"]},nD={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},oD={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},rD={name:"loadingCellRenderer",cellRenderer:!0},lD={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},aD={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function uD(e,t){return e.getCompDetailsFromGridOptions($0,"agDragAndDropImage",t,!0)}function Pa(e,t,s){return e.getCompDetails(t,eD,void 0,s)}function cD(e,t,s){return e.getCompDetails(t,Z0,"agColumnHeader",s)}function dD(e,t,s){return e.getCompDetails(t,X0,void 0,s)}function hD(e,t){const s=t.columnGroup.getColGroupDef();return e.getCompDetails(s,J0,"agColumnGroupHeader",t)}function gD(e,t,s){return e.getCompDetails(t,Q0,void 0,s)}function pD(e,t){return e.getCompDetailsFromGridOptions(oD,void 0,t,!0)}function fD(e,t){return e.getCompDetailsFromGridOptions(rD,"agLoadingCellRenderer",t,!0)}function mD(e,t){return e.getCompDetailsFromGridOptions(lD,"agGroupRowRenderer",t,!0)}function CD(e,t){return e.getCompDetailsFromGridOptions(aD,"agDetailCellRenderer",t,!0)}function uu(e,t,s){return e.getCompDetails(t,tD,void 0,s)}function vD(e,t,s){return e.getCompDetails(t,sD,"agSkeletonCellRenderer",s,!0)}function wD(e,t){return e.getCompDetailsFromGridOptions(iD,"agLoadingOverlay",t,!0)}function bD(e,t){return e.getCompDetailsFromGridOptions(nD,"agNoRowsOverlay",t,!0)}function yD(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Zw=new Set,cu={},In={},ja,Xw=!1,SD=!1;function RD(e){const[t,s]=e.version.split(".")||[],[i,n]=ja.split(".")||[];return t===i&&s===n}function xD(e){ja||(ja=e.version);const t=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(e.version?RD(e)||Oo(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${ja}.`)):Oo(t(`'${e.moduleName}' is incompatible.`)),e.validate){const s=e.validate();s.isValid||Oo(`${s.message}`)}}function rl(e,t){xD(e);const s=e.rowModels??["all"];Zw.add(e);let i;t!==void 0?(Xw=!0,In[t]===void 0&&(In[t]={}),i=In[t]):i=cu,s.forEach(n=>{i[n]===void 0&&(i[n]={}),i[n][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(n=>rl(n,t))}function DD(e){delete In[e]}function Qw(e,t,s){const i=n=>{var l,u,c;return!!((l=cu[n])!=null&&l[e])||!!((c=(u=In[t])==null?void 0:u[n])!=null&&c[e])};return i(s)||i("all")}function fg(){return Xw}function MD(e,t){const s=In[e]??{};return[...Object.values(cu.all??{}),...Object.values(s.all??{}),...Object.values(cu[t]??{}),...Object.values(s[t]??{})]}function ED(){return new Set(Zw)}function AD(e,t){const s=In[e]??{};return[...Object.values(s.all??{}),...Object.values(s[t]??{})]}function TD(){return SD}var FD=class{static register(e){rl(e,void 0)}static registerModules(e){e.forEach(t=>rl(t,void 0))}},PD=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const s of Object.keys(e.providedBeanInstances))this.beans[s]=e.providedBeanInstances[s];e.beanClasses.forEach(s=>{const i=new s;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${s.name} is missing beanName`),this.createdBeans.push(i)}),(t=e.derivedBeans)==null||t.forEach(s=>{const{beanName:i,bean:n}=s(this);this.beans[i]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(s=>{var i,n;(i=s.preWireBeans)==null||i.call(s,this.beans),(n=s.wireBeans)==null||n.call(s,this.beans)}),e.forEach(s=>{var i;return(i=s.preConstruct)==null?void 0:i.call(s)}),t&&e.forEach(t),e.forEach(s=>{var i;return(i=s.postConstruct)==null?void 0:i.call(s)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},LD=class extends PD{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),DD(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},ID="ag-column-first",GD="ag-column-last";function Jw(e,t,s,i){return Ze(e)?[]:sb(e.headerClass,e,t,s,i)}function eb(e,t,s,i){return Ze(e)?[]:sb(e.toolPanelClass,e,t,s,i)}function tb(e,t,s){e.addOrRemoveCssClass(ID,s.isColAtEdge(t,"first")),e.addOrRemoveCssClass(GD,s.isColAtEdge(t,"last"))}function OD(e,t,s,i){return Re(t,{colDef:e,column:s,columnGroup:i})}function sb(e,t,s,i,n){if(Ze(e))return[];let l;if(typeof e=="function"){const u=OD(t,s,i,n);l=e(u)}else l=e;return typeof l=="string"?[l]:Array.isArray(l)?[...l]:[]}var W={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},kh=!1,du=0;function kD(e){du>0||(e.addEventListener("keydown",hu),e.addEventListener("mousedown",hu))}function ND(e){du>0||(e.removeEventListener("keydown",hu),e.removeEventListener("mousedown",hu))}function hu(e){const t=kh,s=e.type==="keydown";s&&(e.ctrlKey||e.metaKey||e.altKey)||t!==s&&(kh=s)}function BD(e){const t=lt(e);return kD(t),du++,()=>{du--,ND(t)}}function Eu(){return kh}function HD(e,t,s){t.addManagedElementListeners(s,{keydown:i=>{if(!i.defaultPrevented&&i.key===W.TAB){const n=i.shiftKey;fs(e,s,!1,n)||js(e,n)&&i.preventDefault()}}})}function $i(e,t,s=!1){const i=zx;let n=lw;t&&(n+=", "+t),s&&(n+=', [tabindex="-1"]');const l=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(h=>Ys(h)),u=Array.prototype.slice.apply(e.querySelectorAll(n));return u.length?((h,g)=>h.filter(f=>g.indexOf(f)===-1))(l,u):l}function Us(e,t=!1,s=!1,i=!1){const n=$i(e,i?".ag-tab-guard":null,s),l=t?Le(n):n[0];return l?(l.focus({preventScroll:!0}),!0):!1}function fs(e,t,s,i){const n=$i(t,s?':not([tabindex="-1"])':null),l=Ke(e);let u;s?u=n.findIndex(h=>h.contains(l)):u=n.indexOf(l);const c=u+(i?-1:1);return c<0||c>=n.length?null:n[c]}function ib(e,t=5){let s=0;for(;e&&BC(e)===null&&++s<=t;)e=e.parentElement;return BC(e)===null?null:e}function Gn(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function mg(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function js(e,t,s=!1){const i=e.ctrlsSvc.get("gridCtrl");return!s&&i.focusNextInnerContainer(t)?!0:((s||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function zD(e,t=!1){return e===W.DELETE?!0:!t&&e===W.BACKSPACE?nw():!1}var VD=class extends j{constructor(e,t,s,i){super(),this.cellCtrl=e,this.rowNode=s,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case W.ENTER:this.onEnterKeyDown(e);break;case W.F2:this.onF2KeyDown(e);break;case W.ESCAPE:this.onEscapeKeyDown(e);break;case W.TAB:this.onTabKeyDown(e);break;case W.BACKSPACE:case W.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case W.DOWN:case W.UP:case W.RIGHT:case W.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var s;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=this.cellCtrl.getFocusedCellPosition();(s=this.beans.navigation)==null||s.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:s}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(s==null||s.ensureCellVisible(i))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var h;const{cellCtrl:s,beans:i,rowNode:n}=this,{gos:l,rangeSvc:u,eventSvc:c}=i;if(!s.editing){if(c.dispatchEvent({type:"keyShortcutChangedCellStart"}),zD(e,l.get("enableCellEditingOnBackspace"))){if(u&&ol(l))u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(s.isCellEditable()){const{column:g}=s,f=this.beans.valueSvc.getDeleteValue(g,n);n.setDataValue(g,f,"cellClear")}}else(h=i.editSvc)==null||h.startRowOrCellEdit(s,e,t);c.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var i,n,l;const{cellCtrl:t,beans:s}=this;if(t.editing||this.rowCtrl.editing)(i=this.beans.editSvc)==null||i.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(s.gos.get("enterNavigatesVertically")){const u=e.shiftKey?W.UP:W.DOWN;(n=s.navigation)==null||n.navigateToNextCell(null,u,t.cellPosition,!1)}else(l=s.editSvc)==null||l.startRowOrCellEdit(t,W.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var i;const{cellCtrl:t,beans:s}=this;t.editing||(i=s.editSvc)==null||i.startRowOrCellEdit(t,W.F2,e)}onEscapeKeyDown(e){var i;const{cellCtrl:t,beans:s}=this;t.editing&&((i=s.editSvc)==null||i.stopRowOrCellEdit(t,!0))}processCharacter(e){var n;if(e.target!==this.eGui||this.cellCtrl.editing)return;const i=e.key;i===W.SPACE?this.onSpaceKeyDown(e):(n=this.beans.editSvc)!=null&&n.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault()}onSpaceKeyDown(e){var s;const{gos:t}=this.beans;!this.cellCtrl.editing&&Hs(t)&&((s=this.beans.selectionSvc)==null||s.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},_D=class extends j{constructor(e,t,s){super(),this.cellCtrl=e,this.column=s,this.beans=t}onMouseEvent(e,t){if(!xs(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var g;if((g=this.beans.touchSvc)!=null&&g.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:s,gos:i,editSvc:n}=this.beans,l=e.ctrlKey||e.metaKey;s&&l&&s.getCellRangeCount(this.cellCtrl.cellPosition)>1&&s.intersectLastRange(!0);const u=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(u);const c=this.column.getColDef();c.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{c.onCellClicked(u)})},0),(i.get("singleClickEdit")||c.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(s==null?void 0:s.getCellRanges().length)!=0)&&(n==null||n.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:s,cellCtrl:i}=this,{eventSvc:n,frameworkOverrides:l,gos:u,editSvc:c}=s,h=t.getColDef(),g=i.createEvent(e,"cellDoubleClicked");n.dispatchEvent(g),typeof h.onCellDoubleClicked=="function"&&window.setTimeout(()=>{l.wrapOutgoing(()=>{h.onCellDoubleClicked(g)})},0),!u.get("singleClickEdit")&&!u.get("suppressClickEdit")&&(c==null||c.startRowOrCellEdit(i,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:s,shiftKey:i}=e,n=e.target,{cellCtrl:l,beans:u}=this,{eventSvc:c,rangeSvc:h,rowNumbersSvc:g,focusSvc:f,gos:m}=u;if(this.isRightClickInExistingRange(e))return;const v=h&&!h.isEmpty(),w=this.containsWidget(n),{cellPosition:b}=l,R=ou(b.column);if(g&&R&&!g.handleMouseDownOnCell(b,e)){h&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!v){const A=m.get("enableCellTextSelection")&&e.defaultPrevented,T=(cl()||A)&&!l.editing&&!sg(n)&&!w;l.focusCell(T)}if(i&&v&&!f.isCellFocused(b)){e.preventDefault();const D=f.getFocusedCell();if(D){const{column:A,rowIndex:T,rowPinned:F}=D,L=u.rowRenderer.getRowByPosition({rowIndex:T,rowPinned:F}),I=L==null?void 0:L.getCellCtrl(A);I!=null&&I.editing&&I.stopEditing(),f.setFocusedCell({column:A,rowIndex:T,rowPinned:F,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!w){if(h)if(R&&e.preventDefault(),i)h.extendLatestRangeToCell(b);else{const D=t||s;h.setRangeToCell(b,D)}c.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const s=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(s&&i)return!0}return!1}containsWidget(e){return Io(e,"ag-selection-checkbox",3)||Io(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),s==null||s.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:s}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),s==null||s.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,s=t.contains(e.target),i=t.contains(e.relatedTarget);return s&&i}destroy(){super.destroy()}},WD=class extends j{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();_n(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,s=e.getColSpan(t),i=[];if(s===1)i.push(e);else{let n=e;const l=e.getPinned();for(let u=0;n&&u<s&&(i.push(n),n=this.beans.visibleCols.getColAfter(n),!(!n||Ze(n)||l!==n.getPinned()));u++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Le(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,s=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return s+i+(e||0)}return s+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const s=Bn(this.beans)*this.rowSpan;this.eContent.style.height=`${s}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},UD="ag-cell",jD="ag-cell-auto-height",KD="ag-cell-normal-height",YD="ag-cell-focus",qD="ag-cell-first-right-pinned",$D="ag-cell-last-left-pinned",ZD="ag-cell-not-inline-editing",XD="ag-cell-wrap-text",gu="cellCtrl";function nb(e,t){return Gw(e,t,gu)}var QD=0,Ka=class extends j{constructor(e,t,s,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=s;const{colId:n,colIdSanitised:l}=e;this.instanceId=n+"-"+QD++,this.colIdSanitised=l,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var i;const{beans:e}=this;this.positionFeature=new WD(this,e),this.customStyleFeature=(i=e.cellStyles)==null?void 0:i.createCellCustomStyleFeature(this,e),this.mouseListener=new _D(this,e,this.column),this.keyboardListener=new VD(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&ol(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,s,i,n,l,u){var c,h,g,f,m,v;this.comp=e,this.eGui=t,this.printLayout=n,u??(u=this),this.addDomData(u),this.addFeatures(),u.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,u),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(c=this.positionFeature)==null||c.init(),(h=this.customStyleFeature)==null||h.setComp(e),(g=this.tooltipFeature)==null||g.refreshTooltip(),(f=this.keyboardListener)==null||f.init(),(m=this.rangeFeature)==null||m.setComp(e),l&&this.isCellEditable()?(v=this.beans.editSvc)==null||v.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(w=>w()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var s;this.isAutoHeight=((s=this.beans.rowAutoHeight)==null?void 0:s.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var m,v;const{beans:s,column:i,rowNode:n,rangeFeature:l}=this,{userCompFactory:u}=s,c=this.getValueToDisplay();let h;const g=n.stub&&((m=n.groupData)==null?void 0:m[i.getId()])==null,f=i.getColDef();if(g||this.isCellRenderer()){const w=this.createCellRendererParams();!g||ou(i)?h=uu(u,f,w):h=vD(u,f,w)}if(!h&&!g&&((v=s.findSvc)!=null&&v.isMatch(n,i))){const w=this.createCellRendererParams();h=uu(u,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},w)}this.comp.setRenderDetails(h,c,e),!t&&l&&Ms(s,()=>l==null?void 0:l.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:s}=this.beans.gridOptions,i=nl(t),n=Qi(this.column);return s==="custom"&&i!=="selectionColumn"&&n?!1:e.checkboxSelection||n&&typeof t=="object"&&Pn(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),s=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||s||i||n}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:s,rowNode:i,comp:n,eGui:l,beans:{valueSvc:u,gos:c}}=this;return Re(c,{value:e,valueFormatted:t,getValue:()=>u.getValueForDisplay(s,i),setValue:g=>u.setValue(i,s,g),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:s.getPinned(),colDef:s.getColDef(),column:s,refreshCell:this.refreshCell.bind(this),eGridCell:l,eParentOfValue:n.getParentOfValue(),registerRowDragger:(g,f,m,v)=>this.registerRowDragger(g,f,v),setTooltip:(g,f)=>{var m;c.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(g,f),(m=this.tooltipFeature)==null||m.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var g,f,m,v,w,b;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),s=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,n=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,l=e&&e.forceRefresh||n||s,u=!!this.comp,c=this.updateAndFormatValue(u),h=l||c;if(u){if(h){this.showValue(s,!1);const R=(g=this.beans.filterManager)==null?void 0:g.isSuppressFlashingCellsBecauseFiltering();!i&&!R&&t.enableCellChangeFlash&&((f=this.beans.cellFlashSvc)==null||f.flashCell(this)),(m=this.customStyleFeature)==null||m.applyUserStyles(),(v=this.customStyleFeature)==null||v.applyClassesFromColDef()}(w=this.tooltipFeature)==null||w.refreshTooltip(),(b=this.customStyleFeature)==null||b.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,s=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(e,t){const s=this.column.getColDef();return s.equals?s.equals(e,t):e===t}addDomData(e){const t=this.eGui;Bo(this.beans.gos,t,gu,this),e.addDestroyFunc(()=>Bo(this.beans.gos,t,gu,null))}createEvent(e,t){const{rowNode:s,column:i,value:n,beans:l}=this;return Re(l.gos,{type:t,node:s,data:s.data,value:n,column:i,colDef:i.getColDef(),rowPinned:s.rowPinned,event:e,rowIndex:s.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var s;(s=this.mouseListener)==null||s.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:s}=this;tb(e,t,s.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);tw(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const s=this.comp.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(ou(this.column)&&(e=!0),Go(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(qD,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass($D,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var n;const{beans:t}=this;if(mg(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const s=this.isCellFocused();if(this.comp.addOrRemoveCssClass(YD,s),s&&e&&e.forceBrowserFocus){let l=this.comp.getFocusableElement();if(this.editing){const u=$i(l,null,!0);u.length&&(l=u[0])}l.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=t.gos.get("editType")==="fullRow";!s&&!i&&this.editing&&((n=t.editSvc)==null||n.stopRowOrCellEdit(this)),s&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Tn(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(UD,!0),e.addOrRemoveCssClass(ZD,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(jD,t),e.addOrRemoveCssClass(KD,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(XD,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),s=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(s),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(s)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(Ke(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,s);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,s){var n;const i=(n=this.beans.rowDragSvc)==null?void 0:n.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,s);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},ob="__ag_grid_instance";function rb(e,t){t[ob]=e.gridInstanceId}function ll(e,t){return JD(e,t.target)}function JD(e,t){let s=t;for(;s;){const i=s[ob];if(ge(i))return i===e.gridInstanceId;s=s.parentElement}return!1}function eM(e,t){var s;return((s=nb(e,t.target))==null?void 0:s.getFocusedCellPosition())??null}var zn=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(zn||{}),tM=class extends j{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const s={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:s,dragSource:e}),this.dragSvc.addDragSource(s)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:s}=this,i=t.find(n=>n.dragSource===e);i&&(s.removeDragSource(i.params),vs(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:s}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,s.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var s;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(s=e.onDragStarted)==null||s.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var s,i;(i=(s=this.dragSource)==null?void 0:s.onDragStopped)==null||i.call(s);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){var s;const{dragSource:e,lastDropTarget:t}=this;(s=e==null?void 0:e.onDragCancelled)==null||s.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var f,m;const s=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const n=this.dropTargets.filter(v=>this.isMouseOnDropTarget(e,v)),l=this.findCurrentDropTarget(e,n),{lastDropTarget:u,dragSource:c,dragAndDropImageComp:h,dragItem:g}=this;if(l!==u){if(this.leaveLastTargetIfExists(e,s,i,t),u!==null&&l===null&&((f=c==null?void 0:c.onGridExit)==null||f.call(c,g)),u===null&&l!==null&&((m=c==null?void 0:c.onGridEnter)==null||m.call(c,g)),this.enterDragTargetIfExists(l,e,s,i,t),l&&h){const{comp:v,promise:w}=h;v?v.setIcon(l.getIconName?l.getIconName():null,!1):w.then(b=>{b&&b.setIcon(l.getIconName?l.getIconName():null,!1)})}this.lastDropTarget=l}else if(l&&l.onDragging){const v=this.createDropTargetEvent(l,e,s,i,t);l.onDragging(v)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,s=[[e.getContainer()]];return t?s.concat(t):s}isMouseOnDropTarget(e,t){const s=this.getAllContainersFromDropTarget(t);let i=!1;const n=(c,h)=>{for(const g of h){const{width:f,height:m,left:v,right:w,top:b,bottom:R}=g.getBoundingClientRect();if(f===0||m===0)return!1;const D=c.clientX>=v&&c.clientX<w,A=c.clientY>=b&&c.clientY<R;if(!D||!A)return!1}return!0};for(const c of s)if(n(e,c)){i=!0;break}const{eElement:l,type:u}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(l)?!1:i&&t.isInterestedIn(u,l)}findCurrentDropTarget(e,t){const s=t.length;if(s===0)return null;if(s===1)return t[0];const n=Hn(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const l of n)for(const u of t)if(this.getAllContainersFromDropTarget(u).flatMap(h=>h).indexOf(l)!==-1)return u;return null}enterDragTargetIfExists(e,t,s,i,n){if(e&&e.onDragEnter){const l=this.createDropTargetEvent(e,t,s,i,n);e.onDragEnter(l)}}leaveLastTargetIfExists(e,t,s,i){const{lastDropTarget:n}=this;if(!n)return;if(n.onDragLeave){const u=this.createDropTargetEvent(n,e,t,s,i);n.onDragLeave(u)}const l=this.getDragAndDropImageComponent();l&&l.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(s=>s.external).find(s=>s.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const s=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return s.contains(i)}getHorizontalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientX,s=e.clientX;return t===s?null:t>s?"left":"right"}getVerticalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientY,s=e.clientY;return t===s?null:t>s?"up":"down"}createDropTargetEvent(e,t,s,i,n){const l=e.getContainer(),u=l.getBoundingClientRect(),{dragItem:c,dragSource:h,gos:g}=this,f=t.clientX-u.left,m=t.clientY-u.top;return Re(g,{event:t,x:f,y:m,vDirection:i,hDirection:s,dragSource:h,fromNudge:n,dragItem:c,dropZoneTarget:l})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&Lh(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:s}=e;if(s){const i=s.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(i),this.destroyBean(s)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:s}=this;if(!e)return;const i=uD(s,Re(t,{dragSource:e}));if(!i)return;const n=i.newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(l=>{!l||!this.isAlive()||(this.processDragAndDropImageComponent(l),this.dragAndDropImageComp.comp=l)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:s}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),rb(this.gos,i),s.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:n}=t;typeof n=="function"&&(n=n()),e.setLabel(n||""),i.style.top="20px",i.style.left="20px";const l=Ru(this.beans);this.dragAndDropImageParent=l,l?l.appendChild(i):re(54)}registerGridDropTarget(e,t){const s={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(s),t.addDestroyFunc(()=>this.removeDropTarget(s))}},sM=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const s=t||this.shouldSkipVerticalScroll();if(s&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<i.left+n,this.tickRight=e.clientX>i.right-n,this.tickUp=e.clientY<i.top+n&&!s,this.tickDown=e.clientY>i.bottom-n&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function lb(e,t){const s=e.column===t.column,i=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return s&&i&&n}function iM(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ge(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function nM(e){let t=0,s;const{pinnedRowModel:i,rowModel:n,pageBounds:l}=e;return i!=null&&i.getPinnedTopRowCount()?s="top":n.getRowCount()?(s=null,t=l.getFirstRow()):i!=null&&i.getPinnedBottomRowCount()&&(s="bottom"),s===void 0?null:{rowIndex:t,rowPinned:s}}function oM(e){let t,s=null;const{pinnedRowModel:i,pageBounds:n}=e,l=i==null?void 0:i.getPinnedBottomRowCount(),u=i==null?void 0:i.getPinnedTopRowCount();return l?(s="bottom",t=l-1):e.rowModel.getRowCount()?(s=null,t=n.getLastRow()):u&&(s="top",t=u-1),t===void 0?null:{rowIndex:t,rowPinned:s}}function Cg(e,t){var s,i;switch(t.rowPinned){case"top":return(s=e.pinnedRowModel)==null?void 0:s.getPinnedTopRow(t.rowIndex);case"bottom":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function La(e,t){var n;const s=(n=e.spannedRowRenderer)==null?void 0:n.getCellByPosition(t);if(s)return s;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function pu(e,t){const{rowIndex:s,rowPinned:i}=t,{pageBounds:n,pinnedRowModel:l,rowModel:u}=e;if(s===0)return i==="top"?null:i==="bottom"&&u.isRowsToRender()?{rowIndex:n.getLastRow(),rowPinned:null}:l!=null&&l.isRowsToRender("top")?{rowIndex:l.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const c=i?void 0:u.getRow(s);return ab(e,c,!0)??{rowIndex:s-1,rowPinned:i}}function qC(e,t){const{rowIndex:s,rowPinned:i}=t,{pageBounds:n,pinnedRowModel:l,rowModel:u}=e;if(rM(e,t))return i==="bottom"?null:i==="top"&&u.isRowsToRender()?{rowIndex:n.getFirstRow(),rowPinned:null}:l!=null&&l.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const c=i?void 0:u.getRow(s);return ab(e,c)??{rowIndex:s+1,rowPinned:i}}function ab(e,t,s){const{gos:i,rowRenderer:n}=e;if(!(t!=null&&t.sticky)||!xu(i))return;const l=s?n.getStickyTopRowCtrls():n.getStickyBottomRowCtrls();let u;for(let c=0;c<l.length;c++)if(l[c].rowNode.rowIndex===t.rowIndex){u=l[c+(s?-1:1)];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function rM(e,t){const{rowPinned:s,rowIndex:i}=t,{pinnedRowModel:n,pageBounds:l}=e;return s==="top"?((n==null?void 0:n.getPinnedTopRowCount())??0)-1<=i:s==="bottom"?((n==null?void 0:n.getPinnedBottomRowCount())??0)-1<=i:l.getLastRow()<=i}function ub(e,t,s){if(s===0)return!1;const i=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(i,n)<=s}var lM=class extends j{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,s=e.mouseDownListener;if(t.removeEventListener("mousedown",s),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,s=t.find(i=>i.dragSource===e);s&&(this.removeListener(s),vs(t,s))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:s,includeTouch:i,stopPropagationForTouch:n}=e;s.addEventListener("mousedown",t);let l=null;const u=this.gos.get("suppressTouch");i&&!u&&(l=c=>{sg(c.target)||(n&&c.stopPropagation(),this.onTouchStart(e,c))},s.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:l,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const s=t.touches[0];this.touchLastTime=s,this.touchStart=s;const i=h=>this.onTouchMove(h,e.eElement),n=h=>this.onTouchUp(h,e.eElement),l=h=>{h.cancelable&&h.preventDefault()},u=t.target,c=[{target:Hn(this.beans),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:i,options:{passive:!0}},{target:u,type:"touchend",listener:n,options:{passive:!0}},{target:u,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(s,this.touchStart,e.eElement)}onMouseDown(e,t){const s=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||s._alreadyProcessedByDragService||(s._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=g=>this.onMouseMove(g,e.eElement),n=g=>this.onMouseUp(g,e.eElement),l=g=>g.preventDefault(),u=g=>{g.key===W.ESCAPE&&this.cancelDrag(e.eElement)},c=Hn(this.beans),h=[{target:c,type:"mousemove",listener:i},{target:c,type:"mouseup",listener:n},{target:c,type:"contextmenu",listener:l},{target:c,type:"keydown",listener:u}];this.addTemporaryEvents(h),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:s,type:i,listener:n,options:l}=t;s.addEventListener(i,n,l)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:s,type:i,listener:n,options:l}=t;s.removeEventListener(i,n,l)})})}isEventNearStartEvent(e,t){const{dragStartPixels:s}=this.currentDragParams,i=ge(s)?s:4;return ub(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,s){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:s}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(i=this.currentDragParams)==null||i.onDragging(e)}onTouchMove(e,t){const s=this.getFirstActiveTouch(e.touches);s&&this.onCommonMove(s,this.touchStart,t)}onMouseMove(e,t){var s;cl()&&((s=lt(this.beans).getSelection())==null||s.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,s=t.get("enableCellTextSelection"),i=e.type==="mousemove",n=l=>{const u=l.target,c=u==null?void 0:u.tagName.toLocaleLowerCase();return!!(c!=null&&c.match("^a$|textarea|input|select|button"))};return s&&i&&e.cancelable&&ll(t,e)&&!n(e)}onTouchUp(e,t){let s=this.getFirstActiveTouch(e.changedTouches);s||(s=this.touchLastTime),this.onUpCommon(s,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,s;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(s=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||s.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function cb(e,t){return e+"_"+t}function st(e){return e instanceof db}var db=class extends j{constructor(e,t,s,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=s,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return cb(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{st(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Le(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(s=>{e+=s.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Ws(t)?e.push(t):st(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Ws(t)?e.push(t):st(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(s=>{if(st(s)&&(!s.displayedChildren||!s.displayedChildren.length))return;switch(s.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(s);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(s);break;default:this.displayedChildren.push(s);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Nh="row-group-",aM="t-",uM="b-",cM=0,Ko=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=cM++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var c;const{valueCache:s,selectionSvc:i,eventSvc:n}=this.beans,l=this.data;this.data=e,s==null||s.onDataChanged(),this.updateDataOnDetailNode(),i==null||i.updateRowSelectable(this),this.resetQuickFilterAggregateText();const u=this.createDataChangedEvent(e,l,t);(c=this.__localEventService)==null||c.dispatchEvent(u),n.dispatchEvent({type:"rowNodeDataChanged",node:this})}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,s){return{type:"dataChanged",node:this,oldData:t,newData:e,update:s}}getRowIndexString(){return this.rowIndex==null?(Te(13),null):this.rowPinned==="top"?aM+this.rowIndex:this.rowPinned==="bottom"?uM+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var u,c;const{selectionSvc:s}=this.beans,i=(u=s==null?void 0:s.createDaemonNode)==null?void 0:u.call(s,this),n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),s&&(s.updateRowSelectable(this),s.syncInRowNode(this,i));const l=this.createDataChangedEvent(e,n,!1);(c=this.__localEventService)==null||c.dispatchEvent(l)}setId(e){var s;const t=zo(this.beans.gos);if(t)if(this.data){const i=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Nh)&&Te(14,{groupPrefix:Nh})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,s){var i;(i=this.beans.expansionSvc)==null||i.setExpanded(this,e,t,s)}setDataValue(e,t,s){const{colModel:i,valueSvc:n,gos:l,selectionSvc:u}=this.beans,c=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!c)return!1;const h=n.getValueForDisplay(c,this);if(l.get("readOnlyEdit")){const{beans:{eventSvc:f},data:m,rowIndex:v,rowPinned:w}=this;return f.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:v,rowPinned:w,column:c,colDef:c.colDef,data:m,node:this,oldValue:h,newValue:t,value:t,source:s}),!1}const g=n.setValue(this,c,t,s);return this.dispatchCellChangedEvent(c,t,h),u==null||u.updateRowSelectable(this),g}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,s){var n;const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:s};(n=this.__localEventService)==null||n.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(s=>s.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,s="api"){var i;(i=this.beans.selectionSvc)==null||i.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:s})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Zi),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,n,l,u;(i=this.beans.validation)==null||i.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Zi),this.frameworkEventListenerService=(l=(n=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:l.call(n,this.frameworkEventListenerService,this.__localEventService);const s=((u=this.frameworkEventListenerService)==null?void 0:u.wrap(t))??t;this.__localEventService.addEventListener(e,s)}removeEventListener(e,t){var i;const s=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.removeLocalListener(e,s)}removeLocalListener(e,t){var s,i;(s=this.__localEventService)==null||s.removeEventListener(e,t),(i=this.__localEventService)!=null&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(re(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function hb(e,t,s){return Re(t,{type:s,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var dM={tag:"div",cls:"ag-filter"},hM=class extends Me{constructor(e,t){super(dM),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??at.resolve()}afterGuiAttached(e){var t,s;(s=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||s.then(i=>{var n;(n=i==null?void 0:i.afterGuiAttached)==null||n.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(s=>{var i;(i=s==null?void 0:s.afterGuiDetached)==null||i.call(s)})}createFilter(e){var i,n;const{column:t,source:s}=this;this.filterWrapper=((i=this.beans.filterManager)==null?void 0:i.getOrCreateFilterWrapper(t))??null,(n=this.filterWrapper)!=null&&n.filterPromise&&this.filterWrapper.filterPromise.then(l=>{const u=l.getGui();ge(u)||re(69,{guiFromFilter:u}),this.appendChild(u),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:s,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(ms(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},gb="ag-resizer-wrapper",zi=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),gM={tag:"div",cls:gb,children:[zi("eTopLeft","topLeft"),zi("eTop","top"),zi("eTopRight","topRight"),zi("eRight","right"),zi("eBottomRight","bottomRight"),zi("eBottom","bottom"),zi("eBottomLeft","bottomLeft"),zi("eLeft","left")]},vg=class extends j{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,s=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(s,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:s,width:i,minHeight:n,height:l,x:u,y:c}=this.config;this.offsetParent||this.setOffsetParent();let h=0,g=0;const f=Ys(this.element);if(f){const m=this.findBoundaryElement(),v=window.getComputedStyle(m);if(v.minWidth!=null){const w=m.offsetWidth-this.element.offsetWidth;g=parseInt(v.minWidth,10)-w}if(v.minHeight!=null){const w=m.offsetHeight-this.element.offsetHeight;h=parseInt(v.minHeight,10)-w}}if(this.minHeight=n||h,this.minWidth=s||g,i&&this.setWidth(i),l&&this.setHeight(l),(!i||!l)&&this.refreshSize(),e)this.center();else if(u||c)this.offsetElement(u,c);else if(f&&t){let m=this.boundaryEl,v=!0;if(m||(m=this.findBoundaryElement(),v=!1),m){const w=parseFloat(m.style.top),b=parseFloat(m.style.left);v?this.offsetElement(isNaN(b)?0:b,isNaN(w)?0:w):this.setPosition(b,w)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var i,n;if(!this.config.popup||e===this.movable)return;this.movable=e;const s=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((i=this.dragSvc)==null||i.addDragSource(s),this.moveElementDragListener=s):((n=this.dragSvc)==null||n.removeDragSource(s),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var u;const i=!!e[t],n=this.getResizerElement(t),l={dragStartPixels:0,eElement:n,onDragStart:c=>this.onResizeStart(c,t),onDragging:this.onResize.bind(this),onDragStop:c=>this.onResizeEnd(c,t)};(i||!this.isAlive()&&!i)&&(i?((u=this.dragSvc)==null||u.addDragSource(l),this.resizeListeners.push(l),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,s=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qr(s,e),e=uw(s),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(i?(s.style.maxHeight="unset",s.style.minHeight="unset"):t?Qr(s,e):(s.style.height=`${e}px`,s.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:s}=this.offsetParent;if(!s)return null;const i=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),l=e?this.position.y:i.top,u=e?0:n.top;let c=0;if(t){const g=this.element.parentElement;if(g){const{bottom:f}=g.getBoundingClientRect();c=f-i.bottom}}return s+u-l-c}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:s}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Vs(t,e),e=cw(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:n}=this.offsetParent,l=s?this.position.x:this.element.getBoundingClientRect().left;n&&e+l>n&&(e=n-l)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Vs(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var n;const{forcePopupParentAsOffsetParent:s}=this.config,i=s?this.boundaryEl:this.element;i&&((n=this.popupSvc)==null||n.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var s;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=pi(this.beans,(s=this.popupSvc)==null?void 0:s.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:s,isTop:i,anywhereWithin:n,topBuffer:l}=e,u=t.clientX-this.dragStartPosition.x,c=t.clientY-this.dragStartPosition.y,h=this.shouldSkipX(t,!!s,!!n,u)?0:u,g=this.shouldSkipY(t,!!i,l,c)?0:c;return{movementX:h,movementY:g}}shouldSkipX(e,t,s,i){const n=this.element.getBoundingClientRect(),l=this.offsetParent.getBoundingClientRect(),u=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:n.left;let h=c<=0&&l.left>=e.clientX||l.right<=e.clientX&&l.right<=u.right;return h?!0:(t?h=i<0&&e.clientX>c+l.left||i>0&&e.clientX<c+l.left:s?h=i<0&&e.clientX>u.right||i>0&&e.clientX<c+l.left:h=i<0&&e.clientX>u.right||i>0&&e.clientX<u.right,h)}shouldSkipY(e,t,s=0,i){const n=this.element.getBoundingClientRect(),l=this.offsetParent.getBoundingClientRect(),u=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:n.top;let h=c<=0&&l.top>=e.clientY||l.bottom<=e.clientY&&l.bottom<=u.bottom;return h?!0:(t?h=i<0&&e.clientY>c+l.top+s||i>0&&e.clientY<c+l.top:h=i<0&&e.clientY>u.bottom||i>0&&e.clientY<u.bottom,h)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild($e(gM)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${gb}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:s,forcePopupParentAsOffsetParent:i}=this.config;!s&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(s=>!s.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,s=0;for(let i=0;i<e.length;i++){const n=e[i],l=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let u=this.minHeight||0,c=this.minWidth||0;if(l){const h=window.getComputedStyle(n);h.minHeight&&(u=parseInt(h.minHeight,10)),h.minWidth&&(c=parseInt(h.minWidth,10))}else u=n.offsetHeight,c=n.offsetWidth;t+=u,s+=c}return{height:t,width:s}}applySizeToSiblings(e){let t=null;const s=this.getSiblings();if(s){for(let i=0;i<s.length;i++){const n=s[i];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=s[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:s}=this.config,{isTop:i,isRight:n,isBottom:l,isLeft:u}=this.currentResizer,c=n||u,h=l||i,{movementX:g,movementY:f}=this.calculateMouseMovement({e,isLeft:u,isTop:i}),m=this.position.x,v=this.position.y;let w=0,b=0;if(c&&g){const R=u?-1:1,D=this.getWidth(),A=D+g*R;let T=!1;u&&(w=D-A,(m+w<=0||A<=this.minWidth)&&(T=!0,w=0)),T||this.setWidth(A)}if(h&&f){const R=i?-1:1,D=this.getHeight(),A=D+f*R;let T=!1;i?(b=D-A,(v+b<=0||A<=this.minHeight)&&(T=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&D<A&&this.getMinSizeOfSiblings().height+A>this.element.parentElement.offsetHeight&&(T=!0),T||this.setHeight(A)}this.updateDragStartPosition(e.clientX,e.clientY),((t||s)&&w||b)&&this.offsetElement(m+w,v+b)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:s}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:n,movementY:l}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+n,s+l),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},pb="ag-focus-managed",Yo=class extends j{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const i=fs(this.beans,this.eFocusable,!1,s.shiftKey);i&&(i.focus(),s.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:s}}=this;e.classList.add(pb),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),s&&this.addManagedElementListeners(e,{focusout:s})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||xs(t))return;const{callbacks:s}=this;if(s.shouldStopEventPropagation(t)){_s(t);return}t.key===W.TAB?s.onTabKeyDown(t):s.handleKeyDown&&s.handleKeyDown(t)}})}},Ya={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},wg=class extends j{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},s=t.autoHeight?Ya.AUTO_HEIGHT:t.print?Ya.PRINT:Ya.NORMAL;this.view.updateLayoutClasses(s,t)}},Vi="Viewport",$C="fakeVScrollComp",ZC=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],XC=100,oh=150,pM=class extends j{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Mn(this,()=>this.lastScrollSource[1]=null,oh),this.resetLastVScrollDebounced=Mn(this,()=>this.lastScrollSource[0]=null,oh)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,s=>{this.centerRowsCtrl=s.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Vi)});for(const e of ZC){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),s=t?Mn(this,this.onVScroll.bind(this,Vi),XC):this.onVScroll.bind(this,Vi),i=t?Mn(this,this.onVScroll.bind(this,$C),XC):this.onVScroll.bind(this,$C);this.addManagedElementListeners(this.eBodyViewport,{scroll:s}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...ZC,Vi]){if(this.lastScrollSource[1]===t)continue;const s=this.getViewportForSource(t);Ja(s,e,this.enableRtl)}}getViewportForSource(e){return e===Vi?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:s}=t;if(this.shouldBlockScrollUpdate(1,s,!0))return;const i=Qa(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Vi?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:s}=this;s==null||s.setScrollTop(t),this.nextScrollTop=t,e===Vi?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,s!=null&&s.active?s.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},oh)}shouldBlockScrollUpdate(e,t,s=!1){return s&&!An()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=ig(this.eBodyViewport),{scrollHeight:s}=this.eBodyViewport;return e<0||e+t>s}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:s}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&Xa()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>s}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Vi)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Xa()?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),Ja(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:s,lastScrollTop:i}=this;return{top:i,bottom:i+s}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:s}=this.beans,i=s.getRowCount();let n=-1;for(let l=0;l<i;l++){const u=s.getRow(l);if(typeof e=="function"){if(u&&e(u)){n=l;break}}else if(e===u||e===u.data){n=l;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(It(this.gos,"print"))return;const{rowModel:s}=this.beans,i=s.getRowCount();if(typeof e!="number"||e<0||e>=i){re(88,{index:e});return}const{frameworkOverrides:n,pageBounds:l,rowContainerHeight:u,rowRenderer:c}=this.beans;n.wrapIncoming(()=>{var w;const h=this.ctrlsSvc.getGridBodyCtrl(),g=s.getRow(e);let f,m,v=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:b,stickyBottomHeight:R}=h,D=g.rowTop,A=g.rowHeight,T=l.getPixelOffset(),F=g.rowTop-T,L=F+g.rowHeight,I=this.getVScrollPosition(),k=u.divStretchOffset,U=I.top+k,K=I.bottom+k,ne=K-U,oe=u.getScrollPositionForPixel(F),z=u.getScrollPositionForPixel(L-ne),te=Math.min((oe+z)/2,F),Q=U+b>F,de=K-R<L;let le=null;t==="top"?le=oe-b:t==="bottom"?le=z+R:t==="middle"?le=te:Q?le=oe-b:de&&(le=z+R),le!==null&&(this.setVerticalScrollPosition(le),c.redraw({afterScroll:!0})),f=D!==g.rowTop||A!==g.rowHeight,m=b!==h.stickyTopHeight||R!==h.stickyBottomHeight,v++}while((f||m)&&v<10);(w=this.animationFrameSvc)==null||w.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:s,frameworkOverrides:i}=this.beans,n=s.getCol(e);if(!n||n.isPinned()||!this.visibleCols.isColDisplayed(n))return;const l=this.getPositionedHorizontalScroll(n,t);i.wrapIncoming(()=>{var u;l!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(l),this.centerRowsCtrl.onHorizontalViewportChanged(),(u=this.animationFrameSvc)==null||u.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:s,columnAfterEnd:i}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowsCtrl.getCenterWidth(),u=this.enableRtl;let c=(u?s:i)||n,h=u?i:s;t!=="auto"&&(c=t==="start",h=t==="end");const g=t==="middle";if(c||h||g){const{colLeft:f,colMiddle:m,colRight:v}=this.getColumnBounds(e);return g?m-l/2:c?u?v:f:u?f-l:v-l}return null}isColumnOutsideViewport(e){const{start:t,end:s}=this.getViewportBounds(),{colLeft:i,colRight:n}=this.getColumnBounds(e),l=this.enableRtl,u=l?t>n:s<n,c=l?s<i:t>i;return{columnBeforeStart:u,columnAfterEnd:c}}getColumnBounds(e){const t=this.enableRtl,s=this.visibleCols.bodyWidth,i=e.getActualWidth(),n=e.getLeft(),l=t?-1:1,u=t?s-n:n,c=u+i*l,h=u+i/2*l;return{colLeft:u,colMiddle:h,colRight:c}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),s=t,i=e+t;return{start:s,end:i,width:e}}},bg=class extends j{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=It(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:s}=this.beans,i=t.bodyWidth,n=t.getColsLeftWidth(),l=t.getDisplayedColumnsRightWidth();let u;e?u=i+n+l:(u=i,this.addSpacer&&(this.gos.get("enableRtl")?n:l)===0&&s.verticalScrollShowing&&(u+=s.getScrollbarWidth())),this.callback(u)}},fM=class extends j{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:s}=this,i=()=>{Ms(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),s.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const s=this.centerContainerCtrl.getCenterWidth();s!==this.centerWidth&&(this.centerWidth=s,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=ig(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function QC(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var mM=0,fu="renderedRow",Bh=class extends j{constructor(e,t,s,i,n){var l;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=n,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((l=t.pagination)==null?void 0:l.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+mM++,this.rowId=ps(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=QC(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=ps(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,s,i){var m;const{context:n,focusSvc:l}=this.beans;i=Mu(this,n,i);const u={rowComp:e,element:t,containerType:s,compBean:i};this.allRowGuis.push(u),this.updateGui(s,u),this.initialiseRowComp(u);const c=this.rowNode,h=this.rowType==="FullWidthLoading"||c.stub,g=!c.data&&this.beans.rowModel.getType()==="infinite";!h&&!g&&!c.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const f=(m=this.fullWidthGui)==null?void 0:m.element;f&&!this.editing&&l.isRowFocused(c.rowIndex,c.rowPinned)&&l.shouldTakeFocus()&&setTimeout(()=>f.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Hs(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(n=>s.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Vn(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),Bo(t,e.element,fu,this),e.compBean.addDestroyFunc(()=>Bo(t,e.element,fu,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=ps(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(Ah(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(Ah(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var i;const t=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const s=this.createBean(t,this.beans.context);this.rowDragComps.push(s),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==s),this.destroyBean(s,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),s=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(s)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var i;return(i=s==null?void 0:s.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:s,beans:{visibleCols:i}}=this,n=!!e||!i.isPinningLeft(),l=!!t,u=!!s||!i.isPinningRight();return n&&l&&u}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),l=!!this.rowNode.group&&!this.rowNode.footer&&cg(this.gos,i);e?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":l?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:s}=this.beans;if(!(s!=null&&s.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(s.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var s;if(!((s=this.beans.rowSpanSvc)!=null&&s.isCellSpanning(e,this.rowNode)))return new Ka(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){var t;return!!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,s=null){const i={list:[],map:{}},n=(u,c,h)=>{h!=null?i.list.splice(h,0,c):i.list.push(c),i.map[u]=c},l=[];for(const u of t){const c=u.getInstanceId();let h=e.map[c];h&&this.shouldRecreateCellCtrl(h)&&(h.destroy(),h=void 0),h||(h=this.getNewCellCtrl(u)),h&&n(c,h)}if(this.beans.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)){const u=this.beans.focusSvc.getFocusedCell().column,c=u.getInstanceId();if(!i.map[c]&&u.getPinned()==s&&this.beans.visibleCols.allCols.includes(u)){const g=this.getNewCellCtrl(u);g&&n(c,g)}}for(const u of e.list){const c=u.column.getInstanceId();if(i.map[c]!=null)continue;!this.isCellEligibleToBeRemoved(u,s)?l.push([c,u]):u.destroy()}if(l.length)for(const[u,c]of l){const h=i.list.findIndex(f=>f.column.getLeft()>c.column.getLeft()),g=h===-1?void 0:Math.max(h-1,0);n(u,c,g)}return i}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const s=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(s,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const n=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){const{column:n}=e;if(n.getPinned()!=t||this.shouldRecreateCellCtrl(e))return!0;const{editing:l}=e,{visibleCols:u}=this.beans,c=e.isCellFocused();return l||c?!(u.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||It(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ge(this.rowNode.oldRowTop),{visibleCols:s}=this.beans,i=s.isPinningLeft(),n=s.isPinningRight();if(t){const{slideInAnimation:l}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){l.fullWidth=!0;return}l.center=!0,l.left=i,l.right=n}else{const{fadeInAnimation:l}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){l.fullWidth=!0;return}l.center=!0,l.left=i,l.right=n}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(u,c)=>u?u.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(u.element,c).params):!0,t=e(this.fullWidthGui,null),s=e(this.centerGui,null),i=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&s&&i&&n}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(s=>{this.addRowDraggerToRow(s)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const s=e==="Above",i=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Tn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:s,column:i}=t;if(!(s.element===e.target))return;const u=this.rowNode,{focusSvc:c,navigation:h}=this.beans,g=c.getFocusedCell(),f={rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:(g==null?void 0:g.column)??i};h==null||h.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){var c;if(e.defaultPrevented||xs(e))return;const t=this.allRowGuis.find(h=>h.element.contains(e.target)),s=t?t.element:null,i=s===e.target,n=Ke(this.beans);let l=!1;s&&n&&(l=s.contains(n)&&n.classList.contains("ag-cell"));let u=null;!i&&!l&&(u=fs(this.beans,s,!1,e.shiftKey)),(this.isFullWidth()&&i||!u)&&((c=this.beans.navigation)==null||c.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(s=>Ys(s.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(s=>{Go(s.element,"tabindex",t)})}onFullWidthRowFocused(e){var n,l,u;const t=this.rowNode,s=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const c=this.beans.colModel.getCol(e==null?void 0:e.column),h=c==null?void 0:c.pinned;h?i=h==="right"?(n=this.rightGui)==null?void 0:n.element:(l=this.leftGui)==null?void 0:l.element:i=(u=this.centerGui)==null?void 0:u.element}i&&(i.classList.toggle("ag-full-width-focus",s),s&&(e!=null&&e.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const s={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(s.list.push(i),s.map[i.column.getInstanceId()]=i)}),s}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:s}=this;return Re(this.gos,{type:e,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned,event:t})}createRowEventWithSource(e,t){const s=this.createRowEvent(e,t);return s.source=this,s}onRowDblClick(e){xs(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),s=this.getColumnForFullWidth(t);if(!(!t||!s))return{rowGui:t,column:s}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Io(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:s,focusSvc:i}=this.beans;s==null||s.removeAllCellRanges();const n=this.findFullWidthInfoForEvent(e);if(!n)return;const{rowGui:l,column:u}=n,c=l.element,h=e.target;let g=e.defaultPrevented||cl();c&&c.contains(h)&&sg(h)&&(g=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:u,rowPinned:t.rowPinned,forceBrowserFocus:g})}onRowClick(e){if(xs(e)||this.lastMouseDownOnDragger)return;const{eventSvc:s,selectionSvc:i}=this.beans;s.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:s,rowNode:i}=this,n=Re(s,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(u,c,h,g)=>this.addFullWidthRowDragging(u,c,h,g),setTooltip:(u,c)=>{s.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(u,c)}}),l=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return CD(l,n);case"FullWidthGroup":return n.value=i.groupValue,n.valueFormatted=i.rowGroupColumn?this.beans.valueSvc.formatValue(i.rowGroupColumn,i,n.value):n.value,mD(l,n);case"FullWidthLoading":return fD(l,n);default:return pD(l,n)}}refreshRowTooltip(e,t){var s;this.fullWidthGui&&(this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,s="",i){const{rowDragSvc:n,context:l}=this.beans;if(!n||!this.isFullWidth())return;const u=n.createRowDragComp(()=>s,this.rowNode,void 0,e,t,i);this.createBean(u,l),this.addDestroyFunc(()=>{this.destroyBean(u,l)})}onUiLevelChanged(){const e=QC(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(s=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(s,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var c;const t=this.getPinnedForContainer(e),s=this.isFullWidth(),{rowNode:i,beans:n}=this,l=[];l.push("ag-row"),l.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&l.push("ag-opacity-zero"),l.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&l.push("ag-row-pinned"),i.isSelected()&&l.push("ag-row-selected"),i.footer&&l.push("ag-row-footer"),l.push("ag-row-level-"+this.rowLevel),i.stub&&l.push("ag-row-loading"),s&&l.push("ag-full-width-row"),(c=n.expansionSvc)==null||c.addExpandedCss(l,i),i.dragging&&l.push("ag-row-dragging");const{rowStyleSvc:u}=n;return u&&(u.processClassesFromGridOptions(l,i),u.preProcessRowClassRules(l,i)),l.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&l.push("ag-row-first"),this.isLastRowOnPage()&&l.push("ag-row-last"),s&&(t==="left"&&l.push("ag-cell-last-left-pinned"),t==="right"&&l.push("ag-cell-first-right-pinned")),l}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,s=>{(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:s}=e,{rowNode:i,beans:n,gos:l}=this;s.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),s.addManagedListeners(i,{mouseEnter:()=>{var u;!((u=n.dragSvc)!=null&&u.dragging)&&!l.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(s=>s.element);for(const s of t)s.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(s,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),n=lg(this.gos)?Ns(this.beans,this.rowNode).height:void 0,l=n?`${Math.min(s,n)-2}px`:void 0;this.forEachGui(e,u=>{u.element.style.height=`${t}px`,l&&u.element.style.setProperty("--ag-line-height",l)})}destroyFirstPass(e=!1){var i;this.active=!1;const{rowNode:t}=this;if(!e&&ag(this.gos)&&!t.sticky)if(t.rowTop!=null){const l=this.roundRowTopToBounds(t.rowTop);this.setRowTop(l)}else this.allRowGuis.forEach(l=>l.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));(i=this.fullWidthGui)!=null&&i.element.contains(Ke(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const s=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(s),this.beans.eventSvc.dispatchEvent(s),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=s=>(s.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,s=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);s!==this.rowFocused&&(this.rowFocused=s,this.setFocusedClasses()),!s&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const s=this.beans.pageBounds.getPixelOffset();return e+s*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ge(e)){const t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let s;if(t.sticky)s=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,n=this.applyPaginationOffset(i);s=t.isRowPinned()?n:this.beans.rowContainerHeight.getRealPixelPosition(n)}return s+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let s=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(s=i)}),s!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(s=i)}),s}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var l,u;const t=this.rowNode.getRowIndexString();if(t===null)return;const s=(((l=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:l.getRowCount())??0)+(((u=this.beans.filterManager)==null?void 0:u.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,n=s+this.rowNode.rowIndex+1;this.forEachGui(e,c=>{c.rowComp.setRowIndex(t),c.rowComp.addOrRemoveCssClass("ag-row-even",i),c.rowComp.addOrRemoveCssClass("ag-row-odd",!i),Tx(c.element,n)})}};function fb(e){var s;return e.altKey||e.ctrlKey||e.metaKey?!1:((s=e.key)==null?void 0:s.length)===1}function JC(e,t,s,i,n){const l=i?i.getColDef().suppressKeyboardEvent:void 0;if(!l)return!1;const u=Re(e,{event:t,editing:n,column:i,node:s,data:s.data,colDef:i.getColDef()});return!!(l&&l(u))}function CM(e){const{pinnedRowModel:t,rowModel:s}=e,[i,n]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],l=i?null:"top";let u,c;n?(u=null,c=s.getRowCount()-1):(u="bottom",c=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:h,rangeSvc:g}=e,f=h.allCols;!g||!(f!=null&&f.length)||g.setCellRange({rowStartIndex:0,rowStartPinned:l,rowEndIndex:c,rowEndPinned:u})}var vM=65,wM=67,bM=86,yM=68,SM=90,RM=89;function xM(e){const{keyCode:t}=e;let s;switch(t){case vM:s=W.A;break;case wM:s=W.C;break;case bM:s=W.V;break;case yM:s=W.D;break;case SM:s=W.Z;break;case RM:s=W.Y;break;default:s=e.code}return s}var DM=class extends j{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Iw("touchstart")?"touchstart":"mousedown"].forEach(s=>{const i=this.processMouseEvent.bind(this,s);this.addManagedElementListeners(this.element,{[s]:i})})}processMouseEvent(e,t){var n;if(!ll(this.gos,t)||xs(t))return;const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(s!=null&&s.column&&s.dispatchCellContextMenuEvent(t),(n=this.beans.contextMenuSvc)==null||n.handleContextMenuMouseEvent(t,void 0,i,s)):(s&&s.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:nb(t,e),rowCtrl:Gw(t,e,fu)}}processKeyboardEvent(e,t){const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(s?this.processCellKeyboardEvent(s,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,s){var c;const{rowNode:i,column:n,editing:l}=e;!JC(this.gos,s,i,n,l)&&t==="keydown"&&(!l&&((c=this.beans.navigation)!=null&&c.handlePageScrollingKey(s))||e.onKeyDown(s),this.doGridOperations(s,e.editing),fb(s)&&e.processCharacter(s)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(s,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,s){const{rowNode:i}=e,{focusSvc:n,navigation:l}=this.beans,u=n.getFocusedCell(),c=u&&u.column;if(!JC(this.gos,s,i,c,!1)){const g=s.key;if(t==="keydown")switch(g){case W.PAGE_HOME:case W.PAGE_END:case W.PAGE_UP:case W.PAGE_DOWN:l==null||l.handlePageScrollingKey(s,!0);break;case W.LEFT:case W.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case W.UP:case W.DOWN:e.onKeyboardNavigate(s);break;case W.TAB:e.onTabKeyDown(s);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",s))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!ll(this.gos,e))return;const s=xM(e),{clipboardSvc:i,undoRedo:n}=this.beans;if(s===W.A)return this.onCtrlAndA(e);if(s===W.C)return this.onCtrlAndC(i,e);if(s===W.D)return this.onCtrlAndD(i,e);if(s===W.V)return this.onCtrlAndV(i,e);if(s===W.X)return this.onCtrlAndX(i,e);if(s===W.Y)return this.onCtrlAndY(n);if(s===W.Z)return this.onCtrlAndZ(n,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:s,selectionSvc:i},gos:n}=this;s&&ol(n)&&t.isRowsToRender()?CM(this.beans):i&&(i==null||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:Fw(n)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||i!=null&&i.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||i!=null&&i.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:s,rowCtrl:i}=this.getControlsForEventTarget(t.target);s!=null&&s.editing||i!=null&&i.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},mb=class extends j{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,s=t!=null?`${t}px`:"";this.eContainer.style.height=s,this.eViewport&&(this.eViewport.style.height=s)}},Ia=e=>e.topRowCtrls,Ga=e=>e.getStickyTopRowCtrls(),Oa=e=>e.getStickyBottomRowCtrls(),ka=e=>e.bottomRowCtrls,Na=e=>e.allRowCtrls,rh=e=>e.getCtrls("top"),lh=e=>e.getCtrls("center"),ah=e=>e.getCtrls("bottom"),MM={center:{type:"center",name:"center-cols",getRowCtrls:Na,getSpannedRowCtrls:lh},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Na,getSpannedRowCtrls:lh},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Na,getSpannedRowCtrls:lh},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Na},topCenter:{type:"center",name:"floating-top",getRowCtrls:Ia,getSpannedRowCtrls:rh},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Ia,getSpannedRowCtrls:rh},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Ia,getSpannedRowCtrls:rh},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Ia},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Ga},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Ga},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Ga},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Ga},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Oa},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Oa},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Oa},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Oa},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:ka,getSpannedRowCtrls:ah},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:ka,getSpannedRowCtrls:ah},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:ka,getSpannedRowCtrls:ah},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:ka}};function Cb(e){return`ag-${hl(e).name}-viewport`}function qa(e){const t=hl(e);return t.container??`ag-${t.name}-container`}function EM(e){return`ag-${hl(e).name}-spanned-cells-container`}function hl(e){return MM[e]}var AM=["topCenter","topLeft","topRight"],TM=["bottomCenter","bottomLeft","bottomRight"],FM=["center","left","right"],PM=["center","left","right","fullWidth"],LM=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],IM=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],GM=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],vb=["stickyTopCenter","stickyTopLeft","stickyTopRight"],wb=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],OM=[...vb,"stickyTopFullWidth",...wb,"stickyBottomFullWidth"],kM=[...AM,...TM,...FM,...vb,...wb],NM=class extends j{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=hl(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new fM(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,s,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=s,this.eViewport=i,this.createManagedBean(new DM(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:n,rangeSvc:l}=this.beans,u=()=>this.onPinnedWidthChanged();this.forContainers(IM,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:u})}),this.forContainers(GM,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n==null?void 0:n.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:u})}),this.forContainers(PM,()=>this.createManagedBean(new mb(this.eContainer,this.name==="center"?i:void 0))),l&&this.forContainers(kM,()=>this.createManagedBean(l.createDragListenerFeature(this.eContainer))),this.forContainers(LM,()=>this.createManagedBean(new bg(c=>this.comp.setContainerWidth(`${c}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:s=>this.onDisplayedRowsChanged(s.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const s=this.options.getSpannedRowCtrls(e);s&&this.comp.setSpannedRowCtrls(s,!1)}})}listenOnDomOrder(){if(OM.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const s=this.gos.get("ensureDomOrder"),i=It(this.gos,"print");this.comp.setDomOrder(s||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=s=>{e.dragging&&s.cancelable&&s.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,s,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return il(this.eViewport)}getCenterViewportScrollLeft(){return Qa(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=pi(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return hw(this.eViewport)}getViewportScrollLeft(){return Qa(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||_x(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Ja(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const s=It(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||s,l=t.filter(u=>{const c=u.isFullWidth();return this.options.fullWidth?!n&&c:n||!c});this.comp.setRowCtrls({rowCtrls:l,useFlushSync:e})}},BM="ag-force-vertical-scroll",HM="ag-selectable",zM="ag-column-moving",VM=class extends j{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,s,i,n,l,u){var c,h;this.comp=e,this.eGridBody=t,this.eBodyViewport=s,this.eTop=i,this.eBottom=n,this.eStickyTop=l,this.eStickyBottom=u,this.eCenterColsViewport=s.querySelector(`.${Cb("center")}`),this.eFullWidthContainer=s.querySelector(`.${qa("fullWidth")}`),this.eStickyTopFullWidthContainer=l.querySelector(`.${qa("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=u.querySelector(`.${qa("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",g=>this.setCellTextSelection(g.currentValue)),this.createManagedBean(new wg(this.comp)),this.scrollFeature=this.createManagedBean(new pM(this.eBodyViewport)),(c=this.beans.rowDragSvc)==null||c.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,s,n,l,u]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(h=this.filterManager)==null||h.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const s=t&&e.getScrollbarWidth()||0,i=rw()?16:0,n=`calc(100% + ${s+i}px)`;Ms(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let s=this.gos.get("treeData");if(!s){const i=t.isPivotMode();s=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(s?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:s=>{const{target:i}=s,n=Io(i,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:s=>{const{target:i,relatedTarget:n}=s,l=t.contains(n),u=Io(n,"ag-root",t);Io(i,"ag-root",t)||(!l||u)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(zM,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(HM,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var n,l;const e=(((n=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:n.getRowCount())??0)+(((l=this.filterManager)==null?void 0:l.getHeaderRowCount())??0),{rowModel:t}=this.beans,s=t.isLastRowIndexKnown()?t.getRowCount():-1,i=s===-1?-1:e+s;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?BM:null,s=It(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||s&&Wx(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let s=t.sizesMeasured;const i=()=>{const n=s&&ag(this.gos)&&!e.stretching,l=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(l,n)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!s&&t.sizesMeasured&&(s=!0,i())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,s=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:s}),t==null||t.mockBodyContextMenu(this,s),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:s,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(s))&&ll(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:s,shiftKey:i}=e,n=i||Math.abs(t)>Math.abs(s),l=e.target;n?(this.eStickyTopFullWidthContainer.contains(l)||this.eStickyBottomFullWidthContainer.contains(l))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(s))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:s}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||s})}onBodyViewportContextMenu(e,t,s){var n;if(!e&&!s)return;this.gos.get("preventDefaultOnContextMenu")&&(e||s).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&((n=this.beans.contextMenuSvc)==null||n.showContextMenu({mouseEvent:e,touchEvent:s,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,s=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(s),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(s?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var n,l;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((n=this.filterManager)==null?void 0:n.getHeaderHeight())??0),s=((l=this.pinnedRowModel)==null?void 0:l.getPinnedTopTotalHeight())??0;let i=0;t>0&&(i+=t),s>0&&(i+=s),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:s}=this,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,l=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,u=i+l;s.setStickyBottomBottom(`${u}px`)}},bb=class extends Me{constructor(e,t){super(),this.direction=t,this.eViewport=ae,this.eContainer=ae,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",nw()||An())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=rw(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),s=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:s,touchend:s})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Ms(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;Cw(()=>Ys(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},_M={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},WM=class extends bb{constructor(){super(_M,"horizontal"),this.eLeftSpacer=ae,this.eRightSpacer=ae,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new bg(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const s=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();s&&(t+=i),Vs(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let n=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(n+=i),Vs(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,s=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,l=s?0:i===0&&t?16:i,u=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Qr(this.getGui(),l),Qr(this.eViewport,l),Qr(this.eContainer,l),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(u,100):u()}getScrollPosition(){return Qa(this.eViewport,this.enableRtl)}setScrollPosition(e){Ys(this.eViewport)||this.attemptSettingScrollPosition(e),Ja(this.eViewport,e,this.enableRtl)}},UM={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},jM=class extends bb{constructor(){super(UM,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new mb(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,s=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,n=i===0&&s?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",s),Vs(this.getGui(),n),Vs(this.eViewport,n),Vs(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const s=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),n=s.scrollTop;i!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Ys(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function KM(e){return e.cols?e.cols.treeDepth+1:-1}function zs(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function yg(e){const t=[],s=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of s){if(!i)continue;const n=i.getGroupRowCount()||0;for(let l=0;l<n;l++){const u=i.getGroupRowCtrlAtIndex(l),c=t[l];if(u){const h=YM(e,u);(c==null||h>c)&&(t[l]=h)}}}return t}function YM(e,t){let i=e.colModel.isPivotMode()?$M(e):Sb(e);const n=t.getHeaderCellCtrls();for(const l of n){const{column:u}=l,c=u.getAutoHeaderHeight();c!=null&&c>i&&u.isAutoHeaderHeight()&&(i=c)}return i}function Sg(e){let s=e.colModel.isPivotMode()?qM(e):Au(e);return e.colModel.forAllCols(i=>{const n=i.getAutoHeaderHeight();n!=null&&n>s&&i.isAutoHeaderHeight()&&(s=n)}),s}function Au(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function yb(e){return e.gos.get("floatingFiltersHeight")??Au(e)}function Sb(e){return e.gos.get("groupHeaderHeight")??Au(e)}function qM(e){return e.gos.get("pivotHeaderHeight")??Au(e)}function $M(e){return e.gos.get("pivotGroupHeaderHeight")??Sb(e)}var ZM=class extends j{setComp(e,t,s){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:n,touchSvc:l,ctrlsSvc:u}=i;n&&this.createManagedBean(new Yo(s,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const c=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:c}),l==null||l.mockHeaderContextMenu(this,c),u.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Ms(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var l;const{beans:e}=this;let t=0;const s=yg(e).reduce((u,c)=>u+c,0),i=Sg(e);if((l=e.filterManager)!=null&&l.hasFloatingFilters()&&(t+=yb(e)),t+=s,t+=i,this.headerHeight===t)return;this.headerHeight=t;const n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const s=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",s)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),s=e.shiftKey,i=s!==t?"LEFT":"RIGHT",{beans:n}=this,{headerNavigation:l,focusSvc:u}=n;(l.navigateHorizontally(i,!0,e)||!s&&u.focusOverlay(!1)||js(n,s,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:s}=this.beans;switch(e.key){case W.LEFT:t="LEFT";case W.RIGHT:{ge(t)||(t="RIGHT"),s.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case W.UP:t="UP";case W.DOWN:{ge(t)||(t="DOWN"),s.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:s,beans:i}=this;!t&&s.contains(Ke(i))||s.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,s){var u;const{menuSvc:i,ctrlsSvc:n}=this.beans;if(!e&&!s||!(i!=null&&i.isHeaderContextMenuEnabled()))return;const{target:l}=e??t;(l===this.eGui||l===((u=n.getHeaderRowContainerCtrl())==null?void 0:u.eViewport))&&i.showHeaderContextMenu(void 0,e,s)}},Rb=class extends j{constructor(e,t,s,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=s}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Le(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,s=e.get("suppressColumnMoveAnimation"),i=ge(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&i&&!s?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),s=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=s,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:s,visibleCols:i}=this.beans;if(!It(s,"print")||e.getPinned()==="left")return t;const l=i.getColsLeftWidth();if(e.getPinned()==="right"){const u=i.bodyWidth;return l+u+t}return l+t}setLeft(e){if(ge(e)&&(this.eCell.style.left=`${e}px`),st(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&Px(this.ariaEl,t.length)}}},XM=0,xb="headerCtrl",Db=class extends j{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+XM++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:s}=this.beans.focusSvc.focusedHeader,i=s.getDefinition(),n=i&&i.suppressHeaderKeyboardEvent;if(!ge(n))return!1;const l=Re(this.gos,{colDef:i,column:s,headerRowIndex:t,event:e});return!!n(l)}getWrapperHasFocus(){return Ke(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let s;if(typeof t=="function"){const i=this.getHeaderClassParams();s=t(i)}else s=t;s&&this.comp.setUserStyles(s)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:s,compBean:i}=e,{beans:n}=this,l=m=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:v,paddingBottom:w,borderBottomWidth:b,borderTopWidth:R}=Uo(this.eGui),D=v+w+b+R,T=t.offsetHeight+D;if(m<5){const F=lt(n),L=!F||!F.contains(t),I=T==0;if(L||I){Ah(()=>l(m+1),"raf",n);return}}this.setColHeaderHeight(this.column,T)};let u=!1,c;const h=()=>{const m=this.column.isAutoHeaderHeight();m&&!u&&g(),!m&&u&&f()},g=()=>{u=!0,l(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),c=pi(this.beans,t,()=>l(0))},f=()=>{u=!1,c&&c(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),c=void 0};h(),i.addDestroyFunc(()=>f()),i.addManagedListeners(this.column,{widthChanged:()=>u&&l(0)}),i.addManagedEventListeners({sortChanged:()=>{u&&window.setTimeout(()=>l(0))}}),s&&s(h)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:s,eGui:i}=this;!e||!t||!i||(tb(e,t,s.visibleCols),tw(i,s.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Gn(this.beans);this.eGui&&Go(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var l;const t=Ke(this.beans),s=e.key===W.LEFT||e.key===W.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const n=e.key===W.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const u=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(u,e.shiftKey),(l=this.resizeFeature)==null||l.toggleColumnResizing(!0)}else this.moveHeader(n)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:s}=this.beans;return s?s.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:s}=this;let i=e.key===W.LEFT!==t.get("enableRtl");const n=s.getPinned(),l=t.get("enableRtl");return n&&l!==(n==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case W.PAGE_DOWN:case W.PAGE_UP:case W.PAGE_HOME:case W.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=xb,{eGui:s,gos:i}=this;Bo(i,s,t,this),e.addDestroyFunc(()=>Bo(i,s,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,s){const i=e??t,{menuSvc:n,gos:l}=this.beans;l.get("preventDefaultOnContextMenu")&&i.preventDefault(),n!=null&&n.isHeaderContextMenuEnabled(s)&&n.showHeaderContextMenu(s,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:s}=this;e.isColumn?s.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):s.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},QM=class extends Db{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,s,i,n){this.comp=e;const{rowCtrl:l,column:u,beans:c}=this,{colResize:h,context:g,colHover:f,rangeSvc:m}=c,v=Mu(this,g,n);this.setGui(t,v),this.updateState(),this.setupWidth(v),this.setupMovingCss(v),this.setupMenuClass(v),this.setupSortableClass(v),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:b=>this.setRefreshFunction("measuring",b),compBean:v}),this.addColumnHoverListener(v),this.setupFilterClass(v),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(v),this.setupSelectAll(v),this.setupUserComp(),this.refreshAria(),h?this.resizeFeature=v.createManagedBean(h.createResizeFeature(l.pinned,u,s,e,this)):Pe(s,!1),f==null||f.createHoverFeature(v,[u],t),m==null||m.createRangeHighlightFeature(v,u,e),v.createManagedBean(new Rb(u,t,c)),v.createManagedBean(new Yo(t,{shouldStopEventPropagation:b=>this.shouldStopEventPropagation(b),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(v),v.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),v.addManagedListeners(u,{colDefChanged:()=>this.refresh()}),v.addManagedListeners(u,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const w=()=>this.checkDisplayName();v.addManagedEventListeners({columnValueChanged:w,columnRowGroupChanged:w,columnPivotChanged:w,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),v.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var s;(s=this.beans.colResize)==null||s.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.colDef;return Re(t.gos,{colDef:s,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return cD(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:s,gos:i}=this.beans;return Re(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!s&&(!this.openFilterEnabled||Lt(this.gos)),showColumnMenu:(l,u)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:l,positionBy:"button",onClosedCallback:u})},showColumnMenuAfterMouseClick:(l,u)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:l,positionBy:"mouse",onClosedCallback:u})},showFilter:l=>{e==null||e.showFilterMenu({column:this.column,buttonElement:l,containerType:"columnFilter",positionBy:"button"})},progressSort:l=>{t==null||t.progressSort(this.column,!!l,"uiColumnSorted")},setSort:(l,u)=>{t==null||t.setSortForColumn(this.column,l,!!u,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(l,u)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,u)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===W.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===W.ENTER&&this.onEnterKeyDown(e),e.key===W.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const s=this.comp.getUserCompInstance();ev(s)&&s.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),Eu()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),s=Jw(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(s),s.forEach(n=>{i.has(n)?i.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),i.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const s=this.column.getActualWidth();this.comp.setWidth(`${s}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var s;(s=this.comp)==null||s.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const s=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",s),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,s=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",s)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:s,beans:i}=this,n=yg(this.beans),l=n.reduce((f,m)=>f+=m,0)===0;if(s.addOrRemoveCssClass("ag-header-parent-hidden",l),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),s.addOrRemoveCssClass("ag-header-span-height",!1),s.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:u,isSpanningTotal:c}=this.column.getColumnGroupPaddingInfo();s.addOrRemoveCssClass("ag-header-span-height",u>0);const h=Sg(i);if(u===0){s.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${h}px`);return}s.addOrRemoveCssClass("ag-header-span-total",c);let g=0;for(let f=0;f<u;f++)g+=n[n.length-1-f];e.style.setProperty("top",`${-g}px`),e.style.setProperty("height",`${h+g}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),s=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(bx(s)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Lt(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Ke(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((s,i)=>s==="filter"?-1:i.charCodeAt(0)-s.charCodeAt(0)).map(s=>this.ariaDescriptionProperties.get(s)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),s=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return ev(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function ev(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var JM=0,uh=class extends j{constructor(e,t,s){super(),this.rowIndex=e,this.pinned=t,this.type=s,this.instanceId=JM++,this.allCtrls=[];const i=s=="group"?"ag-header-row-column-group":s=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=It(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,s=!0){this.comp=e,t=Mu(this,this.beans.context,t),s&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),s=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:s,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",s),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=It(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],s=yg(this.beans),i=Sg(this.beans);t.push(...s),t.push(i),e!=null&&e.hasFloatingFilters()&&t.push(yb(this.beans));let n=0;for(let u=0;u<this.rowIndex;u++)n+=t[u];const l=t[this.rowIndex];return{topOffset:n,rowHeight:l}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),s=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,s,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const s=i=>{const{focusSvc:n,visibleCols:l}=this.beans;return n.isHeaderWrapperFocused(i)?l.isVisible(i.column):!1};if(e)for(const[i,n]of e)s(n)?this.ctrlsById.set(i,n):this.destroyBean(n);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,s){if(e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(s&&(n=s.get(i),s.delete(i)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new QM(e,this));break}t.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:s}=this.beans;return["left",null,"right"].forEach(i=>{const n=s.getHeadersToRender(i,t);e=e.concat(n)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const s=this.allCtrls.find(n=>n.column==e);return s?s.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},eE=class extends j{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:s,ctrlsSvc:i,colModel:n,colMoves:l,filterManager:u}=this.beans;this.setupCenterWidth(),s==null||s.setupHeaderPinnedWidth(this),this.setupDragAndDrop(l,this.eViewport);const c=this.onDisplayedColumnsChanged.bind(this,u);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:c,advancedFilterEnabledChanged:c});const h=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(h,this),n.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:s,filterManager:i}=this.beans;let n=0;const l=t.getFocusHeaderToUseAfterRefresh(),u=()=>{const f=KM(s)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let m=0;m<f;m++){const v=this.createBean(new uh(n++,this.pinned,"group"));this.groupsRowCtrls.push(v)}},c=()=>{const f=n++,m=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==f);(m||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),m&&(this.columnsRowCtrl=this.createBean(new uh(f,this.pinned,"column")))},h=()=>{this.includeFloatingFilter=!!(i!=null&&i.hasFloatingFilters())&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}const m=n++;if(this.filtersRowCtrl){const v=this.filtersRowCtrl.rowIndex!==m;(!e||v)&&f()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new uh(m,this.pinned,"filter")))};u(),c(),h();const g=this.getAllCtrls();this.comp.setCtrls(g),this.restoreFocusOnHeader(t,l)}getHeaderCtrlForColumn(e){const t=s=>s==null?void 0:s.getHeaderCellCtrls().find(i=>i.column===e);if(Ws(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let s=0;s<this.groupsRowCtrls.length;s++){const i=t(this.groupsRowCtrls[s]);if(i)return i}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,s){const n=this.getAllCtrls()[e];return n?n.focusHeader(t,s):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const s=e==null?void 0:e.createBodyDropTarget(this.pinned,t);s&&this.createManagedBean(s)}restoreFocusOnHeader(e,t){if(!t)return;const{column:s}=t;s.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new bg(e=>this.comp.setCenterWidth(`${e}px`),!0))}},tE=class extends j{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:s}=this.beans,i=t&&Lt(this.gos)?t:s;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,s){var i;(i=this.activeMenuFactory)==null||i.showMenuAfterContextMenuEvent(e,t,s)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var s;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((s=this.activeMenuFactory)!=null&&s.isMenuEnabled(e))&&(Lt(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Ws(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(An()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Lt(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Lt(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Lt(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,s,i){const{positionBy:n,onClosedCallback:l}=t,u=t.column;if(n==="button"){const{buttonElement:c}=t;e==null||e.showMenuAfterButtonClick(u,c,s,l,i)}else if(n==="mouse"){const{mouseEvent:c}=t;e==null||e.showMenuAfterMouseEvent(u,c,s,l,i)}else if(u){const c=this.beans,h=c.ctrlsSvc;h.getScrollFeature().ensureColumnVisible(u,"auto"),Ms(c,()=>{var f;const g=(f=h.getHeaderRowContainerCtrl(u.getPinned()))==null?void 0:f.getHeaderCtrlForColumn(u);g&&(e==null||e.showMenuAfterButtonClick(u,g.getAnchorElementForMenu(i),s,l,!0))})}}};function tv(e,t,s){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",s))}var Mb=class extends Me{constructor(){super()}},sE={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},iE=class extends Mb{init(){var t;const e=Tn((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??sE),!e){const s=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("loadingOoo","Loading...")})}}},nE={tag:"span",cls:"ag-overlay-no-rows-center"},oE=class extends Mb{init(){var t;const e=Tn((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??nE),!e){const s=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=s("noRowsToShow","No Rows To Show")})}}};function Hh(e,t,s){const i=ve(e,t,s);if(i){const{className:l}=i;if(typeof l=="string"&&l.indexOf("ag-icon")>-1||typeof l=="object"&&l["ag-icon"])return i}const n=$e({tag:"span"});return n.appendChild(i),n}function ve(e,t,s){var l;let i=null;e==="smallDown"?re(262):e==="smallLeft"?re(263):e==="smallRight"&&re(264);const n=s&&s.getColDef().icons;if(n&&(i=n[e]),t.gos&&!i){const u=t.gos.get("icons");u&&(i=u[e])}if(i){let u;if(typeof i=="function")u=i();else if(typeof i=="string")u=i;else{re(38,{iconName:e});return}if(typeof u=="string")return ng(u);if(yu(u))return u;re(133,{iconName:e});return}else{const u=t.registry.getIcon(e);return u||(l=t.validation)==null||l.validateIcon(e),$e({tag:"span",cls:`ag-icon ag-icon-${u??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var rE=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",lE={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},aE=class extends Me{constructor(){super(),this.dragSource=null,this.eIcon=ae,this.eLabel=ae,this.eGhost=ae,this.registerCSS(rE)}postConstruct(){const e=t=>Hh(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(lE),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:s,dragSource:i,dropIconMap:n,gos:l}=this;ms(s);let u=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),u=n[e],s.classList.toggle("ag-shake-left-to-right",t),!(u===n.hide&&l.get("suppressDragLeaveHidesColumns"))&&u&&s.appendChild(u)}setLabel(e){this.eLabel.textContent=e}},uE=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",cE=class extends Me{constructor(e,t,s){super(t,s),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(uE)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:s,labelAlignment:i,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),s!=null&&this.setLabelWidth(s),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;ms(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Pe(t,!1),gs(t,"presentation")):(Pe(t,!0),gs(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const s=this.getGui().classList;return s.toggle("ag-label-align-left",e==="left"),s.toggle("ag-label-align-right",e==="right"),s.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(gw(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return aw(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},dE=class extends cE{constructor(e,t,s,i){super(e,t,s),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:s}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),s!=null&&this.onValueChange(s),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),s=this.getLabel();s==null||s==""||Sx(e)!==null?sl(e,""):sl(e,t??"")}setAriaLabel(e){return Xt(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Vs(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function hE(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Eb=class extends dE{constructor(e,t,s="text",i="input"){super(e,(e==null?void 0:e.template)??hE(i),[],t),this.inputType=s,this.displayFieldTag=i,this.eLabel=ae,this.eWrapper=ae,this.eInput=ae}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:s,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),s.classList.add(`${i}-input`),this.addCssClass("ag-input-field"),s.id=s.id||`ag-${this.getCompId()}-input`;const{inputName:n,inputWidth:l}=this.config;n!=null&&this.setInputName(n),l!=null&&this.setInputWidth(l),this.addInputListeners(),this.activateTabIndex([s])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return gw(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Go(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Xt(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return aw(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Go(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Go(this.eInput,"autocomplete",t)}return this}},Rg=class extends Eb{constructor(e,t="ag-checkbox",s="checkbox"){super(e,t,s),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const s=this.eInput;s.checked=e,s.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,s){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:s});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),s=this.selected=e.target.checked;this.refreshSelectedClass(s),this.dispatchChange(s,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},gl={selector:"AG-CHECKBOX",component:Rg},gE=".ag-checkbox-cell{height:100%}",pE={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},fE=class extends Me{constructor(){super(pE,[gl]),this.eCheckbox=ae,this.registerCSS(gE)}init(e){this.refresh(e);const{eCheckbox:t,beans:s}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),Qv(i,"polite"),this.addManagedListeners(i,{click:n=>{if(_s(n),t.isDisabled())return;const l=t.getValue();this.onCheckboxChanged(l)},dblclick:n=>{_s(n)}}),this.addManagedElementListeners(e.eGridCell,{keydown:n=>{if(n.key===W.SPACE&&!t.isDisabled()){e.eGridCell===Ke(s)&&t.toggle();const l=t.getValue();this.onCheckboxChanged(l),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,s=!0;const{value:i,column:n,node:l}=e;if(l.group&&n)if(typeof i=="boolean")t=i;else{const m=n.getColId();m.startsWith(_o)?t=i==null||i===""?void 0:i==="true":l.aggData&&l.aggData[m]!==void 0?t=i??void 0:s=!1}else t=i??void 0;const{eCheckbox:u}=this;if(!s){u.setDisplayed(!1);return}u.setValue(t);const c=e.disabled??!(n!=null&&n.isCellEditable(l));u.setDisabled(c);const h=this.getLocaleTextFunc(),g=sw(h,t),f=c?g:`${h("ariaToggleCellValue","Press SPACE to toggle cell value")} (${g})`;u.setInputAriaLabel(f)}onCheckboxChanged(e){const{eventSvc:t,params:s}=this,{column:i,node:n,value:l}=s,u={column:i,colDef:i.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:l};t.dispatchEvent({type:"cellEditingStarted",...u});const c=n.setDataValue(i,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...u,oldValue:l,newValue:e,valueChanged:c}),c||this.updateCheckbox(s)}},mE="ROOT_NODE_ID",CE=class extends j{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(s=>s.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=mE,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,s)=>this.createRowNode(t,s)))??[]}setImmutableRowData(e,t){const s=zo(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),n=e.changedRowNodes,l=new Set,u=this.rootNode,c=u.allLeafChildren,h=c.length;let g=!1,f=!1,m=!1,v=!1;for(let b=0,R=-1,D=t.length;b<D;b++){const A=t[b];let T=this.getRowNode(s({data:A,level:0}));if(!T)g=!0,T=this.createRowNode(A,-1),n.add(T);else{if(i){const F=T.sourceRowIndex;v||(v=F<=R||g),R=F}T.data!==A&&(m=!0,T.updateData(A),n.update(T))}l.add(T)}const w=[];for(let b=0;b<h;b++){const R=c[b];l.has(R)||(f=!0,R.isSelected()&&w.push(R),this.rowNodeDeleted(R),n.remove(R))}if(g||f||v){const b=new Array(l.size);let R=0;if(!i)for(let A=0;A<h;++A){const T=c[A];l.delete(T)&&(T.sourceRowIndex=R,b[R++]=T)}for(const A of l)A.sourceRowIndex=R,b[R++]=A;u.allLeafChildren=b;const D=u.sibling;D&&(D.allLeafChildren=b),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=v)}(g||f||v||m)&&(this.deselectNodes(w),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,s=this.allNodesMap;s[t]===e&&delete s[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const s={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],n=zo(this.gos);return this.executeRemove(n,e,s,i),this.executeUpdate(n,e,s,i),this.executeAdd(e,s),this.deselectNodes(i),s}executeAdd(e,t){const s=e.add;if(!(s!=null&&s.length))return;let i=this.rootNode.allLeafChildren,n=i.length;if(typeof e.addIndex=="number"&&(n=this.sanitizeAddIndex(e.addIndex),n>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let m=0;m<i.length;m++){const v=i[m];if((v==null?void 0:v.rowIndex)==n-1){n=m+1;break}}const l=s.length,u=t.changedRowNodes,c=new Array(l);for(let f=0;f<l;f++){const m=this.createRowNode(s[f],n+f);u.add(m),c[f]=m}const h=this.rootNode;if(n<i.length){const f=i.slice(0,n),m=i.slice(n,i.length),v=f.length+c.length;for(let w=0,b=m.length;w<b;++w)m[w].sourceRowIndex=v+w;i=[...f,...c,...m],t.rowsInserted=!0}else i=i.concat(c);h.allLeafChildren=i;const g=h.sibling;g&&(g.allLeafChildren=i),t.rowNodeTransaction.add=c}executeRemove(e,t,{changedRowNodes:s,rowNodeTransaction:i},n){var g,f;const{remove:l}=t;if(!(l!=null&&l.length))return;const u={};l.forEach(m=>{const v=this.lookupRowNode(e,m);v&&(v.isSelected()&&n.push(v),v.clearRowTopAndRowIndex(),u[v.id]=!0,delete this.allNodesMap[v.id],i.remove.push(v),s.remove(v))});const c=this.rootNode;c.allLeafChildren=((g=c.allLeafChildren)==null?void 0:g.filter(m=>!u[m.id]))??null,(f=c.allLeafChildren)==null||f.forEach((m,v)=>{m.sourceRowIndex=v});const h=c.sibling;h&&(h.allLeafChildren=c.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:s,rowNodeTransaction:i},n){const{update:l}=t;l!=null&&l.length&&l.forEach(u=>{const c=this.lookupRowNode(e,u);c&&(c.updateData(u),!c.selectable&&c.isSelected()&&n.push(c),i.update.push(c),s.update(c))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var n;const t="rowDataChanged",s=this.beans.selectionSvc,i=e.length>0;i&&(s==null||s.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(n=s==null?void 0:s.updateGroupsFromChildrenSelections)==null||n.call(s,t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(s==null?void 0:s.getSelectedNodes())??null,serverSideState:null})}sanitizeAddIndex(e){var s;const t=((s=this.rootNode.allLeafChildren)==null?void 0:s.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const s=new Ko(this.beans);return s.parent=this.rootNode,s.level=0,s.group=!1,s.expanded=!1,s.sourceRowIndex=t,s.setDataAndId(e,String(this.nextId)),this.allNodesMap[s.id]&&re(2,{nodeId:s.id}),this.allNodesMap[s.id]=s,this.nextId++,s}lookupRowNode(e,t){var i,n;let s;if(e){const l=e({data:t,level:0});if(s=this.allNodesMap[l],!s)return Te(4,{id:l}),null}else if(s=(n=(i=this.rootNode)==null?void 0:i.allLeafChildren)==null?void 0:n.find(l=>l.data===t),!s)return Te(5,{data:t}),null;return s||null}},ks=(e=>(e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled",e.StoreNotStarted="StoreNotStarted",e))(ks||{}),vE={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},wE=class extends Me{constructor(){super(vE,[gl]),this.eCheckbox=ae}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:s}=this,i=t.isSelected(),n=sw(e,i),[l,u]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],c=e(l,u);s.setValue(i,!0),s.setInputAriaLabel(`${c} (${n})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:_s,click:i=>{var n;_s(i),(n=this.beans.selectionSvc)==null||n.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:n})=>{const l=typeof i=="object"?ih(i):void 0,u=typeof n=="object"?ih(n):void 0;l!==u&&this.onSelectableChanged()}),Ih(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:s,gos:i}=this;let n=t.selectable;const l=this.getIsVisible();if(n)if(typeof l=="function"){const h=s==null?void 0:s.callbackParams;if(!e)n=l({...h,node:t,data:t.data});else{const g=e.createColumnFunctionCallbackParams(t);n=l({...h,...g})}}else n=l??!1;const u=i.get("rowSelection");if(u&&typeof u!="string"?!ih(u):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!n),this.setVisible(!0),this.setDisplayed(!0);return}if(s!=null&&s.removeHidden){this.setDisplayed(n);return}this.setVisible(n)}getIsVisible(){var s,i;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Pn(t):(i=(s=this.column)==null?void 0:s.getColDef())==null?void 0:i.checkboxSelection}},bE=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const s=t[0].id===this.rootId,i=t.findIndex(n=>n.id===e.id);if(i>-1){const n=t.slice(0,i),l=t.slice(i+1);return this.setEndRange(e),s?{keep:n,discard:l}:{keep:l,discard:n}}else return{keep:t,discard:[]}}extend(e,t=!1){const s=this.getRoot();if(s==null){const n=this.getRange().slice();return t&&e.depthFirstSearch(l=>!l.group&&n.push(l)),n.push(e),this.setRoot(e),{keep:n,discard:[]}}const i=this.rowModel.getNodesInRangeForSelection(s,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(n=>n.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const n=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:n}}}},yE=class extends j{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Ke(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new Rg);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),gs(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:i})=>{const n=l=>typeof l=="string"||!l||l.mode==="singleRow"?void 0:l.selectAll;n(s)!==n(i)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,s=this.cbSelectAll,i=t.getSelectAllState(e);s.setValue(i);const n=t.hasNodesToSelect(e);s.setDisabled(!n),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:s,cbSelectAll:i,cbSelectAllVisible:n}=this,u=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),c=t("ariaRowSelectAll","Press Space to toggle all rows selection");s.setAriaDescriptionProperty("selectAll",n?`${c} (${u})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||s.announceAriaDescription()}checkSelectionType(e){return Vo(this.gos)?!0:(re(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:s}=this.beans;return fi(t)||Cs(t)?!0:(re(129,{feature:e,rowModel:s.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let s="uiSelectAll";t==="currentPage"?s="uiSelectAllCurrentPage":t==="filtered"&&(s="uiSelectAllFiltered");const i={source:s,selectAll:t},n=this.beans.selectionSvc;e?n.selectAllRowNodes(i):n.deselectAllRowNodes(i)}isCheckboxSelection(){var g;const{column:e,gos:t,beans:s}=this,i=t.get("rowSelection"),n=e.getColDef(),{headerCheckboxSelection:l}=n;let u=!1;const c=typeof i=="object";if(c){const f=Qi(e),m=hg(e);(nl(i)==="autoGroupColumn"&&m||f&&((g=s.selectionColSvc)!=null&&g.isSelectionColumnEnabled()))&&(u=Wa(i))}else typeof l=="function"?u=l(Re(t,{column:e,colDef:n})):u=!!l;const h=c?"headerCheckbox":"headerCheckboxSelection";return u&&this.checkRightRowModelType(h)&&this.checkSelectionType(h)}getSelectAllMode(){const e=Fw(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:s}=this.column.getColDef();return t?"currentPage":s?"filtered":"all"}},SE=class extends j{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new bE(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const s=Ih(e);s!==this.isRowSelectable&&(this.isRowSelectable=s,this.updateSelectable())}),this.isRowSelectable=Ih(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new wE}createSelectAllFeature(e){return new yE(e)}isMultiSelect(){return Vo(this.gos)}onRowCtrlSelected(e,t,s){const i=!!e.rowNode.isSelected();e.forEachGui(s,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",i);const l=n.element;Gx(l,i),l.contains(Ke(this.beans))&&t(n)})}announceAriaRowSelection(e){var n;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(n=this.beans.ariaAnnounce)==null||n.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Hs(this.gos)}updateRowSelectable(e,t){var i;const s=((i=this.isRowSelectable)==null?void 0:i.call(this,e))??!0;return this.setRowSelectable(e,s,t),s}setRowSelectable(e,t,s){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),s)return;if(nu(this.gos)){const n=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:n??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var i;let t=!1,s=!1;if(!((i=e.childrenAfterGroup)!=null&&i.length))return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){const l=e.childrenAfterGroup[n];let u=l.isSelected();if(!l.selectable){const c=this.calculateSelectedFromChildren(l);if(c===null)continue;u=c}switch(u){case!0:t=!0;break;case!1:s=!0;break;default:return}}if(!(t&&s))return t?!0:s?!1:e.selectable?e.__selected:null}selectRowNode(e,t,s,i="api"){const n=!e.selectable&&t,l=e.__selected===t;if(n||l)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const u=e.sibling;return u&&u.footer&&u.__localEventService&&u.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...hb(e,this.gos,"rowSelected"),event:s||null,source:i}),!0}isCellCheckboxSelection(e,t){const s=this.gos.get("rowSelection");if(s&&typeof s!="string"){const i=Qi(e)&&Pn(s);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,s,i){const{gos:n,selectionCtx:l}=this,u=e.isSelected(),c=nu(n),h=l0(n),g=a0(n),f=this.isMultiSelect(),m=i==="rowClicked";if(m&&c&&e.group||m&&!(h||g))return null;if(t&&s&&f){const v=l.getRoot();if(v)if(v.isSelected()){const w=l.isInRange(e)?l.truncate(e):l.extend(e,c);return{deselect:w.discard,select:w.keep,reset:!1}}else{const w=l.extend(e,c);return{select:[],deselect:w.keep,reset:!1}}else return null}else if(t&&f){const v=l.selectAll?this.beans.rowModel.getRow(0):void 0,w=l.getRoot(v),b=l.isInRange(e)?l.truncate(e):l.extend(e,c);return{select:b.keep,deselect:b.discard,reset:l.selectAll||!!(w&&!w.isSelected())}}else{if(s)return l.setRoot(e),m&&u&&!g?null:{node:e,newValue:!u,clearSelection:!f};{l.setRoot(e);const v=u0(n),w=Tw(n)==="filteredDescendants",b=m&&(!v||!h);if(w&&u===void 0&&fi(n))return{node:e,newValue:!1,clearSelection:!f||b};if(m){const R=u?!v:h;return R===u&&!b||R&&!h||!R&&!g?null:{node:e,newValue:R,clearSelection:!f||b}}return{node:e,newValue:!u,clearSelection:!f||b}}}}},RE='.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;transition:background-color .1s;:where(.ag-toggle-button-input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-toggle-button-height);margin:0;max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);opacity:0}&:before{background-color:var(--ag-toggle-button-switch-background-color);border-radius:100%;content:"";display:block;height:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2);left:var(--ag-toggle-button-switch-inset);pointer-events:none;position:absolute;top:var(--ag-toggle-button-switch-inset);transition:left .1s;width:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-switch-inset))}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}',xE=class extends Rg{constructor(e){super(e,"ag-toggle-button"),this.registerCSS(RE)}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},DE={selector:"AG-TOGGLE-BUTTON",component:xE},ME=class extends Eb{constructor(e,t="ag-text-field",s="text"){super(e,t,s)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const s=this.eInput;return s.value!==e&&(s.value=ge(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=s=>{fb(s)&&s.key&&!e.test(s.key)&&s.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:s=>{var n;const i=(n=s.clipboardData)==null?void 0:n.getData("text");i&&i.split("").some(l=>!e.test(l))&&s.preventDefault()}})}},EE={selector:"AG-INPUT-TEXT-FIELD",component:ME};function sv(e,t){return e.toString().padStart(t,"0")}function iv(e,t=!0,s="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>sv(n,2)).join(s);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>sv(n,2)).join(":")),i}function nv(e){if(!e)return null;const[t,s]=e.split(" ");if(!t)return null;const i=t.split("-").map(m=>parseInt(m,10));if(i.filter(m=>!isNaN(m)).length!==3)return null;const[n,l,u]=i,c=new Date(n,l-1,u);if(c.getFullYear()!==n||c.getMonth()!==l-1||c.getDate()!==u)return null;if(!s||s==="00:00:00")return c;const[h,g,f]=s.split(":").map(m=>parseInt(m,10));return h>=0&&h<24&&c.setHours(h),g>=0&&g<60&&c.setMinutes(g),f>=0&&f<60&&c.setSeconds(f),c}function AE(e){return e.get("tooltipShowMode")==="whenTruncated"}function Ab(e,t){return AE(e)?TE(t):void 0}function TE(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var On={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Tb=class extends j{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:s,eBottomGuard:i,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:l,isFocusableContainer:u,focusInnerElement:c,onFocusIn:h,onFocusOut:g,shouldStopEventPropagation:f,onTabKeyDown:m,handleKeyDown:v,isEmpty:w,eFocusableElement:b}=e;this.comp=t,this.eTopGuard=s,this.eBottomGuard=i,this.providedFocusInnerElement=c,this.eFocusableElement=b,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!l,this.isFocusableContainer=!!u,this.providedFocusIn=h,this.providedFocusOut=g,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=m,this.providedHandleKeyDown=v,this.providedIsEmpty=w}postConstruct(){this.createManagedBean(new Yo(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():$i(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var h;const t=lt(this.beans),s=$i(t.body,null,!0),i=s.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let n,l;e?(n=0,l=i):(n=i+1,l=s.length);const u=s.slice(n,l),c=this.gos.get("tabIndex");u.sort((g,f)=>{const m=parseInt(g.getAttribute("tabindex")||"0"),v=parseInt(f.getAttribute("tabindex")||"0");return v===c?1:m===c?-1:m===0?1:v===0?-1:m-v}),(h=u[e?u.length-1:0])==null||h.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const s=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),s&&(s.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=$i(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return fs(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Fb=class extends j{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:s,eFocusableElement:i}=this,n=[t,s],l={setTabIndex:D=>{n.forEach(A=>D!=null?A.setAttribute("tabindex",D):A.removeAttribute("tabindex"))}};this.addTabGuards(t,s);const{focusTrapActive:u=!1,onFocusIn:c,onFocusOut:h,focusInnerElement:g,handleKeyDown:f,onTabKeyDown:m,shouldStopEventPropagation:v,isEmpty:w,forceFocusOutWhenTabGuardsAreEmpty:b,isFocusableContainer:R}=e;this.tabGuardCtrl=this.createManagedBean(new Tb({comp:l,focusTrapActive:u,eTopGuard:t,eBottomGuard:s,eFocusableElement:i,onFocusIn:c,onFocusOut:h,focusInnerElement:g,handleKeyDown:f,onTabKeyDown:m,shouldStopEventPropagation:v,isEmpty:w,forceFocusOutWhenTabGuardsAreEmpty:b,isFocusableContainer:R}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=lt(this.beans).createElement("div"),s=e==="top"?On.TAB_GUARD_TOP:On.TAB_GUARD_BOTTOM;return t.classList.add(On.TAB_GUARD,s),gs(t,"presentation"),t}addTabGuards(e,t){const s=this.eFocusableElement;s.insertAdjacentElement("afterbegin",e),s.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];ms(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,s){yu(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,s)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Nn(e),Nn(t),super.destroy()}},Tu=class extends Me{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new Fb(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,s){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,s)}},xn=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Zi,this.preventMouseClick=t;const s=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);e.addEventListener("touchstart",s,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",s,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const s=this.touchStart===t;if(this.touching&&s&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!ub(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const s={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(s),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},Pb=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${mw}/${this.frameworkName}-data-grid`,Zx(this.baseDocLink)}setInterval(e,t){return new at(s=>{s(window.setInterval(e,t))})}addEventListener(e,t,s,i){let n={};if(typeof i=="object"?n=i:typeof i=="boolean"&&(n={capture:i}),n.passive==null){const l=Ow(t);l!=null&&(n.passive=l)}e.addEventListener(t,s,n)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function FE(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var PE=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],ov=Object.fromEntries(PE.map((e,t)=>[e,t]));function LE(e,t){const s=(e.beanName?ov[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?ov[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return s-i}function IE(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var GE=class extends j{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,s){this.view=e,this.eGridHostDiv=t,this.eGui=s,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:n}=this.beans;i==null||i.registerGridDropTarget(()=>this.eGui,this),rb(this.gos,t),this.createManagedBean(new wg(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const l=pi(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),n.register("gridCtrl",this)}isDetailGrid(){var t;const e=ib(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,s,i,n;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(s=e.sideBar)==null?void 0:s.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(n=e.licenseManager)==null?void 0:n.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:s,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(s>0){const{visibleCols:n,focusSvc:l}=this.beans,u=n.allCols,c=Le(u);if(l.focusGridView({column:c,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const s=this.getFocusableContainers(),{focusSvc:i,visibleCols:n}=this.beans,l=n.allCols;if(e){if(s.length>1)return this.focusContainer(Le(s),e);const u=Le(l);if(i.focusGridView({column:u,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Gn(this.beans)){if(i.focusGridView({column:l[0],backwards:e}))return!0;for(let u=1;u<s.length;u++)if(Us(s[u].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var l;const t=this.view.getFocusableContainers(),{nextIndex:s,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||s<0||s>=t.length)return;const n=t[s];(l=n.setAllowFocus)==null||l.call(n,!0),setTimeout(()=>{var u;(u=n.setAllowFocus)==null||u.call(n,!1)})}isFocusable(){var t,s;const e=this.beans;return!mg(e)||!Gn(e)||!!((s=(t=e.sideBar)==null?void 0:t.comp)!=null&&s.isDisplayed())}getNextFocusableIndex(e,t){const s=Ke(this.beans),i=e.findIndex(l=>l.getGui().contains(s)),n=i+(t?-1:1);return{indexWithFocus:i,nextIndex:n}}focusContainer(e,t){var i,n;(i=e.setAllowFocus)==null||i.call(e,!0);const s=Us(e.getGui(),t,!1,!0);return(n=e.setAllowFocus)==null||n.call(e,!1),s}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},be=(e,t)=>{for(const s of Object.keys(t))t[s]=e;return t},rv={dispatchEvent:"CommunityCore",...be("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...be("GridState",{getState:0}),...be("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...be("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...be("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...be("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...be("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...be("ValueCache",{expireValueCache:0}),...be("CellApi",{getCellValue:0}),...be("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...be("Sort",{onSortChanged:0}),...be("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...be("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...be("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...be("HighlightChanges",{flashCells:0}),...be("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...be("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...be("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...be("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...be("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...be("ColumnResize",{setColumnWidths:0}),...be("ColumnHover",{isColumnHovered:0}),...be("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...be("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...be("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...be("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...be("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...be("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...be("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...be("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...be("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...be("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...be("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...be("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...be("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...be("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...be("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...be("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...be("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...be("ContextMenu",{showContextMenu:0}),...be("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...be("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...be("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...be("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...be("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...be("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...be("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...be("StatusBar",{getStatusPanel:0})},ch={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},OE=(e,t)=>e.eventSvc.dispatchEvent(t),Lb=class{};Reflect.defineProperty(Lb,"name",{value:"GridApi"});var kE=class extends j{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new Lb,this.fns={...ch,dispatchEvent:OE},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(rv))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var n;const{fns:s,beans:i}=this;s!==ch&&(s[e]=((n=i==null?void 0:i.validation)==null?void 0:n.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:s,fns:{[e]:i}}=this;return i?i(s,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:s,preDestroyLink:i}=this;if(!t)re(26,{fnName:e,preDestroyLink:i});else{const n=rv[e];s.assertModuleRegistered(n,`api.${e}`)&&re(27,{fnName:e,module:n})}}destroy(){super.destroy(),this.fns=ch,this.beans=null}};function NE(e){return e.context.getGridId()}function BE(e){e.gridDestroySvc.destroy()}function HE(e){return e.gridDestroySvc.destroyCalled}function zE(e,t){return e.gos.get(t)}function VE(e,t,s){Ib(e,{[t]:s})}function Ib(e,t){e.gos.updateGridOptions({options:t})}var _E=class extends j{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:s}=this.beans;return s.addDragSource(t),()=>s.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const s=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(s)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Gb={moduleName:"Drag",version:Ne,beans:[lM]},xg={moduleName:"SharedDragAndDrop",version:Ne,beans:[tM],dependsOn:[Gb],userComponents:{agDragAndDropImage:aE},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Ob={moduleName:"HorizontalResize",version:Ne,beans:[_E],dependsOn:[Gb]},WE=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",UE=class extends j{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:s,executeLaterFuncs:i}=this;if(s.length===0&&i.length===0){e(),t();return}const n=l=>{for(;l.length;){const u=l.pop();u&&u()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),n(s)},0),window.setTimeout(()=>{t(),n(i)},200)})}};function jE(e,t,s){var i;(i=e.colMoves)==null||i.moveColumnByIndex(t,s,"api")}function KE(e,t,s){var i;(i=e.colMoves)==null||i.moveColumns(t,s,"api")}var YE=class extends j{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(s=>{s.isPrimary()&&(s.isAnyFunctionActive()||(s.isAllowValue()?this.columnsToAggregate.push(s):s.isAllowRowGroup()?this.columnsToGroup.push(s):s.isAllowPivot()&&this.columnsToPivot.push(s)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:s,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(s==null||s.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(i==null||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function qE(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,n)=>{const l=e.indexOf(i),u=e.indexOf(n);return l-u})}function kb(e){const{isFromHeader:t,fromLeft:s,xPosition:i,fromEnter:n,fakeEvent:l,pinned:u,gos:c,colModel:h,colMoves:g,visibleCols:f}=e;let{allMovingColumns:m}=e;if(t){const I=[];m.forEach(k=>{var ne;let U=null,K=k.getParent();for(;K!=null&&K.getDisplayedLeafColumns().length===1;)U=K,K=K.getParent();U!=null?(!!((ne=U.getColGroupDef())!=null&&ne.marryChildren)?U.getProvidedColumnGroup().getLeafColumns():U.getLeafColumns()).forEach(te=>{I.includes(te)||I.push(te)}):I.includes(k)||I.push(k)}),m=I}const v=m.slice();qE(h.getCols(),v);const w=QE({movingCols:v,draggingRight:s,xPosition:i,pinned:u,gos:c,colModel:h,visibleCols:f}),b=$E(v,h);if(w.length===0)return;const R=w[0];let D=b!==null&&!n;if(t&&(D=b!==null),D&&!l&&(!s&&R>=b||s&&R<=b))return;const A=f.allCols,T=[];let F=null;for(let I=0;I<w.length;I++){const k=w[I],U=g.getProposedColumnOrder(v,k);if(!g.doesOrderPassRules(U))continue;const K=U.filter(oe=>A.includes(oe));if(F===null)F=K;else if(!_n(K,F))break;const ne=ZE(U);T.push({move:k,fragCount:ne})}if(T.length===0)return;T.sort((I,k)=>I.fragCount-k.fragCount);const L=T[0].move;if(!(L>h.getCols().length-m.length))return{columns:m,toIndex:L}}function Nb(e){const{columns:t,toIndex:s}=kb(e)||{},{finished:i,colMoves:n}=e;return!t||s==null?null:(n.moveColumns(t,s,"uiColumnMoved",i),i?null:{columns:t,toIndex:s})}function $E(e,t){const s=t.getCols(),i=e.map(h=>s.indexOf(h)).sort((h,g)=>h-g),n=i[0];return Le(i)-n!==i.length-1?null:n}function ZE(e){function t(i){const n=[];let l=i.getOriginalParent();for(;l!=null;)n.push(l),l=l.getOriginalParent();return n}let s=0;for(let i=0;i<e.length-1;i++){let n=t(e[i]),l=t(e[i+1]);[n,l]=n.length>l.length?[n,l]:[l,n],n.forEach(u=>{l.indexOf(u)===-1&&s++})}return s}function XE(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function QE(e){const{movingCols:t,draggingRight:s,xPosition:i,pinned:n,gos:l,colModel:u,visibleCols:c}=e;if(l.get("suppressMovableColumns")||t.some(F=>F.getColDef().suppressMovable))return[];const g=XE(c,n),f=u.getCols(),m=g.filter(F=>t.includes(F)),v=g.filter(F=>!t.includes(F)),w=f.filter(F=>!t.includes(F));let b=0,R=i;if(s){let F=0;m.forEach(L=>F+=L.getActualWidth()),R-=F}if(R>0){for(let F=0;F<v.length;F++){const L=v[F];if(R-=L.getActualWidth(),R<0)break;b++}s&&b++}let D;if(b>0){const F=v[b-1];D=w.indexOf(F)+1}else D=w.indexOf(v[0]),D===-1&&(D=0);const A=[D],T=(F,L)=>F-L;if(s){let F=D+1;const L=f.length-1;for(;F<=L;)A.push(F),F++;A.sort(T)}else{let F=D;const L=f.length-1;let I=f[F];for(;F<=L&&g.indexOf(I)<0;)F++,A.push(F),I=f[F];F=D-1;const k=0;for(;F>=k;)A.push(F),F--;A.sort(T).reverse()}return A}function zh(e){var g;const{pinned:t,fromKeyboard:s,gos:i,ctrlsSvc:n,useHeaderRow:l,skipScrollPadding:u}=e;let c=(g=n.getHeaderRowContainerCtrl(t))==null?void 0:g.eViewport,{x:h}=e;return c?(s&&(h-=c.getBoundingClientRect().left),i.get("enableRtl")&&(l&&(c=c.querySelector(".ag-header-row")),h=c.clientWidth-h),t==null&&!u&&(h+=n.get("center").getCenterViewportScrollLeft()),h):0}function dh(e,t){for(const s of e)s.moving=t,s.dispatchColEvent("movingChanged","uiColumnMoved")}var lv=7,Vh=100,Ba=Vh/2,JE=5,eA=100,tA=class extends j{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ge(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,s=(t==null?void 0:t.dragItem.columns)??[];for(const i of s){const n=i.getPinned();if(i.getColDef().lockPinned){if(n==e)return"move";continue}if(n===e||!e)return"move";if(!n&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,s=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(s,!0,"uiColumnDragged");else{const n=t.visibleState,l=(s||[]).filter(u=>n[u.getId()]);this.setColumnsVisible(l,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(s,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,s=!1,i=!1){const{gos:n,ctrlsSvc:l}=this.beans,u=n.get("suppressMoveWhenColumnDragging");if(i&&!u){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Ze(e.hDirection))return;const c=zh({x:e.x,pinned:this.pinned,gos:n,ctrlsSvc:l});t||this.checkCenterForScrolling(c),u?this.handleColumnDragWhileSuppressingMovement(e,t,s,c,i):this.handleColumnDragWhileAllowingMovement(e,t,s,c,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,s){if(!e)return;const i=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,s)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:s}=e;this.beans.colMoves.moveColumns(t,s,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,s,i,n){const l=this.getAllMovingColumns(e,!0);if(n){const u=this.isAttemptingToPin(l);u&&this.attemptToPinColumns(l,void 0,!0);const{fromLeft:c,xPosition:h}=this.getNormalisedXPositionInfo(l,u)||{};if(c==null||h==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:l,xPosition:h,fromEnter:t,fakeEvent:s,fromLeft:c})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(l,i)}}handleColumnDragWhileAllowingMovement(e,t,s,i,n){const l=this.getAllMovingColumns(e),u=this.normaliseDirection(e.hDirection)==="right",c=e.dragSource.type===1,h=this.getMoveColumnParams({allMovingColumns:l,isFromHeader:c,xPosition:i,fromLeft:u,fromEnter:t,fakeEvent:s}),g=Nb({...h,finished:n});g&&(this.lastMovedInfo=g)}getAllMovingColumns(e,t=!1){const s=e.dragSource.getDragItem();let i=null;t?(i=s.columnsInSplit,i||(i=s.columns)):i=s.columns;const n=l=>l.getColDef().lockPinned?l.getPinned()==this.pinned:!0;return i?i.filter(n):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:s,xPosition:i,fromLeft:n,fromEnter:l,fakeEvent:u}=e,{gos:c,colModel:h,colMoves:g,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:s,fromLeft:n,xPosition:i,pinned:this.pinned,fromEnter:l,fakeEvent:u,gos:c,colModel:h,colMoves:g,visibleCols:f}}highlightHoveredColumn(e,t){var f;const{gos:s,colModel:i}=this.beans,n=s.get("enableRtl"),l=i.getCols().filter(m=>m.isVisible()&&m.getPinned()===this.pinned);let u=null,c=null,h=null;for(const m of l){if(c=m.getActualWidth(),u=this.getNormalisedColumnLeft(m,0,n),u!=null){const v=u+c;if(u<=t&&v>=t){h=m;break}}u=null,c=null}if(h)e.indexOf(h)!==-1&&(h=null);else{for(let m=l.length-1;m>=0;m--){const v=l[m],w=l[m].getParent();if(!w){h=v;break}const b=w==null?void 0:w.getDisplayedLeafColumns();if(b.length){h=Le(b);break}}if(!h)return;u=this.getNormalisedColumnLeft(h,0,n),c=h.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==h&&this.clearHighlighted(),h==null||u==null||c==null)return;let g;t-u<c/2!==n?g=0:g=1,av(h,g),this.lastHighlightedColumn={column:h,position:g}}getNormalisedXPositionInfo(e,t){const{gos:s,visibleCols:i}=this.beans,n=s.get("enableRtl"),{firstMovingCol:l,column:u,position:c}=this.getColumnMoveAndTargetInfo(e,t,n);if(!l||!u||c==null)return;const h=i.allCols,g=h.indexOf(l),f=h.indexOf(u),m=c===0!==n,v=g<f||g===f&&!m;let w=0;if(m?v&&(w-=1):v||(w+=1),f+w===g)return;const b=h[f+w];if(!b)return;const R=this.getNormalisedColumnLeft(b,20,n);return{fromLeft:v,xPosition:R}}getColumnMoveAndTargetInfo(e,t,s){const i=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:l}=sA(e);if(!n||!l||i.column||!t)return{firstMovingCol:n,...i};const c=this.getPinDirection()==="left";return{firstMovingCol:n,position:c?1:0,column:c!==s?n:l}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,s){const{gos:i,ctrlsSvc:n}=this.beans,l=e.getLeft();if(l==null)return null;const u=e.getActualWidth();return zh({x:s?l+u-t:l+t,pinned:e.getPinned(),useHeaderRow:s,skipScrollPadding:!0,gos:i,ctrlsSvc:n})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,s=this.failedMoveAttempts>lv;return t&&s||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:s,fromEnter:i,fakeEvent:n,fromLeft:l}=e,u=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:s,fromLeft:l,fromEnter:i,fakeEvent:n}),{columns:c,toIndex:h}=kb(u)||{};c&&h!=null&&(this.lastMovedInfo={columns:c,toIndex:h}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(av(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),s=t.getCenterViewportScrollLeft(),i=s+t.getCenterWidth();let n,l;this.gos.get("enableRtl")?(n=e<s+Ba,l=e>i-Ba):(l=e<s+Ba,n=e>i-Ba),this.needToMoveRight=n,this.needToMoveLeft=l,l||n?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),eA),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var i,n;let e;this.intervalCount++,e=10+this.intervalCount*JE,e>Vh&&(e=Vh);let t=null;const s=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=s.scrollHorizontally(-e):this.needToMoveRight&&(t=s.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:l,dragAndDrop:u,gos:c}=this.beans;if(this.failedMoveAttempts<=lv+1||!l)return;if((i=u.getDragAndDropImageComponent())==null||i.setIcon("pinned",!1),!c.get("suppressMoveWhenColumnDragging")){const h=(n=this.lastDraggingEvent)==null?void 0:n.dragItem.columns;this.attemptToPinColumns(h,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,s=!1){const i=(e||[]).filter(u=>!u.getColDef().lockPinned);if(!i.length)return 0;s&&(t=this.getPinDirection());const{pinnedCols:n,dragAndDrop:l}=this.beans;return n==null||n.setColsPinned(i,t,"uiColumnDragged"),s&&l.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function av(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function sA(e){const t=e.length;let s,i;for(let n=0;n<t;n++){if(!s){const l=e[n];l.getLeft()!=null&&(s=l)}if(!i){const l=e[t-1-n];l.getLeft()!=null&&(i=l)}if(s&&i)break}return{firstMovingCol:s,lastMovingCol:i}}var iA=class extends j{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,s=this.pinned;e.whenReady(this,i=>{let n;const l=i.gridBodyCtrl.eBodyViewport;switch(s){case"left":n=[[l,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":n=[[l,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:n=[[l,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=n}),this.moveColumnFeature=this.createManagedBean(new tA(s)),this.bodyDropPivotTarget=this.createManagedBean(new YE(s)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},nA=class extends j{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,s){const i=this.beans.colModel.getCols();if(!i)return;const n=i[e];this.moveColumns([n],t,s)}moveColumns(e,t,s,i=!0){const{colModel:n,colAnimation:l,visibleCols:u,eventSvc:c}=this.beans,h=n.getCols();if(!h)return;if(t>h.length-e.length){re(30,{toIndex:t});return}l==null||l.start();const g=n.getColsForKeys(e);this.doesMovePassRules(g,t)&&(KC(n.getCols(),g,t),u.refresh(s),c.dispatchEvent({type:"columnMoved",columns:g,column:g.length===1?g[0]:null,toIndex:t,finished:i,source:s})),l==null||l.finish()}doesMovePassRules(e,t){const s=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(s)}doesOrderPassRules(e){const{colModel:t,gos:s}=this.beans;return!(!Uw(e,t.getColTree())||!(n=>{const l=g=>g?g==="left"||g===!0?-1:1:0,u=s.get("enableRtl");let c=u?1:-1,h=!0;return n.forEach(g=>{const f=l(g.getColDef().lockPosition);u?f>c&&(h=!1):f<c&&(h=!1),c=f}),h})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return KC(i,e,t),i}createBodyDropTarget(e,t){return new iA(e,t)}moveHeader(e,t,s,i,n){const{ctrlsSvc:l,gos:u,colModel:c,visibleCols:h,focusSvc:g}=this.beans,f=t.getBoundingClientRect(),m=f.left,v=st(s),w=v?f.width:s.getActualWidth(),b=e==="left"!==u.get("enableRtl"),R=zh({x:b?m-20:m+w+20,pinned:i,fromKeyboard:!0,gos:u,ctrlsSvc:l}),D=g.focusedHeader;Nb({allMovingColumns:v?s.getLeafColumns():[s],isFromHeader:!0,fromLeft:e==="right",xPosition:R,pinned:i,fromEnter:!1,fakeEvent:!1,gos:u,colModel:c,colMoves:this,visibleCols:h,finished:!0});let A;if(v){const T=s.getDisplayedLeafColumns();A=b?T[0]:Le(T)}else A=s;if(l.getScrollFeature().ensureColumnVisible(A,"auto"),(!n.isAlive()||u.get("ensureDomOrder"))&&D){let T;if(v){const F=s.getGroupId(),L=s.getLeafColumns();if(!L.length)return;const I=L[0].getParent();if(!I)return;T=oA(I,F)}else T=s;T&&g.focusHeaderPosition({headerPosition:{...D,column:T}})}}setDragSourceForHeader(e,t,s){const{gos:i,colModel:n,dragAndDrop:l,visibleCols:u}=this.beans;let c=!i.get("suppressDragLeaveHidesColumns");const h=st(t),g=h?t.getProvidedColumnGroup().getLeafColumns():[t],m={type:1,eElement:e,getDefaultIconName:()=>c?"hide":"notAllowed",getDragItem:h?()=>lA(t,u.allCols):()=>rA(t),dragItemName:s,onDragStarted:()=>{c=!i.get("suppressDragLeaveHidesColumns"),dh(g,!0)},onDragStopped:()=>dh(g,!1),onDragCancelled:()=>dh(g,!1),onGridEnter:v=>{if(c){const{columns:w=[],visibleState:b}=v??{},R=h?A=>!b||b[A.getColId()]:()=>!0,D=w.filter(A=>!A.getColDef().lockVisible&&R(A));n.setColsVisible(D,!0,"uiColumnMoved")}},onGridExit:v=>{var w;if(c){const b=((w=v==null?void 0:v.columns)==null?void 0:w.filter(R=>!R.getColDef().lockVisible))||[];n.setColsVisible(b,!1,"uiColumnMoved")}}};return l.addDragSource(m,!0),m}};function oA(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function rA(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function lA(e,t){const s=e.getProvidedColumnGroup().getLeafColumns(),i={};s.forEach(c=>i[c.getId()]=c.isVisible());const n=[];t.forEach(c=>{s.indexOf(c)>=0&&(n.push(c),vs(s,c))}),s.forEach(c=>n.push(c));const l=[],u=e.getLeafColumns();for(const c of n)u.indexOf(c)!==-1&&l.push(c);return{columns:n,columnsInSplit:l,visibleState:i}}var Dg={moduleName:"ColumnMove",version:Ne,beans:[nA,UE],apiFunctions:{moveColumnByIndex:jE,moveColumns:KE},dependsOn:[xg],css:[WE]},aA=class extends j{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const s=this.getHeaderCellForColumn(e);if(!s)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(s),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const s=document.createElement("form");s.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(l=>this.cloneItemIntoDummy(l,s)),i.appendChild(s);const n=s.offsetWidth;return i.removeChild(s),t=t??this.gos.get("autoSizePadding"),n+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(s=>{const i=s.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const s=e.cloneNode(!0);s.style.width="",s.style.position="static",s.style.left="";const i=document.createElement("div"),n=i.classList;["ag-header-cell","ag-header-group-cell"].some(c=>s.classList.contains(c))?(n.add("ag-header","ag-header-row"),i.style.position="static"):n.add("ag-row");let u=e.parentElement;for(;u;){if(["ag-header-row","ag-row"].some(h=>u.classList.contains(h))){for(let h=0;h<u.classList.length;h++){const g=u.classList[h];g!="ag-row-position-absolute"&&n.add(g)}break}u=u.parentElement}i.appendChild(s),t.appendChild(i)}},uA={moduleName:"AutoWidth",version:Ne,beans:[aA]};function cA(e,t,s=!0,i="api"){var n;(n=e.colResize)==null||n.setColumnWidths(t,!1,s,i)}var dA=class extends j{constructor(e,t,s,i){super(),this.comp=e,this.eResize=t,this.pinned=s,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:s}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&s&&this.addDestroyFunc(s.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:s,resizeRatios:i,groupAfterColumns:n,groupAfterStartWidth:l,groupAfterRatios:u}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=s,this.resizeRatios=i,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=l,this.resizeTakeFromRatios=u,this.toggleColumnResizing(!0)}onResizing(e,t,s="uiColumnResized"){const i=this.normaliseDragChange(t),n=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(n,s,e)}getInitialValues(e){var h;const t=g=>g.reduce((f,m)=>f+m.getActualWidth(),0),s=(g,f)=>g.map(m=>m.getActualWidth()/f),i=this.getColumnsToResize(),n=t(i),l=s(i,n),u={columnsToResize:i,resizeStartWidth:n,resizeRatios:l};let c=null;if(e&&(c=((h=this.beans.colGroupSvc)==null?void 0:h.getGroupAtDirection(this.columnGroup,"After"))??null),c){const g=c.getDisplayedLeafColumns(),f=u.groupAfterColumns=g.filter(v=>v.isResizable()),m=u.groupAfterStartWidth=t(f);u.groupAfterRatios=s(f,m)}else u.groupAfterColumns=void 0,u.groupAfterStartWidth=void 0,u.groupAfterRatios=void 0;return u}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),s=this.getInitialValues();t>s.resizeStartWidth&&this.resizeColumns(s,t,e,!0)}resizeColumnsFromLocalValues(e,t,s=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,s)}resizeColumns(e,t,s,i=!0){var m;const{columnsToResize:n,resizeStartWidth:l,resizeRatios:u,groupAfterColumns:c,groupAfterStartWidth:h,groupAfterRatios:g}=e,f=[];if(f.push({columns:n,ratios:u,width:t}),c){const v=t-l;f.push({columns:c,ratios:g,width:h-v})}(m=this.beans.colResize)==null||m.resizeColumnSets({resizeSets:f,finished:i,source:s}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},hA=class extends j{constructor(e,t,s,i,n){super(),this.pinned=e,this.column=t,this.eResize=s,this.comp=i,this.ctrl=n}postConstruct(){const e=[];let t,s;const i=()=>{if(Pe(this.eResize,t),!t)return;const{horizontalResizeSvc:u,colAutosize:c}=this.beans,h=u.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(h),s&&c&&e.push(c.addColumnAutosize(this.eResize,this.column))},n=()=>{e.forEach(u=>u()),e.length=0},l=()=>{const u=this.column.isResizable(),c=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(u!==t||c!==s)&&(t=u,s=c,n(),i())};l(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",l)}onResizing(e,t){const{column:s,lastResizeAmount:i,resizeStartWidth:n,beans:l}=this,u=this.normaliseResizeAmount(t),c=n+u,h=[{key:s,newWidth:c}],{pinnedCols:g,ctrlsSvc:f,colResize:m}=l;if(this.column.getPinned()){const v=(g==null?void 0:g.leftWidth)??0,w=(g==null?void 0:g.rightWidth)??0,b=il(f.getGridBodyCtrl().eBodyViewport)-50;if(v+w+(u-i)>b)return}this.lastResizeAmount=u,m==null||m.setColumnWidths(h,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const s=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?s&&(t*=-1):i&&(t*=-1),t}},gA=class extends j{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,s,i){const n=[],{colModel:l,gos:u,visibleCols:c}=this.beans;e.forEach(h=>{const g=l.getColDefCol(h.key)||l.getCol(h.key);if(!g)return;if(n.push({width:h.newWidth,ratios:[1],columns:[g]}),u.get("colResizeDefault")==="shift"&&(t=!t),t){const m=c.getColAfter(g);if(!m)return;const v=g.getActualWidth()-h.newWidth,w=m.getActualWidth()+v;n.push({width:w,ratios:[1],columns:[m]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:s,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:s,source:i}=e;if(!(!t||t.every(f=>pA(f)))){if(s){const f=t&&t.length>0?t[0].columns:null;au(this.eventSvc,f,s,i)}return}const l=[],u=[];t.forEach(f=>{const{width:m,columns:v,ratios:w}=f,b={},R={};v.forEach(T=>u.push(T));let D=!0,A=0;for(;D;){if(A++,A>1e3){Te(31);break}D=!1;const T=[];let F=0,L=m;v.forEach((k,U)=>{if(R[k.getId()])L-=b[k.getId()];else{T.push(k);const ne=w[U];F+=ne}});const I=1/F;T.forEach((k,U)=>{const K=U===T.length-1;let ne;K?ne=L:(ne=Math.round(w[U]*m*I),L-=ne);const oe=k.getMinWidth(),z=k.getMaxWidth();ne<oe?(ne=oe,R[k.getId()]=!0,D=!0):z>0&&ne>z&&(ne=z,R[k.getId()]=!0,D=!0),b[k.getId()]=ne})}v.forEach(T=>{const F=b[T.getId()];T.getActualWidth()!==F&&(T.setActualWidth(F,i),l.push(T))})});const c=l.length>0;let h=[];if(c){const{colFlex:f,visibleCols:m,colViewport:v}=this.beans;h=(f==null?void 0:f.refreshFlexedColumns({resizingCols:u,skipSetLeft:!0}))??[],m.setLeftValues(i),m.updateBodyWidths(),v.checkViewportColumns()}const g=u.concat(h);(c||s)&&au(this.eventSvc,g,s,i,h)}resizeHeader(e,t,s){if(!e.isResizable())return;const i=e.getActualWidth(),n=e.getMinWidth(),l=e.getMaxWidth(),u=Math.min(Math.max(i+t,n),l);this.setColumnWidths([{key:e,newWidth:u}],s,!0,"uiColumnResized")}createResizeFeature(e,t,s,i,n){return new hA(e,t,s,i,n)}createGroupResizeFeature(e,t,s,i){return new dA(e,t,s,i)}};function pA(e){const{columns:t,width:s}=e;let i=0,n=0,l=!0;t.forEach(h=>{const g=h.getMinWidth();i+=g||0;const f=h.getMaxWidth();f>0?n+=f:l=!1});const u=s>=i,c=!l||s<=n;return u&&c}var fA={moduleName:"ColumnResize",version:Ne,beans:[gA],apiFunctions:{setColumnWidths:cA},dependsOn:[Ob,uA]},mA=class extends j{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},CA=class extends Db{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,s,i,n){const{column:l,beans:u}=this,{context:c,colNames:h,colHover:g,rangeSvc:f,colResize:m}=u;this.comp=e,n=Mu(this,c,n),this.setGui(t,n),this.displayName=h.getDisplayNameForColumnGroup(l,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:n}),this.setupUserComp(),this.addHeaderMouseListeners(n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const v=this.rowCtrl.pinned,w=l.getProvidedColumnGroup().getLeafColumns();g==null||g.createHoverFeature(n,w,t),f==null||f.createRangeHighlightFeature(n,l,e),n.createManagedBean(new Rb(l,t,u)),n.createManagedBean(new mA(e,l)),m?this.resizeFeature=n.createManagedBean(m.createGroupResizeFeature(e,s,v,l)):e.setResizableDisplayed(!1),n.createManagedBean(new Yo(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,w),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,s=e.getDefinition();return Re(t.gos,{colDef:s,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,s=e.get("groupHeaderHeight");s!=null?s===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(s):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const s of t)e.addManagedListeners(s,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,s)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),s=t[0]===e,i=Le(t)===e;if(!s&&!i)return;const n=e.getHighlighted(),l=!!this.rowCtrl.getHeaderCellCtrls().find(h=>h.column.isMoving());let u=!1,c=!1;if(l){const h=this.beans.gos.get("enableRtl"),g=n===1,f=n===0;s&&(h?c=g:u=f),i&&(h?u=f:c=g)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",u),this.comp.addOrRemoveCssClass("ag-header-highlight-after",c)}resizeHeader(e,t){const{resizeFeature:s}=this;if(!s)return;const i=s.getInitialValues(t);s.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:s}=this.beans,i=Re(s,{displayName:this.displayName,columnGroup:this.column,setExpanded:l=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),l,"gridInitializing")},setTooltip:(l,u)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,u)}}),n=hD(t,i);n&&this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){const t=n=>this.handleMouseOverChange(n.type==="mouseenter"),s=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:s,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var s;this.tooltipFeature=(s=this.beans.tooltipSvc)==null?void 0:s.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const s=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:s,expandableChanged:s})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),s=Jw(t,this.gos,null,e);e.isPadding()?(s.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&s.push("ag-header-span-height")):(s.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&s.push("ag-header-cell-wrap-text")),s.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());i.forEach(l=>{e.addManagedListeners(l,{movingChanged:n})}),n()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===W.ENTER){const s=this.column,i=!s.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function vA(e,t,s){var i;(i=e.colGroupSvc)==null||i.setColumnGroupOpened(t,s,"api")}function wA(e,t,s){var i;return((i=e.colGroupSvc)==null?void 0:i.getColumnGroup(t,s))??null}function bA(e,t){var s;return((s=e.colGroupSvc)==null?void 0:s.getProvidedColGroup(t))??null}function yA(e,t,s){return e.colNames.getDisplayNameForColumnGroup(t,s)||""}function SA(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function RA(e,t){var s;(s=e.colGroupSvc)==null||s.setColumnGroupState(t,"api")}function xA(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function DA(e){return e.visibleCols.treeLeft}function MA(e){return e.visibleCols.treeCenter}function EA(e){return e.visibleCols.treeRight}function AA(e){return e.visibleCols.getAllTrees()}function TA(e,t){for(let s=0;s<t.length;s++){const i=e.indexOf(t[s]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var FA=class extends j{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var c;const{colModel:s,colGroupSvc:i,colViewport:n}=this.beans;t||this.buildTrees(s,i),i==null||i.updateOpenClosedVisibility();const l=hh(this.treeLeft);this.leftCols=l,this.centerCols=hh(this.treeCenter);const u=hh(this.treeRight);this.rightCols=u,this.joinColsAriaOrder(s),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(h=>h.isAutoHeight()),(c=this.beans.colFlex)==null||c.refreshFlexedColumns(),this.updateBodyWidths(),n.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(s,l,u,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Fo(this.centerCols),t=Fo(this.leftCols),s=Fo(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==s)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=s,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,s,i){let n,l;this.gos.get("enableRtl")?(n=t?t[0]:null,l=s?Le(s):null):(n=t?Le(t):null,l=s?s[0]:null),e.getCols().forEach(u=>{u.setLastLeftPinned(u===n,i),u.setFirstRightPinned(u===l,i)})}buildTrees(e,t){const s=e.getColsToShow(),i=s.filter(h=>h.getPinned()=="left"),n=s.filter(h=>h.getPinned()=="right"),l=s.filter(h=>h.getPinned()!="left"&&h.getPinned()!="right"),u=new W0,c=h=>t?t.createColumnGroups(h):h.columns;this.treeLeft=c({columns:i,idCreator:u,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=c({columns:n,idCreator:u,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=c({columns:l,idCreator:u,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),s=[],i=[],n=[];for(const l of t){const u=l.getPinned();u?u===!0||u==="left"?s.push(l):n.push(l):i.push(l)}this.ariaOrderColumns=s.concat(i).concat(n)}getAriaColIndex(e){let t;return st(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{st(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),n=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(l=>{if(n){let u=Fo(l);l.forEach(c=>{u-=c.getActualWidth(),c.setLeft(u,e)})}else{let u=0;l.forEach(c=>{c.setLeft(u,e),u+=c.getActualWidth()})}TA(i,l)}),i.forEach(l=>{l.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:s}}=this;return s.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,s,i){const n=[];let l=null;for(let u=0;u<t.length;u++){const c=t[u],h=t.length-u,g=Math.min(c.getColSpan(e),h),f=[c];if(g>1){const v=g-1;for(let w=1;w<=v;w++)f.push(t[u+w]);u+=v}let m;s?(m=!1,f.forEach(v=>{s(v)&&(m=!0)})):m=!0,m&&(n.length===0&&l&&(i&&i(c))&&n.push(l),n.push(c)),l=c}return n}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,s=t.indexOf(e);return s>0?t[s-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};kn(this.treeCenter,!1,e),kn(this.treeLeft,!1,e),kn(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let s=0;s<t.length;s++){const i=this[t[s]];if(i.length)return e?Le(i):i[0]}return null}getColAfter(e){const t=this.allCols,s=t.indexOf(e);return s<t.length-1?t[s+1]:null}getColsLeftWidth(){return Fo(this.leftCols)}getDisplayedColumnsRightWidth(){return Fo(this.rightCols)}isColAtEdge(e,t){const s=this.allCols;if(!s.length)return!1;const i=t==="first";let n;if(st(e)){const l=e.getDisplayedLeafColumns();if(!l.length)return!1;n=i?l[0]:Le(l)}else n=e;return(i?s[0]:Le(s))===n}};function kn(e,t,s){if(e)for(let i=0;i<e.length;i++){const n=e[i];if(st(n)){const l=t?n.getDisplayedChildren():n.getChildren();kn(l,t,s)}s(n)}}function hh(e){const t=[];return kn(e,!0,s=>{Ws(s)&&t.push(s)}),t}var PA=class extends j{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return di(null,t,s=>{mt(s)&&e.push({groupId:s.getGroupId(),open:s.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const s=[];di(null,t,i=>{if(mt(i)){const n=i.getColGroupDef(),l={groupId:i.getGroupId(),open:n?n.openByDefault:void 0};s.push(l)}}),this.setColumnGroupState(s,e)}setColumnGroupState(e,t){const{colModel:s,colAnimation:i,visibleCols:n,eventSvc:l}=this.beans;if(!s.getColTree().length)return;i==null||i.start();const c=[];e.forEach(h=>{const g=h.groupId,f=h.open,m=this.getProvidedColGroup(g);m&&m.isExpanded()!==f&&(m.setExpanded(f),c.push(m))}),n.refresh(t,!0),c.length&&l.dispatchEvent({type:"columnGroupOpened",columnGroup:c.length===1?c[0]:void 0,columnGroups:c}),i==null||i.finish()}setColumnGroupOpened(e,t,s){let i;mt(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],s)}getProvidedColGroup(e){let t=null;return di(null,this.beans.colModel.getColTree(),s=>{mt(s)&&s.getId()===e&&(t=s)}),t}getGroupAtDirection(e,t){const s=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),n=t==="After"?Le(i):i[0],l=`getCol${t}`;for(;;){const u=this.beans.visibleCols[l](n);if(!u)return null;const c=this.getColGroupAtLevel(u,s);if(c!==e)return c}}getColGroupAtLevel(e,t){let s=e.getParent(),i,n;for(;i=s.getProvidedColumnGroup().getLevel(),n=s.getPaddingLevel(),!(i+n<=t);)s=s.getParent();return s}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();kn(e,!1,t=>{st(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(st(e))return e;const s=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let n=null;return kn(s,!1,l=>{if(st(l)){const u=l;let c;i?c=e===u.getGroupId()&&t===u.getPartId():c=e===u.getGroupId(),c&&(n=u)}}),n}createColumnGroups(e){const{columns:t,idCreator:s,pinned:i,oldDisplayedGroups:n,isStandaloneStructure:l}=e,u=this.mapOldGroupsById(n),c=[];let h=t;for(;h.length;){const g=h;h=[];let f=0;const m=v=>{const w=f;f=v;const b=g[w],D=(st(b)?b.getProvidedColumnGroup():b).getOriginalParent();if(D==null){for(let T=w;T<v;T++)c.push(g[T]);return}const A=this.createColumnGroup(D,s,u,i,l);for(let T=w;T<v;T++)A.addChild(g[T]);h.push(A)};for(let v=1;v<g.length;v++){const w=g[v],R=(st(w)?w.getProvidedColumnGroup():w).getOriginalParent(),D=g[f],T=(st(D)?D.getProvidedColumnGroup():D).getOriginalParent();R!==T&&m(v)}f<g.length&&m(g.length)}return l||this.setupParentsIntoCols(c,null),c}createProvidedColumnGroup(e,t,s,i,n,l,u){const c=n.getUniqueKey(t.groupId||null,null),h=this.createMergedColGroupDef(t,c),g=new el(h,c,!1,s);this.createBean(g);const f=this.findExistingGroup(t,l);f&&l.splice(f.idx,1);const m=f==null?void 0:f.group;m&&g.setExpanded(m.isExpanded());const v=Vw(this.beans,h.children,s+1,e,i,n,l,u);return g.setChildren(v),g}balanceColumnTree(e,t,s,i){const n=[];for(let l=0;l<e.length;l++){const u=e[l];if(mt(u)){const c=u,h=this.balanceColumnTree(c.getChildren(),t+1,s,i);c.setChildren(h),n.push(c)}else{let c,h;for(let g=s-1;g>=t;g--){const f=i.getUniqueKey(null,null),m=this.createMergedColGroupDef(null,f),v=new el(m,f,!0,t);this.createBean(v),h&&h.setChildren([v]),h=v,c||(c=h)}if(c&&h)if(n.push(c),e.some(f=>mt(f))){h.setChildren([u]);continue}else{h.setChildren(e);break}n.push(u)}}return n}findDepth(e){let t=0,s=e;for(;s&&s[0]&&mt(s[0]);)t++,s=s[0].getChildren();return t}findMaxDepth(e,t){let s=t;for(let i=0;i<e.length;i++){const n=e[i];if(mt(n)){const l=n,u=this.findMaxDepth(l.getChildren(),t+1);s<u&&(s=u)}}return s}balanceTreeForAutoCols(e,t){const s=[];return e.forEach(i=>{let n=i;for(let l=t-1;l>=0;l--){const u=new el(null,`FAKE_PATH_${i.getId()}}_${l}`,!0,l);this.createBean(u),u.setChildren([n]),n.originalParent=u,n=u}t===0&&(i.originalParent=null),s.push(n)}),s}createMergedColGroupDef(e,t){const s={},{gos:i,validation:n}=this.beans;return Object.assign(s,i.get("defaultColGroupDef")),Object.assign(s,e),n==null||n.validateColDef(s,t),s}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const n=t[i];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:i,group:n}}}createColumnGroup(e,t,s,i,n){const l=e.getGroupId(),u=t.getInstanceIdForKey(l),c=cb(l,u);let h=s[c];return h&&h.getProvidedColumnGroup()!==e&&(h=null),ge(h)?h.reset():(h=new db(e,l,u,i),n||this.createBean(h)),h}mapOldGroupsById(e){const t={},s=i=>{i.forEach(n=>{if(st(n)){const l=n;t[n.getUniqueId()]=l,s(l.getChildren())}})};return e&&s(e),t}setupParentsIntoCols(e,t){e.forEach(s=>{if(s.parent=t,st(s)){const i=s;this.setupParentsIntoCols(i.getChildren(),i)}})}},Bb={moduleName:"ColumnGroup",version:Ne,dynamicBeans:{headerGroupCellCtrl:CA},beans:[PA],apiFunctions:{getAllDisplayedColumnGroups:AA,getCenterDisplayedColumnGroups:MA,getColumnGroup:wA,getColumnGroupState:SA,getDisplayNameForColumnGroup:yA,getLeftDisplayedColumnGroups:DA,getProvidedColumnGroup:bA,getRightDisplayedColumnGroups:EA,resetColumnGroupState:xA,setColumnGroupOpened:vA,setColumnGroupState:RA}},LA={moduleName:"CheckboxCellRenderer",version:Ne,userComponents:{agCheckboxCellRenderer:fE}},IA=class extends j{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const s=this.flexViewportWidth;if(!s)return[];const{visibleCols:i}=this.beans,n=i.centerCols;let l=-1;if(e.resizingCols){const b=new Set(e.resizingCols);for(let R=n.length-1;R>=0;R--)if(b.has(n[R])){l=R;break}}let u=!1;const c=n.map((b,R)=>{const D=b.getFlex(),A=D!=null&&D>0&&R>l;return u||(u=A),{col:b,isFlex:A,flex:Math.max(0,D??0),initialSize:b.getActualWidth(),min:b.getMinWidth(),max:b.getMaxWidth(),targetSize:0}});if(!u)return[];let h=c.length,g=c.reduce((b,R)=>b+R.flex,0),f=s;const m=(b,R)=>{b.frozenSize=R,b.col.setActualWidth(R,t),f-=R,g-=b.flex,h-=1},v=b=>b.frozenSize!=null;for(const b of c)b.isFlex||m(b,b.initialSize);for(;h>0;){const b=Math.round(g<1?f*g:f);let R,D=0,A=0;for(const L of c){if(v(L))continue;R=L,A+=b*(L.flex/g);const I=A-D,k=Math.round(I);L.targetSize=k,D+=k}R&&(R.targetSize+=b-D);let T=0;for(const L of c){if(v(L))continue;const I=L.targetSize,k=Math.min(Math.max(I,L.min),L.max);T+=k-I,L.violationType=k===I?void 0:k<I?"max":"min",L.targetSize=k}const F=T===0?"all":T>0?"min":"max";for(const L of c)v(L)||(F==="all"||L.violationType===F)&&m(L,L.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const w=c.filter(b=>b.isFlex&&!b.violationType).map(b=>b.col);if(e.fireResizedEvent){const b=c.filter(D=>D.initialSize!==D.frozenSize).map(D=>D.col),R=c.filter(D=>D.flex).map(D=>D.col);au(this.eventSvc,b,!0,t,R)}return w}initCol(e){const{flex:t,initialFlex:s}=e.colDef;t!==void 0?e.flex=t:s!==void 0&&(e.flex=s)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},GA=class extends j{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const s={};this.formatValueFuncs=s;const i=u=>c=>{const{column:h,node:g,value:f}=c;let m=h.getColDef().valueFormatter;return m===u.groupSafeValueFormatter&&(m=u.valueFormatter),this.beans.valueSvc.formatValue(h,g,f,m)};for(const u of Object.keys(e)){const c=e[u],h={...c,groupSafeValueFormatter:dv(c,this.gos)};t[u]=h,s[u]=i(h)}const n=this.gos.get("dataTypeDefinitions")??{},l={};this.dataTypeMatchers=l;for(const u of Object.keys(n)){const c=n[u],h=this.processDataTypeDefinition(c,n,[u],e);h&&(t[u]=h,c.dataTypeMatcher&&(l[u]=c.dataTypeMatcher),s[u]=i(h))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(u=>{const c=l[u];c&&delete l[u],l[u]=c??e[u].dataTypeMatcher})}processDataTypeDefinition(e,t,s,i){let n;const l=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let u=i[l];const c=t[l];if(u&&c&&(u=c),!cv(e,u,l))return;n=uv(u,e)}else{if(s.includes(l)){re(44);return}const u=t[l];if(!cv(e,u,l))return;const c=this.processDataTypeDefinition(u,t,[...s,l],i);if(!c)return;n=uv(c,e)}return{...n,groupSafeValueFormatter:dv(n,this.gos)}}updateColDefAndGetColumnType(e,t,s){let{cellDataType:i}=t;const{field:n}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(n,s):!1),!i){e.cellDataType=!1;return}const l=this.dataTypeDefinitions[i];if(!l){re(47,{cellDataType:i});return}return e.cellDataType=i,l.groupSafeValueFormatter&&(e.valueFormatter=l.groupSafeValueFormatter),l.valueParser&&(e.valueParser=l.valueParser),l.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,l,s),l.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const s=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",s),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",s))}canInferCellDataType(e,t){const{gos:s}=this;if(!fi(s))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(gh(t,i))return!1;const n=t.type===null?e.type:t.type;if(n){const l=s.get("columnTypes")??{};if(ru(n).some(c=>{const h=l[c.trim()];return h&&gh(h,i)}))return!1}return!gh(e,i)}inferCellDataType(e,t){if(!e)return;let s;const i=this.getInitialData();if(i){const n=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");s=Ua(i,e,n)}else this.initWaitForRowData(t);if(s!=null)return Object.keys(this.dataTypeMatchers).find(n=>this.dataTypeMatchers[n](s))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const s=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(s!=null&&s.length)return s[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:s,eventSvc:i}=this.beans;t&&s&&(s.shouldQueueResizeOperations=!0);const[n]=this.addManagedEventListeners({rowDataUpdateStarted:l=>{const{firstRowData:u}=l;u&&(n==null||n(),this.isPendingInference=!1,this.processColumnsPendingInference(u,t),this.columnStateUpdatesPendingInference={},t&&(s==null||s.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const s=[];this.destroyColumnStateUpdateListeners();const i={},n={};for(const l of Object.keys(this.columnStateUpdatesPendingInference)){const u=this.columnStateUpdatesPendingInference[l],c=this.colModel.getCol(l);if(!c)return;const h=c.getColDef();if(!this.resetColDefIntoCol(c,"cellDataTypeInferred"))return;const g=c.getColDef();if(t&&g.type&&g.type!==h.type){const f=kA(c,u);f.rowGroup&&f.rowGroupIndex==null&&(i[l]=f),f.pivot&&f.pivotIndex==null&&(n[l]=f),s.push(f)}}t&&s.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,n)),s.length&&Ds(this.beans,{state:s},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const s={},{rowGroupColsSvc:i,pivotColsSvc:n}=this.beans;return i==null||i.restoreColumnOrder(s,e),n==null||n.restoreColumnOrder(s,t),Object.values(s)}resetColDefIntoCol(e,t){const s=e.getUserProvidedColDef();if(!s)return!1;const i=lu(this.beans,s,e.getColId());return e.setColDef(i,s,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,s=e.object;this.hasObjectValueParser=t.valueParser!==s.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==s.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const s=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return s?s(t):!0}validateColDef(e){const t=s=>re(48,{property:s});if(e.cellDataType==="object"){const{object:s}=this.dataTypeDefinitions;e.valueFormatter===s.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===s.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,s,i){var l;const n=this.formatValueFuncs[t];switch(s.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=u=>!!u.colDef.editable&&u.event.key===W.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=n;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=n;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(u,c)=>{const h=this.colModel.getColDefCol(i),g=h==null?void 0:h.getColDef();if(!h||!g)return 0;const f=u==null?"":n({column:h,node:null,value:u}),m=c==null?"":n({column:h,node:null,value:c});return f===m?0:f>m?1:-1},e.keyCreator=n;break}}(l=this.beans.filterManager)==null||l.setColDefPropertiesForDataType(e,s,n)}getDefaultDataTypes(){const e=s=>!!s.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:s=>{var i,n;return((n=(i=s.newValue)==null?void 0:i.trim)==null?void 0:n.call(i))===""?null:Number(s.newValue)},valueFormatter:s=>s.value==null?"":typeof s.value!="number"||isNaN(s.value)?t("invalidNumber","Invalid Number"):String(s.value),dataTypeMatcher:s=>typeof s=="number"},text:{baseDataType:"text",valueParser:s=>s.newValue===""?null:Eh(s.newValue),dataTypeMatcher:s=>typeof s=="string"},boolean:{baseDataType:"boolean",valueParser:s=>{var i,n;return s.newValue==null?s.newValue:((n=(i=s.newValue)==null?void 0:i.trim)==null?void 0:n.call(i))===""?null:String(s.newValue).toLowerCase()==="true"},valueFormatter:s=>s.value==null?"":String(s.value),dataTypeMatcher:s=>typeof s=="boolean"},date:{baseDataType:"date",valueParser:s=>nv(s.newValue==null?null:String(s.newValue)),valueFormatter:s=>s.value==null?"":!(s.value instanceof Date)||isNaN(s.value.getTime())?t("invalidDate","Invalid Date"):iv(s.value,!1)??"",dataTypeMatcher:s=>s instanceof Date},dateString:{baseDataType:"dateString",dateParser:s=>nv(s)??void 0,dateFormatter:s=>iv(s??null,!1)??void 0,valueParser:s=>e(String(s.newValue))?s.newValue:null,valueFormatter:s=>e(String(s.value))?s.value:"",dataTypeMatcher:s=>typeof s=="string"&&e(s)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:s=>Eh(s.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function uv(e,t){const s={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(s.columnTypes=[...ru(e.columnTypes),...ru(t.columnTypes)]),s}function cv(e,t,s){return t?t.baseDataType!==e.baseDataType?(re(46),!1):!0:(re(45,{parentCellDataType:s}),!1)}function dv(e,t){if(e.valueFormatter)return s=>{var i,n;if((i=s.node)!=null&&i.group){const l=(s.colDef.pivotValueColumn??s.column).getAggFunc();if(l){if(l==="first"||l==="last")return e.valueFormatter(s);if(e.baseDataType==="number"&&l!=="count"){if(typeof s.value=="number")return e.valueFormatter(s);if(typeof s.value=="object"){if(!s.value)return;if("toNumber"in s.value)return e.valueFormatter({...s,value:s.value.toNumber()});if("value"in s.value)return e.valueFormatter({...s,value:s.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&s.column.isRowGroupActive()&&typeof s.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,s.value)))return;return e.valueFormatter(s)}}function OA(e,t,s,i){if(!t[s])return!1;const n=e[s];return n===null?(t[s]=!1,!1):i===void 0?!!n:n===i}function gh(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([s,i])=>OA(e,t,s,i))}function kA(e,t){const s=$w(e);return t.forEach(i=>{delete s[i],i==="rowGroup"?delete s.rowGroupIndex:i==="pivot"&&delete s.pivotIndex}),s}var NA={moduleName:"DataType",version:Ne,beans:[GA],dependsOn:[LA]},BA={moduleName:"ColumnFlex",version:Ne,beans:[IA]};function HA(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,s=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(s,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}var zA=class extends j{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,s=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:n}=this.beans;return s&&n?n.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,s){const i=t==null?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,s):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,s,i,n){var u;const l=e.headerValueGetter;if(l){const c=Re(this.gos,{colDef:e,column:t,columnGroup:s,providedColumnGroup:i,location:n});return typeof l=="function"?l(c):typeof l=="string"?((u=this.beans.expressionSvc)==null?void 0:u.evaluate(l,c))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return HA(e.field)}return""}},VA=class extends j{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,s=!1){const{visibleCols:i}=this,n=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const u=i.bodyWidth;this.viewportLeft=u-t-e,this.viewportRight=u-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(s)}}getHeadersToRender(e,t){let s;switch(e){case"left":s=this.rowsOfHeadersToRenderLeft[t];break;case"right":s=this.rowsOfHeadersToRenderRight[t];break;default:s=this.rowsOfHeadersToRenderCenter[t];break}return s||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||_A(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,s=t+e.getActualWidth(),i=this.viewportLeft-200,n=this.viewportRight+200,l=t<i&&s<i,u=t>n&&s>n;return!l&&!u}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=l=>{const u=l.getLeft();return ge(u)&&u>this.viewportLeft},s=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,n=i.centerCols;return i.getColsForRow(e,n,s,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:s,treeLeft:i,treeRight:n,treeCenter:l}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(s).forEach(h=>e[h.getId()]=!0);const c=(h,g,f)=>{let m=!1;for(let v=0;v<h.length;v++){const w=h[v];let b=!1;if(Ws(w))b=e[w.getId()]===!0;else{const D=w.getDisplayedChildren();D&&(b=c(D,g,f+1))}b&&(m=!0,g[f]||(g[f]=[]),g[f].push(w))}return m};c(i,this.rowsOfHeadersToRenderLeft,0),c(n,this.rowsOfHeadersToRenderRight,0),c(l,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),s=this.colsWithinViewportHash!==t;return s&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),s}};function _A(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var WA=class extends j{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class s{refresh(){return!1}getGui(){return this.eGui}init(n){const l=t(n),u=typeof l;if(u==="string"||u==="number"||u==="boolean"){this.eGui=ng("<span>"+l+"</span>");return}if(l==null){this.eGui=$e({tag:"span"});return}this.eGui=l}}return s}},UA={moduleName:"CellRendererFunction",version:Ne,beans:[WA]},jA=class extends j{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:s,dynamicBeans:i,selectors:n}=e;if(s){const l=(u,c,h)=>{this.agGridDefaults[u]=c,h&&(this.agGridDefaultParams[u]=h)};for(const u of Object.keys(s)){const c=s[u];typeof c=="object"?l(u,c.classImp,c.params):l(u,c)}}if(i)for(const l of Object.keys(i))this.dynamicBeans[l]=i[l];if(n==null||n.forEach(l=>{this.selectors[l.selector]=l}),t)for(const l of Object.keys(t))this.icons[l]=t[l]}getUserComponent(e,t){var c;const s=(h,g,f)=>({componentFromFramework:g,component:h,params:f}),{frameworkOverrides:i}=this.beans,n=i.frameworkComponent(t,this.gos.get("components"));if(n!=null)return s(n,!0);const l=this.jsComps[t];if(l){const h=i.isFrameworkComponent(l);return s(l,h)}const u=this.agGridDefaults[t];return u?s(u,!1,this.agGridDefaultParams[t]):((c=this.beans.validation)==null||c.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...s){const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(qi(256));return}return new i(...s)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},KA=23,YA=class extends j{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(s=>s(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===KA&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const s=this.readyCallbacks.indexOf(t);s>=0&&this.readyCallbacks.splice(s,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:s}=this.params;return[e,s,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},qA=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',jv,Kv,Mg=typeof window!="object"||!((Kv=(jv=window==null?void 0:window.document)==null?void 0:jv.fonts)!=null&&Kv.forEach),_h=new WeakMap,Wo=(e,t,s,i,n,l)=>{if(Mg)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let u=_h.get(t);if(u||(u=[],_h.set(t,u)),u.find(f=>f.css===e))return;const c=document.createElement("style");l&&c.setAttribute("nonce",l),c.dataset.agGlobalCss=s,c.textContent=e;const h={css:e,el:c,priority:n};let g;for(const f of u){if(f.priority>n)break;g=f}if(g){g.el.insertAdjacentElement("afterend",c);const f=u.indexOf(g);u.splice(f+1,0,h)}else t.insertBefore(c,t.querySelector(":not(title, meta)")),u.push(h)},Hb=(e,t,s)=>{Wo(qA,e,"core",t,0,s),Array.from(ED()).sort((i,n)=>i.moduleName.localeCompare(n.moduleName)).forEach(i=>{var n;return(n=i.css)==null?void 0:n.forEach(l=>Wo(l,e,`module-${i.moduleName}`,t,0,s))})},Wh=new Set,$A=e=>{Wh.add(e)},ZA=e=>{if(Wh.delete(e),Wh.size===0){_h=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},gi=e=>new zb(e),_i="$default",XA=0,zb=class{constructor({feature:e,params:t,modeParams:s={},css:i,cssImports:n}){this.feature=e,this.css=i,this.cssImports=n,this.modeParams={[_i]:{...s[_i]??{},...t??{}},...s}}use(e,t,s){let i=this._inject;if(i==null){let{css:n}=this;if(n){const l=`ag-theme-${this.feature??"part"}-${++XA}`;typeof n=="function"&&(n=n()),n=`:where(.${l}) {
${n}
}
`;for(const u of this.cssImports??[])n=`@import url(${JSON.stringify(u)});
${n}`;i={css:n,class:l}}else i=!1;this._inject=i}return i&&e&&Wo(i.css,e,i.class,t,1,s),i?i.class:!1}},QA=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),Vb=e=>`--ag-${QA(e)}`,Ks=e=>`var(${Vb(e)})`,JA=(e,t,s)=>Math.max(t,Math.min(s,e)),eT=e=>{const t=new Map;return s=>{const i=s;return t.has(i)||t.set(i,e(s)),t.get(i)}},Os=e=>({ref:"accentColor",mix:e}),cs=e=>({ref:"foregroundColor",mix:e}),Rs=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),tT=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Zt={ref:"backgroundColor"},qr={ref:"foregroundColor"},Ki={ref:"accentColor"},mu={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:cs(.15),chromeBackgroundColor:Rs(.02),browserColorScheme:"light"},sT={...mu,textColor:qr,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Zt,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Ki,rangeSelectionBackgroundColor:Os(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Os(.5),rangeHeaderHighlightColor:tT(.08),rowNumbersSelectedColor:Os(.5),rowHoverColor:Os(.08),columnHoverColor:Os(.05),selectedRowBackgroundColor:Os(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Zt,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Zt,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:cs(.7),focusShadow:{spread:3,color:Os(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:cs(.1),iconButtonActiveColor:Ki,iconButtonActiveBackgroundColor:Os(.28),iconButtonActiveIndicatorColor:Ki,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Ki,toggleButtonOffBackgroundColor:Rs(.3),toggleButtonSwitchBackgroundColor:Zt,toggleButtonSwitchInset:2,menuBorder:{color:cs(.2)},menuBackgroundColor:Rs(.03),menuTextColor:Rs(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:cs(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Ki},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:cs(.2)},panelBackgroundColor:Zt,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:cs(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:cs(.13)},selectCellBackgroundColor:cs(.07),selectCellBorder:{color:cs(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:qr,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:qr,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:cs(.15),statusBarLabelColor:qr,statusBarLabelFontWeight:500,statusBarValueColor:qr,statusBarValueFontWeight:500},iT=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",nT={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},oT=()=>gi({feature:"buttonStyle",params:{...nT,buttonBackgroundColor:Zt,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Ki}},css:iT}),rT=oT(),lT=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",aT=()=>gi({feature:"columnDropStyle",css:lT}),_b=aT(),uT=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],cT=eT(e=>(e=e.toLowerCase(),uT.find(t=>e.endsWith(t.toLowerCase()))??"length")),Fu=e=>typeof e=="object"&&(e!=null&&e.ref)?Ks(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,Eg=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Ks(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Ks(e.onto):"transparent"}, ${t} ${JA(e.mix*100,0,100)}%)`}return!1},dT=Fu,Lo=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,s=>s[0]==="-"?s:` ${Ks(s)} `)})`:e&&"ref"in e?Ks(e.ref):!1,hT=Fu,gT=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Ks(e.ref):Wb(e.style??"solid")+" "+Lo(e.width??1)+" "+Eg(e.color??{ref:"borderColor"}),pT=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Ks(e.ref):[Lo(e.offsetX??0),Lo(e.offsetY??0),Lo(e.radius??0),Lo(e.spread??0),Eg(e.color??{ref:"foregroundColor"})].join(" "),Wb=Fu,Ub=e=>typeof e=="string"?e.includes(",")?e:hv(e):e&&"googleFont"in e?Ub(e.googleFont):e&&"ref"in e?Ks(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),hv(t))).join(", "):!1,hv=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),fT=Fu,jb=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?jb({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Ks(e.ref):!1,mT=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Te(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Ks(e.ref):!1,CT={color:Eg,colorScheme:dT,length:Lo,scale:hT,border:gT,borderStyle:Wb,shadow:pT,image:jb,fontFamily:Ub,fontWeight:fT,duration:mT},vT=(e,t)=>{const s=cT(e);return CT[s](t,e)},wT=()=>new Kb().withPart(rT).withPart(_b),Kb=class Yb{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof zb?new Yb([...this.parts,t]):(Fh(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(gi({feature:t}))}withParams(t,s=_i){return this.withPart(gi({modeParams:{[s]:t}}))}_startUse({styleContainer:t,cssLayer:s,nonce:i,loadThemeGoogleFonts:n}){if(Mg)return;yT(),Hb(t,s,i);const l=bT(this);if(l.length>0)for(const u of l)n&&RT(u,i);for(const u of this.parts)u.use(t,s,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=gv(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const s={[_i]:{...sT}};for(const i of gv(this.parts))for(const n of Object.keys(i.modeParams)){const l=i.modeParams[n];if(l){const u=s[n]??(s[n]={}),c=new Set;for(const h of Object.keys(l)){const g=l[h];g!==void 0&&(u[h]=g,c.add(h))}if(n===_i)for(const h of Object.keys(s)){const g=s[h];if(h!==_i)for(const f of c)delete g[f]}}}this._paramsCache=t=s}return t}_getPerGridCss(t){const s="##SELECTOR##";let i=this._paramsCssCache;if(!i){let n="",l="";const u=this._getModeParams();for(const h of Object.keys(u)){const g=u[h];if(h!==_i){const m=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(h):h}"]) & {
`;n+=m,l+=m}for(const f of Object.keys(g).sort()){const m=g[f],v=vT(f,m);if(v===!1)Te(107,{key:f,value:m});else{const w=Vb(f),b=w.replace("--ag-","--ag-inherited-");n+=`	${w}: var(${b}, ${v});
`,l+=`	${b}: var(${w});
`}}h!==_i&&(n+=`}
`,l+=`}
`)}let c=`${s} {
${n}}
`;c+=`:has(> ${s}):not(${s}) {
${l}}
`,this._paramsCssCache=i=c}return i.replaceAll(s,`:where(.${t})`)}},gv=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const s=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&s.push(i);return s},bT=e=>{const t=new Set,s=l=>{if(Array.isArray(l))l.forEach(s);else{const u=l==null?void 0:l.googleFont;typeof u=="string"&&t.add(u)}};return Object.values(e._getModeParams()).flatMap(l=>Object.values(l)).forEach(s),Array.from(t).sort()},pv=!1,yT=()=>{if(!pv){pv=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},ST=new Set,RT=async(e,t)=>{ST.add(e);const s=`@import url('https://${xT}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Wo(s,document.head,`googleFont:${e}`,void 0,0,t)},xT="fonts.googleapis.com",DT='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',MT=()=>gi({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Zt,checkboxUncheckedBorderColor:Rs(.3),checkboxCheckedBackgroundColor:Ki,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Zt,checkboxIndeterminateBackgroundColor:Rs(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Zt,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:DT}),ET=MT(),qb=()=>({...mu,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Rs(.05),rowHoverColor:Os(.15),selectedRowBackgroundColor:Os(.2),menuBackgroundColor:Rs(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:Zt,findActiveMatchColor:Zt,checkboxUncheckedBorderColor:Rs(.4),toggleButtonOffBackgroundColor:Rs(.4)}),AT=()=>({...qb(),backgroundColor:"#1f2836"}),TT=()=>gi({feature:"colorScheme",params:mu,modeParams:{light:mu,dark:qb(),"dark-blue":AT()}}),FT=TT(),$b={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},Zb={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},PT=(e={})=>{let t="";for(const s of[...Object.keys($b),...Object.keys(Zb)]){const i=LT(s,e.strokeWidth);t+=`.ag-icon-${s}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},LT=(e,t=1.5)=>{const s=Zb[e];if(s)return s;const i=$b[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},IT=(e={})=>gi({feature:"iconSet",css:()=>PT(e)}),GT=IT(),OT=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',kT=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",NT={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},BT=()=>gi({feature:"inputStyle",params:{...NT,inputBackgroundColor:Zt,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Ki},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Rs(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>OT+kT}),HT=BT(),zT='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',VT={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},_T=()=>gi({feature:"tabStyle",params:{...VT,tabBarBorder:!0,tabBarBackgroundColor:cs(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Zt},css:zT}),WT=_T(),UT=()=>wT().withPart(ET).withPart(FT).withPart(GT).withPart(WT).withPart(HT).withPart(_b).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),jT=UT(),KT={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},YT={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},qT={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},fv={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},mv={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Cv={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},ph={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},$T=0,ZT=class extends j{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++$T}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:s}=e;this.eGridDiv=t,this.eStyleContainer=s.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=s.themeCssLayer,this.styleNonce=s.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(fv),this.getSizeEl(mv),this.getSizeEl(Cv),this.getSizeEl(ph),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>ZA(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(fv)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(mv)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(KT)}getDefaultIndentation(){return this.getCSSVariablePixelValue(YT)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(qT)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),s=this.getDefaultRowGroupIndentSize();return e-1+s*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Cv)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ph)}applyThemeClasses(e){const{gridTheme:t}=this;let s="";if(t)s=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let n=!1;for(const l of Array.from(i.classList))l.startsWith("ag-theme-")&&(n=!0,s=s?`${s} ${l}`:l);n&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(s){const i=e.className;e.className=i+(i?" ":"")+s}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),s=this.gos.get("rowHeight");if(s==null||isNaN(s)||!isFinite(s))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${s}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),s):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Wo(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const s=this.measureSizeEl(e);return s==="detached"||s==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,s),s)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const s=t.offsetWidth;return s===fh?"no-styles":(this.sizesMeasured=!0,s)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=$e({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const s=this.getMeasurementContainer();t=$e({tag:"div"});const{border:i,noWarn:n}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${fh}px)`)):t.style.width=`var(${e.cssName}, ${fh}px)`,s.appendChild(t),this.sizeEls.set(e,t);let l=this.measureSizeEl(e);l==="no-styles"&&!n&&re(9,{variable:e});const u=pi(this.beans,t,()=>{const c=this.measureSizeEl(e);c==="detached"||c==="no-styles"||(this.lastKnownValues.set(e,c),c!==l&&(l=c,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>u()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(ph);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:s,gridTheme:i}=this,n=e.get("theme");let l;if(n==="legacy")l=void 0;else{const u=n??jT;u instanceof Kb?l=u:Te(240,{theme:u})}if(l!==i){if(l){$A(this),Hb(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[c,h]of s)Wo(c,this.eStyleContainer,h,this.cssLayer,0,this.styleNonce);s.length=0}this.gridTheme=l,l==null||l._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let u=this.eParamsStyle;if(!u){u=this.eParamsStyle=$e({tag:"style"});const c=this.gos.get("styleNonce");c&&u.setAttribute("nonce",c),t.appendChild(u)}Mg||(u.textContent=(l==null?void 0:l._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}l&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Te(n?106:239)}},fh=15538,XT=class extends j{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Zi}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,s){this.globalEventService.addEventListener(e,t,s)}removeEventListener(e,t,s){this.globalEventService.removeEventListener(e,t,s)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(Re(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(Re(this.gos,e))}};function Xb(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function Uh(e,t){let s;if(st(e)&&Xb(e)&&e.isPadding()){const i=e;s=i.getLeafColumns()[0];let n=s;for(;n!==i;)t++,n=n.getParent()}return{column:s||e,headerRowIndex:t}}var QT=class extends j{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,s=>{this.gridBodyCon=s.gridBodyCtrl});const t=lt(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let s;const{colModel:i,colGroupSvc:n,ctrlsSvc:l}=this.beans;if(typeof e=="string"?(s=i.getCol(e),s||(s=(n==null?void 0:n.getColumnGroup(e))??null)):s=e,!s)return null;const u=l.getHeaderRowContainerCtrl(),c=u==null?void 0:u.getAllCtrls(),h=Le(c||[]).type==="filter",g=zs(this.beans)-1;let f=-1,m=s;for(;m;)f++,m=m.getParent();let v=f;return t&&h&&v===g-1&&v++,v===-1?null:{headerRowIndex:v,column:s}}navigateVertically(e,t,s){const i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;const{headerRowIndex:n}=t,l=t.column,u=zs(this.beans),c=e==="UP",h=this.getHeaderRowType(n);let{headerRowIndex:g,column:f,headerRowIndexWithoutSpan:m}=c?JT(h,l,n):eF(h,l,n),v=!1;return g<0&&(g=0,f=l,v=!0),g>=u?(g=-1,this.currentHeaderRowWithoutSpan=-1):m!==void 0&&(this.currentHeaderRowWithoutSpan=m),!v&&!f?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:g,column:f},allowUserOverride:!0,event:s})}navigateHorizontally(e,t=!1,s){const{focusSvc:i,gos:n}=this.beans,l=i.focusedHeader;let u,c;this.currentHeaderRowWithoutSpan!==-1?l.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=l.headerRowIndex,e==="LEFT"!==n.get("enableRtl")?(c="Before",u=this.findHeader(l,c)):(c="After",u=this.findHeader(l,c));const h=n.getCallback("tabToNextHeader");if(t&&h){const g=i.focusHeaderPositionFromUserFunc({userFunc:h,headerPosition:u,direction:c});if(g){const{headerRowIndex:f}=i.focusedHeader||{};f!=null&&f!=l.headerRowIndex&&(this.currentHeaderRowWithoutSpan=f)}return g}return u||!t?i.focusHeaderPosition({headerPosition:u,direction:c,fromTab:t,allowUserOverride:!0,event:s}):this.focusNextHeaderRow(l,c,s)}focusNextHeaderRow(e,t,s){const i=e.headerRowIndex;let n=null,l;const u=this.beans;if(t==="Before"?i>0&&(l=i-1,this.currentHeaderRowWithoutSpan-=1,n=this.findColAtEdgeForHeaderRow(l,"end")):(l=i+1,this.currentHeaderRowWithoutSpan<zs(u)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,n=this.findColAtEdgeForHeaderRow(l,"start")),!n)return!1;const{column:c,headerRowIndex:h}=Uh(n.column,n==null?void 0:n.headerRowIndex);return u.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:h},direction:t,fromTab:!0,allowUserOverride:!0,event:s})}scrollToColumn(e,t="After"){if(e.getPinned())return;let s;if(st(e)){const i=e.getDisplayedLeafColumns();s=t==="Before"?Le(i):i[0]}else s=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(s)}findHeader(e,t){let s,i;const{colGroupSvc:n,visibleCols:l}=this.beans;if(st(e.column)?s=(n==null?void 0:n.getGroupAtDirection(e.column,t))??void 0:(i=`getCol${t}`,s=l[i](e.column)),!s)return;const{headerRowIndex:u}=e;if(this.getHeaderRowType(u)!=="filter"){const g=[s];for(;s.getParent();)s=s.getParent(),g.push(s);s=g[Math.max(0,g.length-1-u)]}const{column:c,headerRowIndex:h}=Uh(s,u);return{column:c,headerRowIndex:h}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:s,ctrlsSvc:i,colGroupSvc:n}=this.beans,l=s.allCols,u=l[t==="start"?0:l.length-1];if(!u)return;const c=i.getHeaderRowContainerCtrl(u.getPinned()),h=c==null?void 0:c.getRowType(e);if(h=="group"){const g=n==null?void 0:n.getColGroupAtLevel(u,e);return{headerRowIndex:e,column:g}}return{headerRowIndex:h==null?-1:e,column:u}}};function JT(e,t,s){const i=e==="filter",n=e==="column";let l=i?t:t.getParent(),u=s-1,c=u;if(n&&Xb(t.getParent())){for(;l&&l.isPadding();)l=l.getParent(),u--;c=u,u<0&&(l=t,u=s,c=void 0)}return{column:l,headerRowIndex:u,headerRowIndexWithoutSpan:c}}function eF(e,t,s,i="After"){let n=t,l=s+1;const u=l;if(e==="group"){const c=t.getDisplayedLeafColumns(),h=i==="After"?c[0]:Le(c),g=[];let f=h;for(;f.getParent()!==t;)f=f.getParent(),g.push(f);if(n=h,h.isSpanHeaderHeight())for(let m=g.length-1;m>=0;m--){const v=g[m];if(!v.isPadding()){n=v;break}l++}else n=Le(g),n||(n=h)}return{column:n,headerRowIndex:l,headerRowIndexWithoutSpan:u}}var tF=class extends j{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(BD(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||!this.doesRowOrCellHaveBrowserFocus()?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Ke(this.beans),xb)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Ke(this.beans);return this.isDomDataPresentInHierarchy(e,gu)?!0:this.isDomDataPresentInHierarchy(e,fu)}isDomDataPresentInHierarchy(e,t){let s=e;for(;s;){if(Sw(this.gos,s,t))return!0;s=s.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:s,column:i}=e,n={rowIndex:t,rowPinned:s,column:i,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:s});return l&&(n.isFullWidthCell=l.isFullWidth()),n}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:s,rowPinned:i,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:l=!1}=e,u=this.colModel.getCol(t);if(!u){this.focusedCell=null;return}this.focusedCell={rowIndex:s,rowPinned:Tn(i),column:u},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:n,preventScrollOnBrowserFocus:l})}isCellFocused(e){return this.focusedCell==null?!1:lb(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:s,pinned:i}}=e,{column:n,headerRowIndex:l}=this.focusedHeader;return t===n&&s===l&&i==n.getPinned()}focusHeaderPosition(e){var h;if(this.setFocusRecovered(),Gn(this.beans))return!1;const{direction:t,fromTab:s,allowUserOverride:i,event:n,fromCell:l,rowWithoutSpanValue:u}=e;let{headerPosition:c}=e;if(l&&((h=this.filterManager)!=null&&h.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(c);if(i){const g=this.focusedHeader,f=zs(this.beans);if(s){const m=this.gos.getCallback("tabToNextHeader");m&&(c=this.getHeaderPositionFromUserFunc({userFunc:m,direction:t,currentPosition:g,headerPosition:c,headerRowCount:f}))}else{const m=this.gos.getCallback("navigateToNextHeader");if(m&&n){const v={key:n.key,previousHeaderPosition:g,nextHeaderPosition:c,headerRowCount:f,event:n};c=m(v)}}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:t,event:n,fromCell:l,rowWithoutSpanValue:u}):!1}focusHeaderPositionFromUserFunc(e){if(Gn(this.beans))return!1;const{userFunc:t,headerPosition:s,direction:i,event:n}=e,l=this.focusedHeader,u=zs(this.beans),c=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:l,headerPosition:s,headerRowCount:u});return!!c&&this.focusProvidedHeaderPosition({headerPosition:c,direction:i,event:n})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:s,currentPosition:i,headerPosition:n,headerRowCount:l}=e,c=t({backwards:s==="Before",previousHeaderPosition:i,nextHeaderPosition:n,headerRowCount:l});return c===!0?i:c===!1?null:c}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:s,fromCell:i,rowWithoutSpanValue:n,event:l}=e,{column:u,headerRowIndex:c}=t,{filterManager:h,ctrlsSvc:g,headerNavigation:f}=this.beans;if(c===-1)return h!=null&&h.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:u,event:l});f==null||f.scrollToColumn(u,s);const m=g.getHeaderRowContainerCtrl(u.getPinned()),v=(m==null?void 0:m.focusHeader(t.headerRowIndex,u,l))||!1;return f&&v&&(n!=null||i)&&(f.currentHeaderRowWithoutSpan=n??-1),v}focusFirstHeader(){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const s=Uh(e,0);return this.focusHeaderPosition({headerPosition:s,rowWithoutSpanValue:0})}focusLastHeader(e){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay(!0))return!0;const t=zs(this.beans)-1,s=Le(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:s},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Tn(t)}focusOverlay(e){var s,i;const t=((s=this.overlays)==null?void 0:s.isVisible())&&((i=this.overlays.eWrapper)==null?void 0:i.getGui());return!!t&&Us(t,e)}focusGridView(e){var l,u,c,h,g,f;const{backwards:t=!1,canFocusOverlay:s=!0,event:i}=e;if((l=this.overlays)!=null&&l.isExclusive())return s&&this.focusOverlay(t);if(mg(this.beans))return t&&!Gn(this.beans)?this.focusLastHeader():s&&this.focusOverlay(t)?!0:t?!1:js(this.beans,t);const n=t?oM(this.beans):nM(this.beans);if(n){const m=e.column??((u=this.focusedHeader)==null?void 0:u.column),{rowIndex:v,rowPinned:w}=n,b=Cg(this.beans,n);if(!m||!b||v==null)return!1;if(m.isSuppressNavigable(b)){const R=this.gos.get("enableRtl");let D;return!i||i.key===W.TAB?D=R?W.LEFT:W.RIGHT:D=i.key,(c=this.beans.navigation)==null||c.navigateToNextCell(null,D,{rowIndex:v,column:m,rowPinned:w||null},!0),!0}if((h=this.navigation)==null||h.ensureCellVisible({rowIndex:v,column:m,rowPinned:w}),t){const R=this.rowRenderer.getRowByPosition(n);if(R!=null&&R.isFullWidth()&&((g=this.navigation)!=null&&g.tryToFocusFullWidthRow(n,t)))return!0}return this.setFocusedCell({rowIndex:v,column:m,rowPinned:Tn(w),forceBrowserFocus:!0}),(f=this.beans.rangeSvc)==null||f.setRangeToCell({rowIndex:v,rowPinned:w,column:m}),!0}return!!(s&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var i;const s=(t?void 0:this.advFilterFocusColumn)??((i=this.visibleCols.allCols)==null?void 0:i[0]);return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:zs(this.beans)-1}}):this.focusGridView({column:s})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},sF=class extends j{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var s;const e=this.ctrlsSvc.get("center");if(!e||(s=this.colAnimation)!=null&&s.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),s=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==s)&&(this.horizontalScrollGap=t,this.verticalScrollGap=s,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),s=typeof e=="number"&&e>=0?e:Hx();s!=null&&(this.scrollbarWidth=s,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},iF=class extends j{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var i;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:s}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(i=t.get("gridCtrl"))==null||i.destroyGridUi(),s.destroy(),super.destroy()}},nF=new Set(["gridPreDestroyed","fillStart","pasteStart"]),oF={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},rF=0,lF=0,aF=class extends j{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=lF++,this.propEventSvc=new Zi,this.globalEventHandlerFactory=e=>(t,s)=>{if(!this.isAlive())return;const i=nF.has(t);if(i&&!e||!i&&e)return;const n=Pw(t),l=this.gridOptions[n];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{l(s)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??oF[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ge(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(s=>e(this.addGridCommonParams(s)))}updateGridOptions({options:e,force:t,source:s="api"}){const i={id:rF++,properties:[]},n=[],{gridOptions:l,validation:u}=this;for(const c of Object.keys(e)){const h=e[c];u==null||u.warnOnInitialPropertyUpdate(s,c);const g=t||typeof h=="object"&&s==="api",f=l[c];if(g||f!==h){l[c]=h;const m={type:c,currentValue:h,previousValue:f,changeSet:i,source:s};n.push(m)}}u==null||u.processGridOptions(this.gridOptions),i.properties=n.map(c=>c.type),n.forEach(c=>{eu(this,`Updated property ${c.type} from`,c.previousValue," to ",c.currentValue),this.propEventSvc.dispatchEvent(c)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const s=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return s||Te(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),s}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:fg(),rowModelType:this.get("rowModelType"),isUmd:TD()}}isModuleRegistered(e){return Qw(e,this.gridId,this.get("rowModelType"))}};function Qb(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var uF=Qb(!0),cF=Qb(!1),dF=class extends Me{constructor(){super(...arguments),this.eFilter=ae,this.eFilterButton=ae,this.eSortIndicator=ae,this.eMenu=ae,this.eLabel=ae,this.eText=ae,this.eSortOrder=ae,this.eSortAsc=ae,this.eSortDesc=ae,this.eSortMixed=ae,this.eSortNone=ae,this.isLoadingInnerComponent=!1}refresh(e){var s,i,n;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((s=this.beans)!=null&&s.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const l={...e};Gt(l,e.innerHeaderComponentParams),(n=(i=this.innerHeaderComponent).refresh)==null||n.call(i,l)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const s=e.template;return s?s!=null&&s.trim?s.trim():s:t?uF:cF}init(e){this.params=e;const{sortSvc:t,touchSvc:s,rowNumbersSvc:i,userCompFactory:n}=this.beans,l=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!l),this.setTemplate(this.currentTemplate,l?[l]:void 0),s==null||s.setupForHeader(this),this.setMenu(),this.setupSort(),i==null||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(n,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const s=dD(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,s=this.currentDisplayName;if(this.currentDisplayName=t,s===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const i=ps(t,!0);this.eText.textContent=i}addInIcon(e,t,s){if(t==null)return;const i=ve(e,this.beans,s);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Nn(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:s}=this,i=Lt(e);this.addInIcon(i?"menu":"menuAlt",t,s.column),t.classList.toggle("ag-header-menu-icon",!i);const n=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=n,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(n)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:s}=this;t||this.toggleMenuAlwaysShow(!0),s.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var h;const{params:t,gos:s,beans:i,eMenu:n,eFilterButton:l}=this,u=t.column,c=Lt(s);if(e&&!c){if((h=i.menuSvc)!=null&&h.isFilterMenuInHeaderEnabled(u))return t.showFilter(l??n??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(n??l??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:s}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:n,eSortAsc:l,eSortDesc:u,eSortMixed:c,eSortNone:h}=this;i.attachCustomElements(n,l,u,c,h)}this.eSortIndicator.setupSort(s),this.currentSort&&e.setupHeader(this,s,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,s,i){if(!e)return Nn(t),!1;const n=this.params.column;return this.addInIcon(i,t,n),this.addManagedListeners(n,{filterChanged:s}),s(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Pe(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:s}=this;return e?t??s??this.getGui():s??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},hF={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},gF=class extends Me{constructor(){super(hF),this.agOpened=ae,this.agClosed=ae,this.agLabel=ae,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&re(89)}workOutInnerHeaderGroupComponent(e,t){const s=gD(e,t,t);s&&(this.isLoadingInnerComponent=!0,s.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:s},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const n=h=>{if(xs(h))return;const g=!s.isExpanded();i.colGroupSvc.setColumnGroupOpened(s.getProvidedColumnGroup(),g,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,n),this.addTouchAndClickListeners(i,e,n);const l=h=>{_s(h)};this.addManagedElementListeners(t,{dblclick:l}),this.addManagedElementListeners(e,{dblclick:l}),this.addManagedElementListeners(this.getGui(),{dblclick:n}),this.updateIconVisibility();const u=s.getProvidedColumnGroup(),c=this.updateIconVisibility.bind(this);this.addManagedListeners(u,{expandedChanged:c,expandableChanged:c})}addTouchAndClickListeners(e,t,s){var i;(i=e.touchSvc)==null||i.setupForHeaderGroup(this,t,s),this.addManagedElementListeners(t,{click:s})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:s}}=this;if(s.isExpandable()){const i=s.isExpanded();Pe(e,i),Pe(t,!i)}else Pe(e,!1),Pe(t,!1)}addInIcon(e,t){const s=ve(e,this.beans,null);s&&t.appendChild(s)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:s}=this;Pe(t,!1),Pe(s,!1);return}}setupLabel(e){var n;const{displayName:t,columnGroup:s}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(ge(t)&&!i){const l=ps(t,!0);this.agLabel.textContent=l}this.addOrRemoveCssClass("ag-sticky-label",!((n=s.getColGroupDef())!=null&&n.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},pF={moduleName:"ColumnHeaderComp",version:Ne,userComponents:{agColumnHeader:dF},icons:{menu:"menu",menuAlt:"menu-alt"}},fF={moduleName:"ColumnGroupHeaderComp",version:Ne,userComponents:{agColumnGroupHeader:gF},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},mF=class extends j{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&re(92)}createTask(e,t,s,i){this.verify();let n=s;i&&this.batchFrameworkComps&&(n="f1");const l={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],l),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((s,i)=>s.index!==i.index?t*(i.index-s.index):i.createOrder-s.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:s,f1:i,destroyTasks:n,beans:l}=this,{ctrlsSvc:u,frameworkOverrides:c}=l,h=t.list,g=s.list,f=i.list,m=Date.now();let v=0;const w=e<=0,b=u.getScrollFeature();for(;w||v<e;){if(!b.scrollGridIfNeeded()){let D;if(h.length)this.sortTaskList(t),D=h.pop().task;else if(g.length)this.sortTaskList(s),D=g.pop().task;else if(f.length)c.wrapOutgoing(()=>{for(;(w||v<e)&&!b.scrollGridIfNeeded();){if(f.length)this.sortTaskList(i),D=f.pop().task,D();else break;v=Date.now()-m}}),D=()=>{};else if(n.length)D=n.pop();else break;D()}v=Date.now()-m}h.length||g.length||f.length||n.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Ms(this.beans,e)}isQueueEmpty(){return!this.ticking}},CF={moduleName:"AnimationFrame",version:Ne,beans:[mF]},vF=class extends j{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!An())return;const t=(s,i,n)=>{var c;const{rowCtrl:l,cellCtrl:u}=e.getControlsForEventTarget((n==null?void 0:n.target)??null);u!=null&&u.column&&u.dispatchCellContextMenuEvent(n??null),(c=this.beans.contextMenuSvc)==null||c.handleContextMenuMouseEvent(void 0,n,l,u)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!An()||Iw("dblclick"))return!1;const i=Date.now(),n=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:s}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:n,eFilterButton:l}=e,u=new xn(e.getGui(),!0),c=e.shouldSuppressMenuHide(),h=c&&ge(n),g=h?new xn(n,!0):u;if(i.enableMenu){const f=h?"tap":"longTap",m=v=>i.showColumnMenuAfterMouseClick(v.touchStart);e.addManagedListeners(g,{[f]:m})}if(i.enableSorting){const f=m=>{const v=m.touchStart.target;c&&(n!=null&&n.contains(v)||l!=null&&l.contains(v))||s==null||s.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(u,{tap:f})}if(i.enableFilterButton&&l){const f=new xn(l,!0);e.addManagedListeners(f,{tap:()=>i.showFilter(l)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>u.destroy()),h&&e.addDestroyFunc(()=>g.destroy())}setupForHeaderGroup(e,t,s){const i=new xn(t,!0);e.addManagedListeners(i,{tap:s}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,s){if(!An())return;const i=new xn(t),n=l=>{ll(this.gos,l.touchEvent)&&s(void 0,l.touchStart,l.touchEvent)};e.addManagedListeners(i,{longTap:n}),e.addDestroyFunc(()=>i.destroy())}},wF={moduleName:"Touch",version:Ne,beans:[vF]},bF=class extends j{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,s=!1){return s?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const s=e===W.UP,i=e===W.DOWN,n=e===W.LEFT;let l,u;const{pageBounds:c,gos:h,visibleCols:g}=this.beans;if(s||i)u=s?c.getFirstRow():c.getLastRow(),l=t.column;else{const f=h.get("enableRtl");u=t.rowIndex,l=(n!==f?g.allCols:[...g.allCols].reverse()).find(v=>this.isCellGoodToFocusOn({rowIndex:u,rowPinned:null,column:v}))}return l?{rowIndex:u,rowPinned:null,column:l}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let s=t,i=!1;for(;!i;){switch(e){case W.UP:s=this.getCellAbove(s);break;case W.DOWN:s=this.getCellBelow(s);break;case W.RIGHT:s=this.gos.get("enableRtl")?this.getCellToLeft(s):this.getCellToRight(s);break;case W.LEFT:s=this.gos.get("enableRtl")?this.getCellToRight(s):this.getCellToLeft(s);break;default:s=null,re(8,{key:e});break}s?i=this.isCellGoodToFocusOn(s):i=!0}return s}isCellGoodToFocusOn(e){const t=e.column;let s;const{pinnedRowModel:i,rowModel:n}=this.beans;switch(e.rowPinned){case"top":s=i==null?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":s=i==null?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:s=n.getRow(e.rowIndex);break}return s?!this.isSuppressNavigable(t,s):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellEnd(e))??e,s=qC(this.beans,t);return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getCellAbove(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellStart(e))??e,s=pu(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return s?{rowIndex:s.rowIndex,column:e.column,rowPinned:s.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:s}=this.beans,i=t.allCols;let n=e.rowIndex,l=e.rowPinned,u=t.getColAfter(e.column);if(!u){u=i[0];const c=qC(this.beans,e);if(Ze(c)||!c.rowPinned&&!((s==null?void 0:s.isRowInPage(c.rowIndex))??!0))return null;n=c?c.rowIndex:null,l=c?c.rowPinned:null}return{rowIndex:n,column:u,rowPinned:l}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:s,pagination:i}=t,n=s.allCols;let l=e.rowIndex,u=e.rowPinned,c=s.getColBefore(e.column);if(!c){c=Le(n);const h=pu(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ze(h)||!h.rowPinned&&!((i==null?void 0:i.isRowInPage(h.rowIndex))??!0))return null;l=h?h.rowIndex:null,u=h?h.rowPinned:null}return{rowIndex:l,column:c,rowPinned:u}}isSuppressNavigable(e,t){const{suppressNavigable:s}=e.colDef;if(typeof s=="boolean")return s;if(typeof s=="function"){const i=e.createColumnFunctionCallbackParams(t);return s(i)}return!1}};function yF(e){return e.focusSvc.getFocusedCell()}function SF(e){return e.focusSvc.clearFocusedCell()}function RF(e,t,s,i){e.focusSvc.setFocusedCell({rowIndex:t,column:s,rowPinned:i,forceBrowserFocus:!0})}function xF(e,t){var s;return((s=e.navigation)==null?void 0:s.tabToNextCell(!1,t))??!1}function DF(e,t){var s;return((s=e.navigation)==null?void 0:s.tabToNextCell(!0,t))??!1}function MF(e,t,s=!1){var n;const i=(n=e.headerNavigation)==null?void 0:n.getHeaderPositionForColumn(t,s);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var EF=class extends j{constructor(){super(),this.beanName="navigation",this.onPageDown=_C(this.onPageDown,100),this.onPageUp=_C(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const s=e.key,i=e.altKey,n=e.ctrlKey||e.metaKey,l=!!this.beans.rangeSvc&&e.shiftKey,u=eM(this.gos,e);let c=!1;switch(s){case W.PAGE_HOME:case W.PAGE_END:!n&&!i&&(this.onHomeOrEndKey(s),c=!0);break;case W.LEFT:case W.RIGHT:case W.UP:case W.DOWN:if(!u)return!1;n&&!i&&!l&&(this.onCtrlUpDownLeftRight(s,u),c=!0);break;case W.PAGE_DOWN:case W.PAGE_UP:!n&&!i&&(c=this.handlePageUpDown(s,u,t));break}return c&&e.preventDefault(),c}handlePageUpDown(e,t,s){return s&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===W.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:s,scrollColumn:i,focusIndex:n,focusColumn:l}=e,{scrollFeature:u}=this.gridBodyCon;ge(i)&&!i.isPinned()&&u.ensureColumnVisible(i),ge(t)&&u.ensureIndexVisible(t,s),e.isAsync||u.ensureIndexVisible(n);const{focusSvc:c,rangeSvc:h}=this.beans;c.setFocusedCell({rowIndex:n,column:l,rowPinned:null,forceBrowserFocus:!0}),h==null||h.setRangeToCell({rowIndex:n,rowPinned:null,column:l})}onPageDown(e){const t=this.beans,s=mh(t),i=this.getViewportHeight(),{pageBounds:n,rowModel:l,rowAutoHeight:u}=t,c=n.getPixelOffset(),h=s.top+i,g=l.getRowIndexAtPixel(h+c);u!=null&&u.active?this.navigateToNextPageWithAutoHeight(e,g):this.navigateToNextPage(e,g)}onPageUp(e){const t=this.beans,s=mh(t),{pageBounds:i,rowModel:n,rowAutoHeight:l}=t,u=i.getPixelOffset(),c=s.top,h=n.getRowIndexAtPixel(c+u);l!=null&&l.active?this.navigateToNextPageWithAutoHeight(e,h,!0):this.navigateToNextPage(e,h,!0)}navigateToNextPage(e,t,s=!1){const{pageBounds:i,rowModel:n}=this.beans,l=this.getViewportHeight(),u=i.getFirstRow(),c=i.getLastRow(),h=i.getPixelOffset(),g=n.getRow(e.rowIndex),f=s?(g==null?void 0:g.rowHeight)-l-h:l-h,m=(g==null?void 0:g.rowTop)+f;let v=n.getRowIndexAtPixel(m+h);if(v===e.rowIndex){const b=s?-1:1;t=v=e.rowIndex+b}let w;s?(w="bottom",v<u&&(v=u),t<u&&(t=u)):(w="top",v>c&&(v=c),t>c&&(t=c)),this.isRowTallerThanView(n.getRow(v))&&(t=v,w="top"),this.navigateTo({scrollIndex:t,scrollType:w,scrollColumn:null,focusIndex:v,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,s=!1){this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,s);this.navigateTo({scrollIndex:t,scrollType:s?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const s=t?-1:1,i=this.getViewportHeight(),{pageBounds:n,rowModel:l}=this.beans,u=n.getLastRow();let c=0,h=e.rowIndex;for(;h>=0&&h<=u;){const g=l.getRow(h);if(g){const f=g.rowHeight??0;if(c+f>i)break;c+=f}h+=s}return Math.max(0,Math.min(h,u))}getViewportHeight(){const e=this.beans,t=mh(e),s=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=s),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const s=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=s,n=s.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})}onHomeOrEndKey(e){const t=e===W.PAGE_HOME,{visibleCols:s,pageBounds:i,rowModel:n}=this.beans,l=s.allCols,u=t?i.getFirstRow():i.getLastRow(),c=n.getRow(u);if(!c)return;const h=(t?l:[...l].reverse()).find(g=>!g.isSuppressNavigable(c));h&&this.navigateTo({scrollIndex:u,scrollType:null,scrollColumn:h,focusIndex:u,focusColumn:h})}onTabKeyDown(e,t){const s=t.shiftKey,i=this.tabToNextCellCommon(e,s,t),n=this.beans,{ctrlsSvc:l,pageBounds:u,focusSvc:c,gos:h}=n;if(i!==!1){i?t.preventDefault():i===null&&l.get("gridCtrl").allowFocusForNextCoreContainer(s);return}if(s){const{rowIndex:g,rowPinned:f}=e.getRowPosition();(f?g===0:g===u.getFirstRow())&&(h.get("headerHeight")===0||Gn(n)?js(n,!0,!0):(t.preventDefault(),c.focusPreviousFromFirstCell(t)))}else e instanceof Ka&&e.focusCell(!0),(!s&&c.focusOverlay(!1)||js(n,s))&&t.preventDefault()}tabToNextCell(e,t){const s=this.beans,{focusSvc:i,rowRenderer:n}=s,l=i.getFocusedCell();if(!l)return!1;let u=La(s,l);return!u&&(u=n.getRowByPosition(l),!u||!u.isFullWidth())?!1:!!this.tabToNextCellCommon(u,e,t)}tabToNextCellCommon(e,t,s){let i=e.editing;if(!i&&e instanceof Ka){const u=e.rowCtrl;u&&(i=u.editing)}let n;return i?this.gos.get("editType")==="fullRow"?n=this.moveToNextEditingRow(e,t,s):n=this.moveToNextEditingCell(e,t,s):n=this.moveToNextCellNotEditing(e,t,s),n===null?n:n||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,s=null){var l;const i=e.cellPosition;e.eGui.focus(),e.stopEditing();const n=this.findNextCellToFocusOn(i,t,!0);return n===!1?null:n==null?!1:((l=this.beans.editSvc)==null||l.startEditing(n,null,!0,s),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,s=null){const i=e.cellPosition,n=this.findNextCellToFocusOn(i,t,!0);if(n===!1)return null;if(n==null)return!1;const l=n.cellPosition,u=this.isCellEditable(i),c=this.isCellEditable(l),h=l&&i.rowIndex===l.rowIndex&&i.rowPinned===l.rowPinned,{editSvc:g,rowEditSvc:f}=this.beans;if(u&&(g==null||g.setFocusOutOnEditor(e)),!h){const m=e.rowCtrl;g==null||g.stopRowEditing(m);const v=n.rowCtrl;f==null||f.startEditing(v,void 0,void 0,s)}return c?(g==null||g.setFocusInOnEditor(n),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t,s){const i=this.beans.visibleCols.allCols;let n;if(e instanceof Bh){if(n={...e.getRowPosition(),column:t?i[0]:Le(i)},this.gos.get("embedFullWidthRows")&&s){const u=e.findFullWidthInfoForEvent(s);u&&(n.column=u.column)}}else n=e.getFocusedCellPosition();const l=this.findNextCellToFocusOn(n,t,!1);if(l===!1)return null;if(l instanceof Ka)l.focusCell(!0);else if(l)return this.tryToFocusFullWidthRow(l,t);return ge(l)}findNextCellToFocusOn(e,t,s){let i=e;const n=this.beans,{cellNavigation:l,gos:u,focusSvc:c,rowRenderer:h,rangeSvc:g}=n;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=l.getNextTabbedCell(i,t);const f=u.getCallback("tabToNextCell");if(ge(f)){const b=f({backwards:t,editing:s,previousCellPosition:e,nextCellPosition:i||null});if(b===!0)i=e;else{if(b===!1)return!1;i={rowIndex:b.rowIndex,column:b.column,rowPinned:b.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const w=zs(n);return c.focusHeaderPosition({headerPosition:{headerRowIndex:w+i.rowIndex,column:i.column},fromCell:!0}),null}const m=u.get("editType")==="fullRow";if(s&&!m&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const v=La(n,i);if(!v){const w=h.getRowByPosition(i);if(!w||!w.isFullWidth()||s)continue;return{...w.getRowPosition(),column:i==null?void 0:i.column}}if(!l.isSuppressNavigable(v.column,v.rowNode))return v.setFocusedCellPosition(i),g==null||g.setRangeToCell(i),v}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:s,rowModel:i}=this.beans;return t==="top"?s==null?void 0:s.getPinnedTopRow(e):t==="bottom"?s==null?void 0:s.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,s,i){let n=s,l=!1;const u=this.beans,{cellNavigation:c,focusSvc:h,gos:g}=u;for(;n&&(n===s||!this.isValidNavigateCell(n));)g.get("enableRtl")?t===W.LEFT&&(n=this.getLastCellOfColSpan(n)):t===W.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=c.getNextCellToFocus(t,n),l=Ze(n);if(l&&e&&e.key===W.UP&&(n={rowIndex:-1,rowPinned:null,column:s.column}),i){const m=g.getCallback("navigateToNextCell");if(ge(m)){const w=m({key:t,previousCellPosition:s,nextCellPosition:n||null,event:e});ge(w)?n={rowPinned:w.rowPinned,rowIndex:w.rowIndex,column:w.column}:n=null}}if(!n)return;if(n.rowIndex<0){const m=zs(u);h.focusHeaderPosition({headerPosition:{headerRowIndex:m+n.rowIndex,column:s.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(n);f?this.focusPosition(f):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){var i;if(!!((i=this.beans.spannedRowRenderer)!=null&&i.getCellByPosition(e)))return e;this.ensureCellVisible(e);const s=La(this.beans,e);return s?(e=s.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:s,rowRenderer:i,focusSvc:n,eventSvc:l}=this.beans,u=s.allCols,c=i.getRowByPosition(e);if(!c||!c.isFullWidth())return!1;const h=n.getFocusedCell(),g={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Le(u):u[0])};this.focusPosition(g);const f=t??(h!=null&&iM(g,h));return l.dispatchEvent({type:"fullWidthRowFocused",rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:g.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:s}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),s==null||s.setRangeToCell(e)}isValidNavigateCell(e){return!!Cg(this.beans,e)}getLastCellOfColSpan(e){const t=La(this.beans,e);if(!t)return e;const s=t.getColSpanningList();return s.length===1?e:{rowIndex:e.rowIndex,column:Le(s),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=xu(this.gos),s=this.beans.rowModel.getRow(e.rowIndex),i=t&&(s==null?void 0:s.sticky),{scrollFeature:n}=this.gridBodyCon;!i&&Ze(e.rowPinned)&&n.ensureIndexVisible(e.rowIndex),e.column.isPinned()||n.ensureColumnVisible(e.column)}};function mh(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var AF={moduleName:"KeyboardNavigation",version:Ne,beans:[EF,bF,QT],apiFunctions:{getFocusedCell:yF,clearFocusedCell:SF,setFocusedCell:RF,setFocusedHeader:MF,tabToNextCell:xF,tabToPreviousCell:DF}},TF=class extends j{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:s}=this.beans;t?t.calculatePages():e.calculateBounds(0,s.getRowCount()-1)}},FF=class extends j{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,s=(e==null?void 0:e.rowTop)??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:s,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:s}=this.beans,i=s.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const n=s.getRowBounds(t);n&&(n.rowIndex=t),this.bottomRowBounds=n,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},PF=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",LF=class extends j{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const s of this.elements)s&&(Pe(s,t),Vs(s,e))}},IF=class extends j{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:s}=this.beans,i=It(e,"print"),n=i?0:t.getColsLeftWidth(),l=i?0:t.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,s.dispatchEvent({type:"leftPinnedWidthChanged"})),l!=this.rightWidth&&(this.rightWidth=l,s.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=il(e);if(t<=50)return;const s=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:n,hasLockedPinned:l}=s;let u=n;!u.length&&!l||(i&&(u=i({columns:u,viewportWidth:t})),!(!u||!u.length)&&(u=u.filter(c=>!ou(c)),this.setColsPinned(u,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new LF(e,t)}setColsPinned(e,t,s){const{colModel:i,colAnimation:n,visibleCols:l,gos:u}=this.beans;if(!i.cols||!(e!=null&&e.length))return;if(It(u,"print")){re(37);return}n==null||n.start();let c;t===!0||t==="left"?c="left":t==="right"?c="right":c=null;const h=[];e.forEach(g=>{if(!g)return;const f=i.getCol(g);f&&f.getPinned()!==c&&(this.setColPinned(f,c),h.push(f))}),h.length&&(l.refresh(s),Kw(this.eventSvc,h,s)),n==null||n.finish()}initCol(e){const{pinned:t,initialPinned:s}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,s)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const s=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const n=()=>{const l=s?this.leftWidth:this.rightWidth;if(l==null)return;const u=l==0,c=e.hidden!==u,h=this.gos.get("enableRtl"),g=t.getScrollbarWidth(),m=t.verticalScrollShowing&&(h&&s||!h&&i)?l+g:l;e.comp.setPinnedContainerWidth(`${m}px`),e.comp.setDisplayed(!u),c&&(e.hidden=u,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:n}=this,l=il(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+n+e>l)if(l>i+n)e=l-i-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,s=this.leftWidth??0,i=t+s;let n=!1;if(i<e)return{columns:[],hasLockedPinned:n};const{visibleCols:l}=this.beans,u=[...l.leftCols],c=[...l.rightCols];let h=0,g=0;const f=0,m=[];let v=i-f-e;for(;(g<u.length||h<c.length)&&v>0;){if(h<c.length){const w=c[h++];if(w.colDef.lockPinned){n=!0;continue}v-=w.getActualWidth(),m.push(w)}if(g<u.length&&v>0){const w=u[g++];if(w.colDef.lockPinned){n=!0;continue}v-=w.getActualWidth(),m.push(w)}}return{columns:m,hasLockedPinned:n}}},GF={moduleName:"PinnedColumn",version:Ne,beans:[IF],css:[PF]},OF=class extends j{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Mn(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=lt(e),s=this.descriptionContainer=t.createElement("div");s.classList.add("ag-aria-description-container"),Qv(s,"polite"),xx(s,"additions text"),Rx(s,!0),e.eGridDiv.appendChild(s)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(ms(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},kF={moduleName:"Aria",version:Ne,beans:[OF]};function NF(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function BF(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function HF(e){var t;(t=e.overlays)==null||t.hideOverlay()}var zF=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",VF={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},Jb=class extends Me{constructor(){super(VF),this.eOverlayWrapper=ae,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(zF)}handleKeyDown(e){if(e.key!==W.TAB||e.defaultPrevented||xs(e))return;const t=this.beans;if(fs(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:Le(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=js(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const s=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:n,PRINT:l}=Ya;s.toggle(i,t.autoHeight),s.toggle(n,t.normal),s.toggle(l,t.print)}postConstruct(){this.createManagedBean(new wg(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,s,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),s&&this.isGridFocused()){const n=Ke(this.beans);n&&!su(this.beans)&&(this.elToFocusAfter=n)}e.then(n=>{if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}if(this.activePromise=null,!!n){if(this.activeOverlay!==n&&(this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,i)){const l=n;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:u})=>{var c;(c=l.refresh)==null||c.call(l,Re(this.gos,{...u??{}}))})}s&&this.isGridFocused()&&Us(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const s=this.updateListenerDestroyFunc;s&&(s(),this.updateListenerDestroyFunc=null),this.destroyBean(e),ms(this.eOverlayWrapper),(i=t==null?void 0:t.focus)==null||i.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Ke(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},_F={selector:"AG-OVERLAY-WRAPPER",component:Jb},WF=class extends j{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=fi(this.gos),this.isServerSide=!this.isClientSide&&Cs(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){re(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return _F}getOverlayWrapperCompClass(){return Jb}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:s,beans:{gos:i,colModel:n,rowModel:l}}=this;let u=this.gos.get("loading");u!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&u===void 0&&!i.get("suppressLoadingOverlay")&&(u=!i.get("columnDefs")||!n.ready||!i.get("rowData")&&t),u?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&l.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!s&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(wD(this.beans.userCompFactory,Re(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(bD(this.beans.userCompFactory,Re(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,s){var n;const i=(e==null?void 0:e.newAgStackInstance())??null;(n=this.eWrapper)==null||n.showOverlay(i,t,this.isExclusive(),s),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const s=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(s==null?void 0:s.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},UF={moduleName:"Overlay",version:Ne,userComponents:{agLoadingOverlay:iE,agNoRowsOverlay:oE},apiFunctions:{showLoadingOverlay:NF,showNoRowsOverlay:BF,hideOverlay:HF},beans:[WF]},jF=class extends j{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=Bx(),eu(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;eu(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),s=e/t;return this.maxScrollY*s}},KF=400,YF=class extends j{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(l=>l.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(l=>l.updateRangeBordersIfRangeCount())},s=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ol(this.gos)?s():i()}),ol(this.gos)&&s()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:n})=>{(!n&&i||n&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:s}=this.beans;if(s&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=s.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=It(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new qF(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var i;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),s=((i=this.cachedRowCtrls)==null?void 0:i.getEntries())??[];t.length>0||s.length>0?this.allRowCtrls=[...e,...t,...s]:this.allRowCtrls=e}isCellRendered(e,t){const s=this.getAllRowCtrls();for(const i of s)if(!(i.rowNode.rowPinned||i.rowNode.rowIndex!==e)&&(i.isFullWidth()||!t||i.getCellCtrl(t)))return!0;return!1}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellRendered(e.rowIndex,t)||this.redrawAfterModelUpdate()}this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(s=>t.onFlashCells(s,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const s=h=>{this.getAllCellCtrls().forEach(g=>{g.column===t&&h(g)})},i=()=>{s(h=>h.onLeftChanged())},n=()=>{s(h=>h.onWidthChanged())},l=()=>{s(h=>h.onFirstRightPinnedChanged())},u=()=>{s(h=>h.onLastLeftPinnedChanged())},c=()=>{s(h=>h.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",n),t.__addEventListener("firstRightPinnedChanged",l),t.__addEventListener("lastLeftPinnedChanged",u),t.__addEventListener("colDefChanged",c),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",n),t.__removeEventListener("firstRightPinnedChanged",l),t.__removeEventListener("lastLeftPinnedChanged",u),t.__removeEventListener("colDefChanged",c)})})}onDomLayoutChanged(){const e=It(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),s=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,s&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(s=>{var n;const i=(n=s.getCellCtrl(e,!0))==null?void 0:n.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:s,beans:i,printLayout:n}=this,l=Object.fromEntries(e.map(c=>[c.rowNode.id,c]));s==null||s.forEachPinnedRow(t,(c,h)=>{const g=e[h];g&&s.getPinnedRowById(g.rowNode.id,t)===void 0&&(g.destroyFirstPass(),g.destroySecondPass()),c.id in l?(e[h]=l[c.id],delete l[c.id]):e[h]=new Bh(c,i,!1,!1,n)});const u=(t==="top"?s==null?void 0:s.getPinnedTopRowCount():s==null?void 0:s.getPinnedBottomRowCount())??0;e.length=u}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var s,i;if(e.sticky)(s=this.stickyRowFeature)==null||s.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=l=>{const u=l[e.rowIndex];u&&u.rowNode===e&&(u.destroyFirstPass(),u.destroySecondPass(),l[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(s=>this.redrawRow(s,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var u;this.getLockOnRefresh();const t=(u=this.beans.focusSvc)==null?void 0:u.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const s=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&ag(this.gos),n=s?this.getRowsToRecycle():null;s||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:l}=this;if(l){l.checkStickyRows();const c=l.extraTopHeight+l.extraBottomHeight;c&&this.updateContainerHeights(c)}this.recycleRows(n,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var i;const t=e.newData||e.newPage,s=this.gos.get("suppressScrollOnNewData");t&&!s&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let s=this.pageBounds.getCurrentPageHeight();s===0&&(s=1),t.setModelHeight(s+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(qi(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,s=this.findPositionToFocus(e);if(!s){t.focusHeaderPosition({headerPosition:{headerRowIndex:zs(this.beans)-1,column:e.column}});return}if(e.rowIndex!==s.rowIndex||e.rowPinned!=s.rowPinned){t.setFocusedCell({...s,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.onCellFocusChanged(Re(this.gos,{...s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:s}=this.beans;let i=e;for(i.rowPinned==null&&t&&s&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:s.getFirstRow()});i;){if(i.rowPinned==null&&s)if(i.rowIndex<s.getFirstRow()){if(i=pu(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>s.getLastRow()&&(i={rowPinned:null,rowIndex:s.getLastRow()});const n=this.getRowByPosition(i);if(n!=null&&n.isAlive())return{...n.getRowPosition(),column:e.column};i=pu(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),s=t.length;for(let i=0;i<s;i++){const n=t[i].getAllCellCtrls(),l=n.length;for(let u=0;u<l;u++)e.push(n[u])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),s=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...s,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,s){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,s)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const s of this.getCellCtrls(e.rowNodes,e.columns))s.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const s of this.getRowCtrls(e)){if(!s.isFullWidth())continue;s.refreshFullWidth()||(t=!0,this.redrawRow(s.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=vv(e),s=this.getAllRowCtrls();return!e||!t?s:s.filter(i=>{const n=i.rowNode;return wv(n,t)})}getCellCtrls(e,t){let s;ge(t)&&(s={},t.forEach(n=>{const l=this.colModel.getCol(n);ge(l)&&(s[l.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(l=>{const u=l.column.getId();s&&!s[u]||i.push(l)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var s;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(s=this.stickyRowFeature)==null||s.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const s of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[s].rowNode.id==null&&e.push(s);this.removeRowCtrls(e);const t={};for(const s of Object.values(this.rowCtrlsByRowIndex)){const i=s.rowNode;t[i.id]=s}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(s=>{const i=this.rowCtrlsByRowIndex[s];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[s]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:s}=this.beans,{afterScroll:i}=e;let n;const l=this.stickyRowFeature;l&&(n=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const u=this.firstRenderedRow,c=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let h=!1;if(l){h=l.checkStickyRows();const f=l.extraTopHeight+l.extraBottomHeight;f&&this.updateContainerHeights(f)}const g=this.firstRenderedRow!==u||this.lastRenderedRow!==c;if(!(i&&!h&&!g)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!h),n!=null)){const f=t==null?void 0:t.getFocusCellToUseAfterRefresh();n!=null&&f==null&&(s==null||s.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const s={};e.forEach(l=>s[l]=!0);const n=Object.keys(this.rowCtrlsByRowIndex).filter(l=>!s[l]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){var u,c;const t=[];for(let h=this.firstRenderedRow;h<=this.lastRenderedRow;h++)t.push(h);const s=this.beans.pagination,i=(c=(u=this.beans.focusSvc)==null?void 0:u.getFocusedCell())==null?void 0:c.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!s||s.isRowInPage(i))&&t.push(i);const n=h=>{const g=h.rowNode.rowIndex;g==null||g===i||(g<this.firstRenderedRow||g>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(h)&&t.push(g)};for(const h of Object.values(this.rowCtrlsByRowIndex))n(h);if(e)for(const h of Object.values(e))n(h);t.sort((h,g)=>h-g);const l=[];for(let h=0;h<t.length;h++){const g=t[h],f=this.rowModel.getRow(g);f&&!f.sticky&&l.push(g)}return l}recycleRows(e,t=!1,s=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||s)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(n=>{this.createOrUpdateRowCtrl(n,e,t,s)}),e){const{animationFrameSvc:n}=this.beans;(n==null?void 0:n.active)&&s&&!this.printLayout?n.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),s=e.isPinningRight();(this.pinningLeft!==t||s!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const s=t.rowNode.rowIndex;e.push(s.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=vv(e);return this.getAllRowCtrls().filter(s=>{if(!s.isFullWidth())return!1;const i=s.rowNode;return!(t!=null&&!wv(i,t))})}createOrUpdateRowCtrl(e,t,s,i){let n,l=this.rowCtrlsByRowIndex[e];if(l||(n=this.rowModel.getRow(e),ge(n)&&ge(t)&&t[n.id]&&n.alreadyRendered&&(l=t[n.id],t[n.id]=null)),!l)if(n||(n=this.rowModel.getRow(e)),ge(n))l=this.createRowCon(n,s,i);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=l,l}destroyRowCtrls(e,t){const s=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const n=i.instanceId;this.zombieRowCtrls[n]=i,s.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[n]})}else i.destroySecondPass()}}t&&(s.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>s.forEach(i=>i()),KF))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Bn(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:s}=this;e.updateOffset();let i,n;if(!s.isRowsToRender())i=0,n=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),n=t.getLastRow();else{const f=this.getRowBufferInPixels(),m=this.ctrlsSvc.getScrollFeature(),v=this.gos.get("suppressRowVirtualisation");let w=!1,b,R;do{const L=t.getPixelOffset(),{pageFirstPixel:I,pageLastPixel:k}=t.getCurrentPagePixelRange(),U=e.divStretchOffset,K=m.getVScrollPosition(),ne=K.top,oe=K.bottom;v?(b=I+U,R=k+U):(b=Math.max(ne+L-f,I)+U,R=Math.min(oe+L+f,k)+U),this.firstVisibleVPixel=Math.max(ne+L,I)+U,this.lastVisibleVPixel=Math.min(oe+L,k)+U,w=this.ensureAllRowsInRangeHaveHeightsCalculated(b,R)}while(w);let D=s.getRowIndexAtPixel(b),A=s.getRowIndexAtPixel(R);const T=t.getFirstRow(),F=t.getLastRow();D<T&&(D=T),A>F&&(A=F),i=D,n=A}const l=It(this.gos,"normal"),u=this.gos.get("suppressMaxRenderedRowRestriction"),c=Math.max(this.getRowBuffer(),500);l&&!u&&n-i>c&&(n=i+c);const h=i!==this.firstRenderedRow,g=n!==this.lastRenderedRow;(h||g)&&(this.firstRenderedRow=i,this.lastRenderedRow=n,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:n}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Ms(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var c,h;const s=(c=this.pinnedRowModel)==null?void 0:c.ensureRowHeightsValid(),i=(h=this.stickyRowFeature)==null?void 0:h.ensureRowHeightsValid(),{pageBounds:n,rowModel:l}=this,u=l.ensureRowHeightsValid(e,t,n.getFirstRow(),n.getLastRow());return(u||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||u||s?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,n=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),l=e.editing,u=i.detail;return n||l||u?!!this.isRowPresent(i):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,s){var u,c;const i=((u=this.cachedRowCtrls)==null?void 0:u.getRow(e))??null;if(i)return i;const n=s&&!this.printLayout&&!!((c=this.beans.animationFrameSvc)!=null&&c.active);return new Bh(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),s=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...s]}getRowByPosition(e){let t;const{rowIndex:s}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[s];break;case"bottom":t=this.bottomRowCtrls[s];break;default:t=this.rowCtrlsByRowIndex[s],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===s)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===s)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},qF=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,s=this.entriesMap[t];delete this.entriesMap[t],vs(this.entriesList,s)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],vs(this.entriesList,e)}getEntries(){return this.entriesList}};function vv(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(s=>{const i=s.id;switch(s.rowPinned){case"top":t.top[i]=s;break;case"bottom":t.bottom[i]=s;break;default:t.normal[i]=s;break}}),t}function wv(e,t){const s=e.id;switch(e.rowPinned){case"top":return t.top[s]!=null;case"bottom":return t.bottom[s]!=null;default:return t.normal[s]!=null}}var $F=class extends j{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Bs(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Bs(e))}doFullSort(e,t){const s=e.map((i,n)=>({currentPos:n,rowNode:i}));return s.sort(this.compareRowNodes.bind(this,t)),s.map(i=>i.rowNode)}compareRowNodes(e,t,s){const i=t.rowNode,n=s.rowNode;for(let l=0,u=e.length;l<u;l++){const c=e[l],h=c.sort==="desc",g=this.getValue(i,c.column),f=this.getValue(n,c.column);let m;const v=this.getComparator(c,i);if(v?m=v(g,f,i,n,h):m=Kx(g,f,this.isAccentedSort),!isNaN(m)&&m!==0)return c.sort==="asc"?m:m*-1}return t.currentPos-s.currentPos}getComparator(e,t){const s=e.column,i=s.getColDef().comparator;if(i!=null)return i;if(!s.getColDef().showRowGroup)return;const n=!t.group&&s.getColDef().field;if(!n)return;const l=this.beans.colModel.getColDefCol(n);if(l)return l.getColDef().comparator}getValue(e,t){var c,h;const{valueSvc:s,colModel:i,showRowGroupCols:n,gos:l}=this.beans;if(!this.primaryColumnsSortGroups)return s.getValue(t,e,!1);if(e.rowGroupColumn===t){if(cg(l,i.isPivotActive())){const m=(c=e.allLeafChildren)==null?void 0:c[0];return m?s.getValue(t,m,!1):void 0}const f=n==null?void 0:n.getShowRowGroupCol(t.getId());return f?(h=e.groupData)==null?void 0:h[f.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return s.getValue(t,e,!1)}};function ZF(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var $r=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),XF={tag:"span",cls:"ag-sort-indicator-container",children:[$r("Order","order"),$r("Asc","ascending-icon"),$r("Desc","descending-icon"),$r("Mixed","mixed-icon"),$r("None","none-icon")]},Ag=class extends Me{constructor(e){super(),this.eSortOrder=ae,this.eSortAsc=ae,this.eSortDesc=ae,this.eSortMixed=ae,this.eSortNone=ae,e||this.setTemplate(XF)}attachCustomElements(e,t,s,i,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=s,this.eSortMixed=i,this.eSortNone=n}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const s=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",s),this.addManagedEventListeners({newColumnsLoaded:s,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,s){if(t==null)return;const i=ve(e,this.beans,s);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:s,column:i,gos:n,beans:l}=this,u=l.sortSvc.getDisplaySortForColumn(i);if(e&&Pe(e,u==="asc",{skipAriaHidden:!0}),t&&Pe(t,u==="desc",{skipAriaHidden:!0}),s){const c=!i.getColDef().unSortIcon&&!n.get("unSortIcon"),h=u==null;Pe(s,!c&&h,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:s}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;Bs(s)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:s}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(s)==="mixed";Pe(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:s}}=this;if(!e)return;const i=s.getColumnsWithSortingOrdered(),n=s.getDisplaySortIndexForColumn(t)??-1,l=i.some(c=>s.getDisplaySortIndexForColumn(c)??!1),u=n>=0&&l;Pe(e,u,{skipAriaHidden:!0}),n>=0?e.textContent=(n+1).toString():ms(e)}},QF={selector:"AG-SORT-INDICATOR",component:Ag},al=["asc","desc",null],JF=class extends j{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,s){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,s)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,s,i){var f;t!=="asc"&&t!=="desc"&&(t=null);const{gos:n,showRowGroupCols:l}=this.beans,u=Bs(n);let c=[e];if(u&&e.getColDef().showRowGroup){const m=(f=l==null?void 0:l.getSourceColumnsForGroupColumn)==null?void 0:f.call(l,e),v=m==null?void 0:m.filter(w=>w.isSortable());v&&(c=[e,...v])}c.forEach(m=>this.setColSort(m,t,i));const h=(s||n.get("alwaysMultiSort"))&&!n.get("suppressMultiSort"),g=[];if(!h){const m=this.clearSortBarTheseColumns(c,i);g.push(...m)}this.updateSortIndex(e),g.push(...c),this.dispatchSortChangedEvents(i,g)}updateSortIndex(e){const{gos:t,colModel:s,showRowGroupCols:i}=this.beans,n=Bs(t),l=i==null?void 0:i.getShowRowGroupCol(e.getId()),u=n&&l||e,c=this.getColumnsWithSortingOrdered();s.forAllCols(f=>this.setColSortIndex(f,null));const h=c.filter(f=>n&&f.getColDef().showRowGroup?!1:f!==u);(u.getSort()?[...h,u]:h).forEach((f,m)=>this.setColSortIndex(f,m))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const s={type:"sortChanged",source:e};t&&(s.columns=t),this.eventSvc.dispatchEvent(s)}clearSortBarTheseColumns(e,t){const s=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&s.push(i),this.setColSort(i,void 0,t))}),s}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??al,s=t.indexOf(e.getSort()),i=s<0,n=s==t.length-1;return i||n?t[0]:t[s+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:s,rowGroupColsSvc:i}=this.beans;let n=[];if(t.forAllCols(g=>{g.getSort()&&n.push(g)}),t.isPivotMode()){const g=Bs(e);n=n.filter(f=>{const m=!!f.getAggFunc(),v=!f.isPrimary(),w=g?s==null?void 0:s.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return m||v||w})}const l=(i==null?void 0:i.columns.filter(g=>!!g.getSort()))??[],u={};n.forEach((g,f)=>u[g.getId()]=f),n.sort((g,f)=>{const m=g.getSortIndex(),v=f.getSortIndex();if(m!=null&&v!=null)return m-v;if(m==null&&v==null){const w=u[g.getId()],b=u[f.getId()];return w>b?1:-1}else return v==null?-1:1});const c=Bs(e)&&!!l.length;c&&(n=[...new Set(n.map(g=>(s==null?void 0:s.getShowRowGroupCol(g.getId()))??g))]);const h=new Map;return n.forEach((g,f)=>h.set(g,f)),c&&l.forEach(g=>{const f=s.getShowRowGroupCol(g.getId());h.set(g,h.get(f))}),h}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Bs(this.gos),s=!!e.getColDef().showRowGroup;return t&&s}getDisplaySortForColumn(e){var u;const t=(u=this.beans.showRowGroupCols)==null?void 0:u.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=i[0].getSort();return i.every(c=>c.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,s){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),s&&e.addManagedElementListeners(s,{click:l=>{const u=t.isMoving(),h=Date.now()-i<50;u||h||this.progressSortFromEvent(t,l)}});const n=()=>{var u;const l=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",l==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",l==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!l),t.getColDef().showRowGroup){const c=(u=this.beans.showRowGroupCols)==null?void 0:u.getSourceColumnsForGroupColumn(t),g=!(c==null?void 0:c.every(f=>t.getSort()==f.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",g)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){const{sort:t,initialSort:s,sortIndex:i,initialSortIndex:n}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(s==="asc"||s==="desc")&&(e.sort=s),i!==void 0?i!==null&&(e.sortIndex=i):n!==null&&(e.sortIndex=n)}updateColSort(e,t,s){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,s):this.setColSort(e,void 0,s))}setColSort(e,t,s){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",s)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new Ag(e)}getSortIndicatorSelector(){return QF}},ey={moduleName:"Sort",version:Ne,beans:[JF,$F],apiFunctions:{onSortChanged:ZF},userComponents:{agSortIndicator:Ag},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},eP=class extends j{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:s}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),s.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),eu(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Ln(e.source))}}},ty=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:s,children:i}=e;if(i)for(let n=0;n<i.length;++n)this.depthFirstSearchChangedPath(i[n],t);t(s)}depthFirstSearchEverything(e,t,s){const i=e.childrenAfterGroup;if(i)for(let n=0,l=i.length;n<l;++n){const u=i[n];u.childrenAfterGroup?this.depthFirstSearchEverything(u,t,s):s&&t(u)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,s=!1){this.active&&!s?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,s=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,s++,t=t.parent}return s}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let s=e;for(;s;)this.nodeIdsToColumns[s.id]||(this.nodeIdsToColumns[s.id]={}),t.forEach(i=>this.nodeIdsToColumns[s.id][i.getId()]=!0),s=s.parent}linkPathItems(e,t){let s=e;for(let i=0;i<t;i++){const n=this.mapToItems[s.id],l=this.mapToItems[s.parent.id];l.children||(l.children=[]),l.children.push(n),s=s.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const s=this.createPathItems(e);this.linkPathItems(e,s),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const s=this.nodeIdsToColumns[e.id];return t.filter(n=>s[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const s=this.nodeIdsToColumns[e.id];return t.filter(n=>!s[n.getId()])}},tP="paste",sP=class extends j{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;fi(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:s}=this.beans;if(e.source===tP||t.get("suppressChangeDetection"))return;const i=e.node,n=[i],l=this.clientSideRowModel,u=l==null?void 0:l.rootNode;if(u&&!i.isRowPinned()){const c=t.get("aggregateOnlyChangedColumns"),h=new ty(c,u);h.addParentNode(i.parent,[e.column]),l.doAggregate(h),h.forEachChangedNodeDepthFirst(g=>{n.push(g),g.sibling&&n.push(g.sibling)})}s.refreshCells({rowNodes:n})}},iP=class extends j{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Te(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(s){return Te(16,{expression:e,params:t,e:s}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const s=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",s);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},nP={moduleName:"Expression",version:Ne,beans:[iP]},oP={moduleName:"ChangeDetection",version:Ne,beans:[sP]},rP=class extends j{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Cs(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const s=e.getColDef().showRowGroup;if(s!=null){if(typeof s=="string"){const h=this.getDisplayedNode(t,e,!0);if(h)return this.getValue(e,h)}const c=this.getValue(e,t);if(c==null){const h=this.getDisplayedNode(t,e);if(h)return this.getValue(e,h)}return c}const i=t.leafGroup&&this.colModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,l=this.gos.get("groupSuppressBlankHeader")||!t.sibling,u=n&&!l;return this.getValue(e,t,u)}getValue(e,t,s=!1){var w;if(this.initialised||this.init(),!t)return;const i=e.getColDef(),n=i.field,l=e.getColId(),u=t.data;let c;const h=i.showRowGroup;if(typeof h=="string"&&(((w=this.beans.rowGroupColsSvc)==null?void 0:w.getColumnIndex(h))??-1)>t.level)return null;const g=t.groupData&&t.groupData[l]!==void 0,f=!s&&t.aggData&&t.aggData[l]!==void 0,m=this.isSsrm&&s&&!!e.getColDef().aggFunc,v=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&f?c=t.aggData[l]:this.isTreeData&&i.valueGetter?c=this.executeValueGetter(i.valueGetter,u,e,t):this.isTreeData&&n&&u?c=Ua(u,n,e.isFieldContainsDots()):g?c=t.groupData[l]:f?c=t.aggData[l]:i.valueGetter?c=this.executeValueGetter(i.valueGetter,u,e,t):v?c=Ua(u,t.field,e.isFieldContainsDots()):n&&u&&!m&&(c=Ua(u,n,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){const b=c.substring(1);c=this.executeValueGetter(b,u,e,t)}return c}parseValue(e,t,s,i){var u;const n=e.getColDef(),l=n.valueParser;if(ge(l)){const c=Re(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:i,newValue:s,colDef:n,column:e});return typeof l=="function"?l(c):(u=this.expressionSvc)==null?void 0:u.evaluate(l,c)}return s}getDeleteValue(e,t){return ge(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,s,i,n=!0){let l=null,u;const c=e.getColDef();if(i?u=i:n&&(u=c.valueFormatter),u){const h=Re(this.gos,{value:s,node:t,data:t?t.data:null,colDef:c,column:e});typeof u=="function"?l=u(h):l=this.expressionSvc?this.expressionSvc.evaluate(u,h):null}else if(c.refData)return c.refData[s]||"";return l==null&&Array.isArray(s)&&(l=s.join(", ")),l}getDisplayedNode(e,t,s=!1){var h,g,f;const i=this.gos,n=i.get("groupHideOpenParents"),l=i.get("showOpenedGroup")&&!s;if(!n&&!l)return;const u=t.colDef.showRowGroup;if(u===!0)return e.group?void 0:e.parent??void 0;let c=e;for(;c&&((h=c.rowGroupColumn)==null?void 0:h.getId())!=u;){const m=c===((f=(g=c.parent)==null?void 0:g.childrenAfterSort)==null?void 0:f[0]);if(!l&&!m)return;c=c.parent}if(c!==e)return c??void 0}setValue(e,t,s,i){var f,m;const n=this.colModel.getColDefCol(t);if(!e||!n)return!1;Ze(e.data)&&(e.data={});const{field:l,valueSetter:u}=n.getColDef();if(Ze(l)&&Ze(u))return re(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(n,s))return re(135),!1;const c=Re(this.gos,{node:e,data:e.data,oldValue:this.getValue(n,e),newValue:s,colDef:n.getColDef(),column:n});c.newValue=s;let h;if(ge(u)?typeof u=="function"?h=u(c):h=(f=this.expressionSvc)==null?void 0:f.evaluate(u,c):h=this.setValueUsingField(e.data,l,s,n.isFieldContainsDots()),h===void 0&&(h=!0),!h)return!1;e.resetQuickFilterAggregateText(),(m=this.valueCache)==null||m.onDataChanged();const g=this.getValue(n,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,colDef:c.colDef,data:e.data,node:e,oldValue:c.oldValue,newValue:g,value:g,source:i}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,s,i){if(!t)return!1;let n=!1;if(!i)n=e[t]===s,n||(e[t]=s);else{const l=t.split(".");let u=e;for(;l.length>0&&u;){const c=l.shift();l.length===0?(n=u[c]===s,n||(u[c]=s)):u=u[c]}}return!n}executeValueGetterWithValueCache(e,t,s,i){const n=s.getColId(),l=this.valueCache.getValue(i,n);if(l!==void 0)return l;const u=this.executeValueGetterWithoutValueCache(e,t,s,i);return this.valueCache.setValue(i,n,u),u}executeValueGetterWithoutValueCache(e,t,s,i){var u;const n=Re(this.gos,{data:t,node:i,column:s,colDef:s.getColDef(),getValue:this.getValueCallback.bind(this,i)});let l;return typeof e=="function"?l=e(n):l=(u=this.expressionSvc)==null?void 0:u.evaluate(e,n),l}getValueCallback(e,t){const s=this.colModel.getColDefCol(t);return s?this.getValue(s,e):null}getKeyForNode(e,t){const s=this.getValue(e,t),i=e.getColDef().keyCreator;let n=s;if(i){const l=Re(this.gos,{value:s,colDef:e.getColDef(),column:e,node:t,data:t.data});n=i(l)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&re(121)),n}},lP={moduleName:"CommunityCore",version:Ne,beans:[iF,kE,jA,q0,jF,FA,XT,aF,_0,FF,TF,YF,rP,tF,ZT,sF,YA,eP,zA,VA],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:NE,destroy:BE,isDestroyed:HE,getGridOption:zE,setGridOption:VE,updateGridOptions:Ib},dependsOn:[NA,Dg,fA,ey,pF,Bb,fF,UF,oP,CF,AF,GF,kF,wF,UA,BA,nP]},Tg=class yn{static applyGlobalGridOptions(t){if(!yn.gridOptions)return{...t};let s={};return Gt(s,yn.gridOptions,!0,!0),yn.mergeStrategy==="deep"?Gt(s,t,!0,!0):s={...s,...t},yn.gridOptions.context&&(s.context=yn.gridOptions.context),t.context&&(yn.mergeStrategy==="deep"&&s.context&&Gt(t.context,s.context,!0,!0),s.context=t.context),s}};Tg.gridOptions=void 0;Tg.mergeStrategy="shallow";var sy=Tg;function aP(e){var t;return(t=sy.gridOptions)==null?void 0:t[e]}var uP=1,cP=class{create(e,t,s,i,n,l){const u=sy.applyGlobalGridOptions(t),c=u.gridId??String(uP++),h=u.rowModelType??"clientSide",g=this.getRegisteredModules(n,c,h),f=this.createBeansList(h,g,c),m=this.createProvidedBeans(e,u,n);if(!f)return;const v={providedBeanInstances:m,beanClasses:f,gridId:c,beanInitComparator:LE,beanDestroyComparator:IE,derivedBeans:[FE],destroyCallback:l},w=new LD(v);return this.registerModuleFeatures(w,g),s(w),w.getBean("syncSvc").start(),i&&i(w),w.getBean("gridApi")}getRegisteredModules(e,t,s){var i;return rl(lP,void 0),(i=e==null?void 0:e.modules)==null||i.forEach(n=>rl(n,t)),MD(t,s)}registerModuleFeatures(e,t){const s=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(n=>{s.registerModule(n);const l=n.apiFunctions;l&&Object.keys(l).forEach(c=>{i==null||i.addFunction(c,l[c])})})}createProvidedBeans(e,t,s){let i=s?s.frameworkOverrides:null;Ze(i)&&(i=new Pb);const n={gridOptions:t,eGridDiv:e,globalListener:s?s.globalListener:null,globalSyncListener:s?s.globalSyncListener:null,frameworkOverrides:i};return s&&s.providedBeanInstances&&Object.assign(n,s.providedBeanInstances),n}createBeansList(e,t,s){const n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!n){Fh(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!Qw(n,s,e)){Fh(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:n,gridScoped:fg(),gridId:s,rowModelType:e},`Missing module ${n}Module for rowModelType ${e}. 
If upgrading from before v33, see ${Fn}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const l=new Set;return t.forEach(u=>{var c;return(c=u.beans)==null?void 0:c.forEach(h=>l.add(h))}),Array.from(l)}};function dP(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function hP(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function qo(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var gP=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged"],pP=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],fP=[...gP,...pP],mP=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],CP=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],vP=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],iy=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],wP=["theme","rowSelection"],bP=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],ny=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],yP=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],SP=[...vP,...CP,...mP,...iy,...yP,...ny,...bP,...wP],RP=class{wrap(e,t,s,i){const n=this.createWrapper(e,i);return t==null||t.forEach(l=>{this.createMethod(n,l,!0)}),s==null||s.forEach(l=>{this.createMethod(n,l,!1)}),n}createMethod(e,t,s){e.addMethod(t,this.createMethodProxy(e,t,s))}createMethodProxy(e,t,s){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(s&&re(49,{methodName:t}),null)}}};function oy(e){const{inputValue:t,allSuggestions:s,hideIrrelevant:i,filterByPercentageOfBestMatch:n}=e;let l=s.map((h,g)=>({value:h,relevance:xP(t,h),idx:g}));if(l.sort((h,g)=>g.relevance-h.relevance),i&&(l=l.filter(h=>h.relevance!==0)),l.length>0&&n&&n>0){const g=l[0].relevance*n;l=l.filter(f=>g-f.relevance<0)}const u=[],c=[];for(const h of l)u.push(h.value),c.push(h.idx);return{values:u,indices:c}}function xP(e,t){if(e===t)return 1e3;const s=e.length,i=t.length;if(s===0||i===0)return 0;const n=e.toLocaleLowerCase(),l=t.toLocaleLowerCase(),u=l.indexOf(n);if(u!==-1)return 980-u*2;if([...n].filter(m=>l.includes(m)).length===0)return 0;let h=Array.from({length:i+1},(m,v)=>v);for(let m=0;m<s;m++){const v=[m+1];for(let w=0;w<i;w++){const b=h[w+1]+1,R=v[w]+1;let D=h[w]+(e[m]!==t[w]?1:0);i>10&&w>i/2&&(D+=1),m>0&&w>0&&e[m-1]===t[w-1]&&(D-=4),v.push(Math.min(b,R,D))}h=v}const g=Math.round(h[i]),f=Math.max(1,1e3-g*30);return Math.max(1,f)}var DP={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Vt="clientSide",Pt="serverSide",Po="infinite",MP={onGroupExpandedOrCollapsed:[Vt],refreshClientSideRowModel:[Vt],isRowDataEmpty:[Vt],forEachLeafNode:[Vt],forEachNodeAfterFilter:[Vt],forEachNodeAfterFilterAndSort:[Vt],resetRowHeights:[Vt],applyTransaction:[Vt],applyTransactionAsync:[Vt],flushAsyncTransactions:[Vt],getBestCostNodeSelection:[Vt],getServerSideSelectionState:[Pt],setServerSideSelectionState:[Pt],applyServerSideTransaction:[Pt],applyServerSideTransactionAsync:[Pt],applyServerSideRowData:[Pt],retryServerSideLoads:[Pt],flushServerSideAsyncTransactions:[Pt],refreshServerSide:[Pt],getServerSideGroupLevelState:[Pt],refreshInfiniteCache:[Po],purgeInfiniteCache:[Po],getInfiniteRowCount:[Po],isLastRowIndexKnown:[Po,Pt],expandAll:[Vt,Pt],collapseAll:[Vt,Pt],onRowHeightChanged:[Vt,Pt],setRowCount:[Po,Pt],getCacheBlockState:[Po,Pt]},EP={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function AP(e,t,s){const i=EP[e];if(i){const{version:l,new:u,old:c,message:h}=i,g=c??e;return(...f)=>{const m=u?`Please use ${u} instead. `:"";return Jr(`Since ${l} api.${g} is deprecated. ${m}${h??""}`),t.apply(t,f)}}const n=MP[e];return n?(...l)=>{const u=s.rowModel.getType();if(!n.includes(u)){Oo(`api.${e} can only be called when gridOptions.rowModelType is ${n.join(" or ")}`);return}return t.apply(t,l)}:t}var ry={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Ch=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],TP={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Ch,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Ch,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Ch,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},FP={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function PP(e,t){const s=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const n=TP[i];n?n.forEach(l=>{const u=FP[l];(!u||u===t)&&s.push(l)}):s.push(i)}),s}var ko={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},LP=e=>{const t=e.map(i=>`import { ${tl(i)} } from '${ry[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>tl(i,!0)).join(", ")} ]); 

For more info see: ${Fn}/modules/`};function tl(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function IP(e,t){const s=t.filter(l=>l==="IntegratedCharts"||l==="Sparklines");let i="";return!(globalThis==null?void 0:globalThis.agCharts)&&s.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(l=>ry[l])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}var bv=({reasonOrId:e,moduleName:t,gridScoped:s,gridId:i,rowModelType:n,additionalText:l,isUmd:u})=>{const c=PP(t,n),h=typeof e=="string"?e:NP[e];if(u)return IP(h,c);const g=c.filter(v=>v==="IntegratedCharts"||v==="Sparklines"),f=g.length>0?`${g.map(v=>tl(v)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${h} as ${c.length>1?"one of "+c.map(v=>tl(v)).join(", "):tl(c[0])} is not registered${s?" for gridId: "+i:""}. ${f} Check if you have registered the module:
`}
${LP(c)}`+(l?` 

${l}`:"")},yv=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,GP=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,OP={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:s})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",s],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${GP(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:s,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${s?"":" the default"} paginationPageSizeSelector=[${i==null?void 0:i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:s,jsComps:i})=>{const n=[],l=[...Object.keys(s??[]).filter(c=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(c)),...Object.keys(i??[])],u=oy({inputValue:t,allSuggestions:l,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return n.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),u.length>0&&n.push(`         Did you mean: [${u.slice(0,3)}]?
`),n.push("If using a custom component check it has been registered correctly."),n},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Fn}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:s})=>["duplicate group keys for row data, keys should be unique",e,t,...s??[]],187:({rowId:e,firstData:t,secondData:s})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",s],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:bv,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Fn}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>yv("IntegratedChartsModule"),258:()=>yv("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:s,gridId:i,rowModelType:n})=>bv({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:ko[t],gridId:i,gridScoped:s,rowModelType:n}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Fn}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`};function kP(e,t){const s=OP[e];if(!s)return[`Missing error text for error id ${e}!`];const i=s(t),l=`
See ${bw(e,t)}`;return Array.isArray(i)?i.concat(l):[i,l]}var NP={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},BP=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),HP=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const s=ko[e];if(s)return{module:s}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=ko[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>ly(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=ko[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return qi(262);if(e.smallLeft)return qi(263);if(e.smallRight)return qi(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var s;const t=["columnsMenuTab","generalMenuTab"];return(s=e.menuTabs)!=null&&s.some(i=>t.includes(i))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const s=t.filter(i=>!al.includes(i));if(s.length>0)return`sortingOrder must be an array with elements from [${al.map(tu).join()}], currently it includes [${s.map(tu).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:s,suppressRowTransform:i,enableCellSpan:n,rowDragEntireRow:l,enableCellTextSelection:u})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":s?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":n?l?"colDef.spanRows is not supported with rowDragEntireRow.":u?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),zP={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},VP=()=>Object.keys(zP),ly=()=>({objectName:"colDef",allProperties:VP(),docsUrl:"column-properties/",deprecations:BP(),validations:HP()}),_P=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Gs(e,t,s,i=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=s&&t<=i?null:i===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${s}`:`${e}: value should be between ${s} and ${i}`:`${e}: value should be a number`}var WP=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:s}){return Gs("autoSizePadding",s,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:s}){return Gs("cacheBlockSize",s,1)}},cacheOverflowSize:{validate({cacheOverflowSize:s}){return Gs("cacheOverflowSize",s,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:s=>{const i=s.domLayout,n=["autoHeight","normal","print"];return i&&!n.includes(i)?`domLayout must be one of [${n.join()}], currently it's ${i}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},findSearchValue:{module:"Find"},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:s})=>{if(s){if(s.smallDown)return qi(262);if(s.smallLeft)return qi(263);if(s.smallRight)return qi(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:s}){return Gs("infiniteInitialRowCount",s,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:s}){return Gs("keepDetailRowsCount",s,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:s}){return Gs("paginationPageSize",s,1)}},paginationPageSizeSelector:{validate:s=>{const i=s.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:s}){return Gs("rowBuffer",s,0)}},rowClass:{validate:s=>typeof s.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:s}){return s&&typeof s=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':s&&typeof s!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":s&&s.mode!=="multiRow"&&s.mode!=="singleRow"?`Selection mode "${s.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:s=>{const i=s.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:s}){return Gs("serverSideInitialRowCount",s,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:s=>{const i=s.sortingOrder;if(Array.isArray(i)&&i.length>0){const n=i.filter(l=>!al.includes(l));if(n.length>0)return`sortingOrder must be an array with elements from [${al.map(tu).join()}], currently it includes [${n.map(tu).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:s=>s.tooltipHideDelay&&s.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:s=>s.tooltipShowDelay&&s.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:s=>{const i=s.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:n,treeDataParentIdField:l,getDataPath:u,getRowId:c}=s;if(!n&&!l&&!u)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(n){if(u)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(l)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(l){if(!c)return"getRowId callback not provided, tree data with parent id cannot be built.";if(u)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const n=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return s.isServerSideGroup&&s.getServerSideGroupKey?null:n}}return null}},treeDataChildrenField:{module:"SharedTreeData"},treeDataParentIdField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:s}){return Gs("viewportRowModelBufferSize",s,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:s}){return Gs("viewportRowModelPageSize",s,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"},autoGroupColumnDef:{validate({autoGroupColumnDef:s,showOpenedGroup:i}){return s!=null&&s.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":s!=null&&s.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return ny.forEach(s=>{t[s]={expectedType:"boolean"}}),iy.forEach(s=>{t[s]={expectedType:"number"}}),Gt(t,e),t},UP=()=>({objectName:"gridOptions",allProperties:[...SP,...fP.map(e=>Pw(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:_P(),validations:WP()}),jP={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},KP={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},YP=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),qP={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},$P=class extends j{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,$x(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&DP[t]&&re(22,{key:t})}processGridOptions(e){this.processOptions(e,UP())}validateApiFunction(e,t){return AP(e,t,this.beans)}missingUserComponent(e,t,s,i){const n=ko[t];n?this.gos.assertModuleRegistered(n,`AG Grid '${e}' component: ${t}`):re(101,{propertyName:e,componentName:t,agGridDefaults:s,jsComps:i})}checkRowEvents(e){XP.has(e)&&re(10,{eventType:e})}validateIcon(e){if(YP.has(e)&&re(43,{iconName:e}),jP[e])return;const t=KP[e];if(t){Te(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:fg(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}re(134,{iconName:e})}validateMenuItem(e){const t=qP[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!ko[e]}validateColDef(e,t,s){var i;(s||!((i=this.beans.dataTypeSvc)!=null&&i.isColPendingInference(t)))&&this.processOptions(e,ly())}processOptions(e,t){const{validations:s,deprecations:i,allProperties:n,propertyExceptions:l,objectName:u,docsUrl:c}=t;n&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...l??[],...Object.keys(i)],n,u,c);const h=new Set,g=m=>{const v=s[m];if(v)if(typeof v=="function"){const w=v(e,this.gridOptions,this.beans);if(!w)return;if("objectName"in w){const b=e[m];if(Array.isArray(b)){b.forEach(R=>{this.processOptions(R,w)});return}this.processOptions(e[m],w);return}return w}else return v;else return};Object.keys(e).forEach(m=>{const v=i[m];if(v){const{message:L,version:I}=v;h.add(`As of v${I}, ${String(m)} is deprecated. ${L??""}`)}const w=e[m];if(w==null||w===!1)return;const b=g(m);if(!b)return;const{module:R,dependencies:D,validate:A,supportedRowModels:T,expectedType:F}=b;if(F){const L=typeof w;if(L!==F){h.add(`${String(m)} should be of type '${F}' but received '${L}' (${w}).`);return}}if(T){const L=this.gridOptions.rowModelType??"clientSide";if(!T.includes(L)){h.add(`${String(m)} is not supported with the '${L}' row model. It is only valid with: ${T.join(", ")}.`);return}}if(R){const L=Array.isArray(R)?R:[R];let I=!0;if(L.forEach(k=>{this.gos.assertModuleRegistered(k,String(m))||(I=!1)}),!I)return}if(D){const L=this.checkForRequiredDependencies(m,D,e);if(L){h.add(L);return}}if(A){const L=A(e,this.gridOptions,this.beans);if(L){h.add(L);return}}}),h.size>0&&h.forEach(m=>{Jr(m)})}checkForRequiredDependencies(e,t,s){const n=Object.entries(t).filter(([l,u])=>{const c=s[l];return!u.required.includes(c)});return n.length===0?null:n.map(([l,u])=>`'${String(e)}' requires '${l}' to be one of [${u.required.map(c=>c===null?"null":c===void 0?"undefined":c).join(", ")}]. ${u.reason??""}`).join(`
           `)}checkProperties(e,t,s,i,n){const l=["__ob__","__v_skip","__metadata__"],u=ZP(Object.getOwnPropertyNames(e),[...l,...t,...s],s),c=Object.keys(u);for(const h of c){const g=u[h];let f=`invalid ${i} property '${h}' did you mean any of these: ${g.slice(0,8).join(", ")}.`;s.includes("context")&&(f+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),Jr(f)}if(c.length>0&&n){const h=this.beans.frameworkOverrides.getDocLink(n);Jr(`to see all the valid ${i} properties please check: ${h}`)}}getConsoleMessage(e,t){return kP(e,t)}};function ZP(e,t,s){const i={},n=e.filter(l=>!t.some(u=>u===l));return n.length>0&&n.forEach(l=>i[l]=oy({inputValue:l,allSuggestions:s}).values),i}var XP=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),QP={moduleName:"Validation",version:Ne,beans:[$P]};function JP(e,t){var i;const s=e.colModel.getCol(t);if(!s){Te(12,{colKey:t});return}(i=e.menuSvc)==null||i.showColumnMenu({column:s,positionBy:"auto"})}function eL(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var tL={moduleName:"SharedMenu",version:Ne,beans:[tE],apiFunctions:{showColumnMenu:JP,hidePopupMenu:eL}},sL=0,iL=200,nL=class extends j{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:s,column:i,node:n,event:l}=e,u=t.getBoundingClientRect(),c=this.getParentRect();this.setAlignedTo(t,s);let h=!1;const g=()=>{const f=this.keepXYWithinBounds(s,u.top-c.top,0),m=s.clientWidth>0?s.clientWidth:200;h||(s.style.minWidth=`${m}px`,h=!0);const w=c.right-c.left-m;let b;return this.gos.get("enableRtl")?(b=D(),b<0&&(b=R(),this.setAlignedStyles(s,"left")),b>w&&(b=0,this.setAlignedStyles(s,"right"))):(b=R(),b>w&&(b=D(),this.setAlignedStyles(s,"right")),b<0&&(b=0,this.setAlignedStyles(s,"left"))),{x:b,y:f};function R(){return u.right-c.left-2}function D(){return u.left-c.left-m}};this.positionPopup({ePopup:s,keepWithinBounds:!0,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup("subMenu",s,t,l instanceof MouseEvent?l:void 0,i,n)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:s,nudgeY:i,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:s,nudgeY:i,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:s,nudgeY:i,keepWithinBounds:n,eventSource:l,alignSide:u="left",position:c="over",column:h,rowNode:g,type:f}=e,m=l.getBoundingClientRect(),v=this.getParentRect();this.setAlignedTo(l,t);const w=()=>{let b=m.left-v.left;u==="right"&&(b-=t.offsetWidth-m.width);let R;return c==="over"?(R=m.top-v.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,m,v,e.nudgeY||0)==="under"?R=m.top-v.top+m.height:R=m.top-t.offsetHeight-(i||0)*2-v.top),{x:b,y:R}};this.positionPopup({ePopup:t,nudgeX:s,nudgeY:i,keepWithinBounds:n,updatePosition:w,postProcessCallback:()=>this.callPostProcessPopup(f,t,l,null,h,g)})}shouldRenderUnderOrAbove(e,t,s,i){const n=s.bottom-t.bottom,l=t.top-s.top,u=e.offsetHeight+i;return n>u?"under":l>u||l>n?"above":"under"}setAlignedStyles(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const i=this.popupList[s],{alignedToElement:n}=i;!n||(["right","left","over","above","under"].forEach(u=>{n.classList.remove(`ag-has-popup-positioned-${u}`),e.classList.remove(`ag-popup-positioned-${u}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const s=this.getPopupIndex(t);if(s!==-1){const i=this.popupList[s];i.alignedToElement=e}}callPostProcessPopup(e,t,s,i,n,l){const u=this.gos.getCallback("postProcessPopup");u&&u({column:n,rowNode:l,ePopup:t,type:e,eventSource:s,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:s,nudgeX:i,nudgeY:n,skipObserver:l,updatePosition:u}=e,c={width:0,height:0},h=(g=!1)=>{let{x:f,y:m}=u();g&&t.clientWidth===c.width&&t.clientHeight===c.height||(c.width=t.clientWidth,c.height=t.clientHeight,i&&(f+=i),n&&(m+=n),s&&(f=this.keepXYWithinBounds(t,f,1),m=this.keepXYWithinBounds(t,m,0)),t.style.left=`${f}px`,t.style.top=`${m}px`,e.postProcessCallback&&e.postProcessCallback())};if(h(),!l){const g=pi(this.beans,t,()=>h(!0));setTimeout(()=>g(),iL)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=lt(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),dw(t)}keepXYWithinBounds(e,t,s){const i=s===0,n=i?"clientHeight":"clientWidth",l=i?"top":"left",u=i?"height":"width",c=i?"scrollTop":"scrollLeft",h=lt(this.beans),g=h.documentElement,f=this.getPopupParent(),m=e.getBoundingClientRect(),v=f.getBoundingClientRect(),w=h.documentElement.getBoundingClientRect(),b=f===h.body,R=Math.ceil(m[u]);let A=b?(i?uw:cw)(g)+g[c]:f[n];b&&(A-=Math.abs(w[l]-v[l]));const T=A-R;return Math.min(Math.max(t,0),Math.abs(T))}addPopup(e){const t=lt(this.beans),{eChild:s,ariaLabel:i,alwaysOnTop:n,positionCallback:l,anchorToElement:u}=e;if(!t)return re(122),{hideFunc:()=>{}};const c=this.getPopupIndex(s);if(c!==-1)return{hideFunc:this.popupList[c].hideFunc};this.initialisePopupPosition(s);const h=this.createPopupWrapper(s,i,!!n),g=this.addEventListenersToPopup({...e,wrapperEl:h});return l&&l(),this.addPopupToPopupList(s,h,g,u),{hideFunc:g}}initialisePopupPosition(e){const s=this.getPopupParent().getBoundingClientRect();ge(e.style.top)||(e.style.top=`${s.top*-1}px`),ge(e.style.left)||(e.style.left=`${s.left*-1}px`)}createPopupWrapper(e,t,s){const i=this.getPopupParent(),{environment:n,gos:l}=this.beans,u=$e({tag:"div"});return n.applyThemeClasses(u),u.classList.add("ag-popup"),e.classList.add(l.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||gs(e,"dialog"),Xt(e,t),u.appendChild(e),i.appendChild(u),s?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),u}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const s of this.popupList)t.applyThemeClasses(s.wrapper)}}addEventListenersToPopup(e){const t=this.beans,s=lt(t),i=this.getPopupParent(),{wrapperEl:n,eChild:l,closedCallback:u,afterGuiAttached:c,closeOnEsc:h,modal:g}=e;let f=!1;const m=R=>{if(!n.contains(Ke(t)))return;R.key===W.ESCAPE&&!xs(R)&&b({keyboardEvent:R})},v=R=>b({mouseEvent:R}),w=R=>b({touchEvent:R}),b=(R={})=>{const{mouseEvent:D,touchEvent:A,keyboardEvent:T,forceHide:F}=R;!F&&(this.isEventFromCurrentPopup({mouseEvent:D,touchEvent:A},l)||f)||(f=!0,i.removeChild(n),s.removeEventListener("keydown",m),s.removeEventListener("mousedown",v),s.removeEventListener("touchstart",w),s.removeEventListener("contextmenu",v),this.eventSvc.removeEventListener("dragStarted",v),u&&u(D||A||T),this.removePopupFromPopupList(l))};return c&&c({hidePopup:b}),window.setTimeout(()=>{h&&s.addEventListener("keydown",m),g&&(s.addEventListener("mousedown",v),this.eventSvc.addEventListener("dragStarted",v),s.addEventListener("touchstart",w),s.addEventListener("contextmenu",v))},0),b}addPopupToPopupList(e,t,s,i){this.popupList.push({element:e,wrapper:t,hideFunc:s,instanceId:sL++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const s=this.getPopupIndex(e);if(s===-1)return;const i=this.popupList[s];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(l=>l&&l()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=n,i.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),s=t.getBoundingClientRect(),{element:i,ePopup:n}=e,l=i.getBoundingClientRect(),u=m=>parseInt(m.substring(0,m.length-1),10),c=(m,v)=>{const w=s[m]-l[m],b=u(n.style[m]);return{initialDiff:w,lastDiff:w,initial:b,last:b,direction:v}},h=c("top",0),g=c("left",1),f=this.beans.frameworkOverrides;return new at(m=>{f.wrapIncoming(()=>{f.setInterval(()=>{const v=t.getBoundingClientRect(),w=i.getBoundingClientRect();if(w.top==0&&w.left==0&&w.height==0&&w.width==0){e.hidePopup();return}const R=(D,A)=>{const T=u(n.style[A]);D.last!==T&&(D.initial=T,D.last=T);const F=v[A]-w[A];if(F!=D.lastDiff){const L=this.keepXYWithinBounds(n,D.initial+D.initialDiff-F,D.direction);n.style[A]=`${L}px`,D.last=L}D.lastDiff=F};R(h,"top"),R(g,"left")},200).then(v=>{m(()=>{v!=null&&window.clearInterval(v)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:s,touchEvent:i}=e,n=s||i;if(!n)return!1;const l=this.getPopupIndex(t);if(l===-1)return!1;for(let u=l;u<this.popupList.length;u++){const c=this.popupList[u];if(Gh(c.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){const t=lt(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const s=this.getWrapper(e);s&&(s.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(s))}bringPopupToFront(e){const t=this.getPopupParent(),s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=s.length,n=this.getWrapper(e);if(!n||i<=1||!t.contains(e))return;const l=[],u=[];for(const v of s)v!==n&&(v.classList.contains("ag-always-on-top")?u.push(v):l.push(v));const c=[],h=u.length,m=n.classList.contains("ag-always-on-top")||!h?[...l,...u,n]:[...l,n,...u];for(let v=0;v<=i;v++){const w=m[v];if(s[v]===m[v]||w===n)continue;w.querySelectorAll("div").forEach(R=>{R.scrollTop!==0&&c.push([R,R.scrollTop])}),v===0?t.insertAdjacentElement("afterbegin",w):m[v-1].insertAdjacentElement("afterend",w)}for(;c.length;){const v=c.pop();v[0].scrollTop=v[1]}}},ay={moduleName:"Popup",version:Ne,beans:[nL]},oL=class extends j{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Ln(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),Hw(e))}createColumns(e,t){var v,w;const s=()=>{var b;Xi(this.beans,(b=this.columns)==null?void 0:b.tree),this.columns=null},i=e.treeDepth,l=(((v=this.columns)==null?void 0:v.treeDepth)??-1)==i,u=this.generateSelectionCols();if(Bw(u,((w=this.columns)==null?void 0:w.list)??[])&&l)return;s();const{colGroupSvc:h}=this.beans,g=(h==null?void 0:h.findDepth(e.tree))??0,f=(h==null?void 0:h.balanceTreeForAutoCols(u,g))??[];this.columns={list:u,tree:f,treeDepth:g,map:{}},t(b=>{if(!b)return null;const R=b.filter(D=>!Qi(D));return[...u,...R]})}updateColumns(e){var i;const t=Ln(e.source),s=e.currentValue;(i=this.columns)==null||i.list.forEach(n=>{const l=this.createSelectionColDef(s);n.setColDef(l,null,t),Ds(this.beans,{state:[{colId:n.getColId(),...l}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(s=>gg(s,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var u,c;const{gos:e,beans:t}=this,s=e.get("rowSelection");if(typeof s!="object"||!Hs(e))return!1;const i=(((c=(u=t.autoColSvc)==null?void 0:u.getColumns())==null?void 0:c.length)??0)>0;if(s.checkboxLocation==="autoGroupColumn"&&i)return!1;const n=!!Pn(s),l=Wa(s);return n||l}createSelectionColDef(e){const{gos:t}=this.beans,s=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:n,spanRows:l,...u}=s??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(c,h,g,f){const m=g.isSelected(),v=f.isSelected();return m===v?0:m?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...u,colId:Nw}}generateSelectionCols(){var i;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(i=this.beans.validation)==null||i.validateColDef(e,t,!0);const s=new Du(e,null,t,!1);return this.createBean(s),[s]}onSelectionOptionsChanged(e,t,s){const i=t&&typeof t!="string"?Pn(t):void 0,n=e&&typeof e!="string"?Pn(e):void 0,l=i!==n,u=t&&typeof t!="string"?Wa(t):void 0,c=e&&typeof e!="string"?Wa(e):void 0,h=u!==c,g=nl(e),f=nl(t);(l||h||g!==f)&&this.beans.colModel.refreshAll(s)}destroy(){var e;Xi(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,s=t.visibleCols.getAllTrees()??[];if(s.length!==0){if(!s.some(uy)){const i=Oh(t).find(n=>Qi(n.colId));i&&Ds(t,{state:[{colId:i.colId,hide:!i.hide}]},e)}if(s.length===1){const i=s[0],n=cy(i);if(!n)return;Ds(t,{state:[{colId:n.getColId(),hide:!0}]},e)}}}},uy=e=>{var t;return e.isColumn?Qi(e):((t=e.getChildren())==null?void 0:t.some(uy))??!1};function cy(e){if(e.isColumn)return Qi(e)?e:null;const t=e.getChildren()??[];for(const s of t){const i=cy(s);if(i)return i}return null}function rL(e,t){var u;if(!t.nodes.every(c=>c.rowPinned?(re(59),!1):c.id===void 0?(re(60),!1):!0))return;const{nodes:i,source:n,newValue:l}=t;(u=e.selectionSvc)==null||u.setNodesSelected({nodes:i,source:n??"api",newValue:l})}function lL(e,t,s="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:s,selectAll:t})}function aL(e,t,s="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:s,selectAll:t})}function uL(e,t="apiSelectAllFiltered"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:t,selectAll:"filtered"})}function cL(e,t="apiSelectAllFiltered"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:t,selectAll:"filtered"})}function dL(e,t="apiSelectAllCurrentPage"){var s;(s=e.selectionSvc)==null||s.selectAllRowNodes({source:t,selectAll:"currentPage"})}function hL(e,t="apiSelectAllCurrentPage"){var s;(s=e.selectionSvc)==null||s.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function gL(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function pL(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var fL={moduleName:"SharedRowSelection",version:Ne,beans:[oL],apiFunctions:{setNodesSelected:rL,selectAll:lL,deselectAll:aL,selectAllFiltered:uL,deselectAllFiltered:cL,selectAllOnCurrentPage:dL,deselectAllOnCurrentPage:hL,getSelectedNodes:gL,getSelectedRows:pL}};function mL(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function CL(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function vL(e){const t=dP(e),s=qo(e);t?t.onRowHeightChanged():s&&s.onRowHeightChanged()}function wL(e,t,s){var l;const i=qo(e);if(i){if(((l=e.rowGroupColsSvc)==null?void 0:l.columns.length)===0){if(t<0){Te(238);return}i.setRowCount(t,s);return}Te(28);return}const n=hP(e);if(n){n.setRowCount(t,s);return}}function bL(e){var t;return Cs(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function yL(e){return e.rowModel.isLastRowIndexKnown()}var SL={moduleName:"CsrmSsrmSharedApi",version:Ne,apiFunctions:{expandAll:mL,collapseAll:CL,onRowHeightChanged:vL}},RL={moduleName:"SsrmInfiniteSharedApi",version:Ne,apiFunctions:{setRowCount:wL,getCacheBlockState:bL,isLastRowIndexKnown:yL}};function xL(e,t={}){const s=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(s))}function dy(e,t,s,i,n){t&&(i&&t.parent&&t.parent.level!==-1&&dy(e,t.parent,s,i,n),t.setExpanded(s,void 0,n))}function DL(e,t){return e.rowModel.getRowNode(t)}function ML(e,t,s,i){e.rowRenderer.addRenderedRowListener(t,s,i)}function EL(e){return e.rowRenderer.getRenderedNodes()}function AL(e,t,s){e.rowModel.forEachNode(t,s)}function TL(e){return e.rowRenderer.firstRenderedRow}function FL(e){return e.rowRenderer.lastRenderedRow}function PL(e,t){return e.rowModel.getRow(t)}function LL(e){return e.rowModel.getRowCount()}var IL={moduleName:"RowApi",version:Ne,apiFunctions:{redrawRows:xL,setRowNodeExpanded:dy,getRowNode:DL,addRenderedRowListener:ML,getRenderedNodes:EL,forEachNode:AL,getFirstDisplayedRowIndex:TL,getLastDisplayedRowIndex:FL,getDisplayedRowAtIndex:PL,getDisplayedRowCount:LL}},Fg=$v();const GL=qv(Fg);var Tt=se.createContext({}),pl=(e,t,s,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const l=e.newAgStackInstance();let u,c,h=!1;return l.then(g=>{if(h){t.destroyBean(g);return}u=g,c=u.getGui(),s.appendChild(c),Sv(i,u)}),()=>{var g;h=!0,u&&((g=c==null?void 0:c.parentElement)==null||g.removeChild(c),t.destroyBean(u),i&&Sv(i,void 0))}},Sv=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const s=e;s.current=t}},ds=(...e)=>e.filter(s=>s!=null&&s!=="").join(" "),hs=class hy{constructor(...t){this.classesMap={},t.forEach(s=>{this.classesMap[s]=!0})}setClass(t,s){if(!!this.classesMap[t]==s)return this;const n=new hy;return n.classesMap={...this.classesMap},n.classesMap[t]=s,n}toString(){return Object.keys(this.classesMap).filter(s=>this.classesMap[s]).join(" ")}},$o=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,s=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===s()},Yv,jh=(Yv=se.version)==null?void 0:Yv.split(".")[0],OL=jh==="16"||jh==="17";function kL(){return jh==="19"}var $a=!1;function NL(e){return $a||setTimeout(()=>$a=!1,0),$a=!0,e()}var Cu=(e,t)=>{!OL&&e&&!$a?GL.flushSync(t):t()};function vu(e,t,s){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(s||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],n=[],l=new Map,u=new Map;for(let c=0;c<t.length;c++){const h=t[c];u.set(h.instanceId,h)}for(let c=0;c<e.length;c++){const h=e[c];l.set(h.instanceId,h),u.has(h.instanceId)&&i.push(h)}for(let c=0;c<t.length;c++){const h=t[c],g=h.instanceId;l.has(g)||n.push(h)}return i.length===e.length&&n.length===0?e:i.length===0&&n.length===t.length?t:i.length===0?n:n.length===0?i:[...i,...n]}var gy=x.forwardRef((e,t)=>{var ee;const{registry:s,context:i}=x.useContext(Tt),n=x.useRef(null),l=x.useRef(null),u=x.useRef(null),c=x.useRef(null),h=x.useRef(null),g=x.useRef(),[f,m]=x.useState(),[v,w]=x.useState(),[b,R]=x.useState(),[D,A]=x.useState(()=>new hs),[T,F]=x.useState(()=>new hs("ag-hidden")),[L,I]=x.useState(()=>new hs("ag-hidden")),[k,U]=x.useState(()=>new hs("ag-invisible"));x.useImperativeHandle(t,()=>({refresh(){return!1}})),x.useLayoutEffect(()=>pl(f,i,l.current),[f]);const K=x.useCallback(q=>{if(n.current=q,!q){g.current=i.destroyBean(g.current);return}const ce={setInnerRenderer:(_,Z)=>{m(_),R(Z)},setChildCount:_=>w(_),addOrRemoveCssClass:(_,Z)=>A(J=>J.setClass(_,Z)),setContractedDisplayed:_=>I(Z=>Z.setClass("ag-hidden",!_)),setExpandedDisplayed:_=>F(Z=>Z.setClass("ag-hidden",!_)),setCheckboxVisible:_=>U(Z=>Z.setClass("ag-invisible",!_)),setCheckboxSpacing:_=>U(Z=>Z.setClass("ag-group-checkbox-spacing",_))},M=s.createDynamicBean("groupCellRendererCtrl",!0);M&&(g.current=i.createBean(M),g.current.init(ce,q,u.current,c.current,h.current,gy,e))},[]),ne=x.useMemo(()=>`ag-cell-wrapper ${D.toString()}`,[D]),oe=x.useMemo(()=>`ag-group-expanded ${T.toString()}`,[T]),z=x.useMemo(()=>`ag-group-contracted ${L.toString()}`,[L]),te=x.useMemo(()=>`ag-group-checkbox ${k.toString()}`,[k]),Q=f&&f.componentFromFramework,de=Q?f.componentClass:void 0,le=f==null&&b!=null,B=ps(b,!0);return se.createElement("span",{className:ne,ref:K,...e.colDef?{}:{role:(ee=g.current)==null?void 0:ee.getCellAriaRole()}},se.createElement("span",{className:oe,ref:c}),se.createElement("span",{className:z,ref:h}),se.createElement("span",{className:te,ref:u}),se.createElement("span",{className:"ag-group-value",ref:l},le&&se.createElement(se.Fragment,null,B),Q&&se.createElement(de,{...f.params})),se.createElement("span",{className:"ag-group-child-count"},v))}),Rv=gy,Pg=x.createContext({setMethods:()=>{}}),BL=e=>{const{initialProps:t,addUpdateCallback:s,CustomComponentClass:i,setMethods:n}=e,[{key:l,...u},c]=x.useState(t);return x.useEffect(()=>{s(h=>c(h))},[]),se.createElement(Pg.Provider,{value:{setMethods:n}},se.createElement(i,{key:l,...u}))},HL=x.memo(BL),zL=0;function xv(){return`agPortalKey_${++zL}`}var py=class{constructor(e,t,s,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=s,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=xv(),this.portalKey=xv(),this.instanceCreated=this.isStatelessComponent()?at.resolve(!1):new at(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),s=document.createElement(t||"div");return s.classList.add("ag-react-container"),e.reactContainer=s,s}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const s=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!s){setTimeout(()=>this.callMethod(e,t));return}const i=s[e];if(i)return i.apply(s,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new at(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var s;this.componentInstance=t,(s=this.resolveInstanceCreated)==null||s.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Fg.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return x.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const s=this[`${e}Component`];if(!this.suppressFallbackMethods&&s)return s.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Lg(e,t,s){e.forEach(i=>{const n=t[i];n&&(s[i]=n)})}var As=class extends py{constructor(){super(...arguments),this.awaitUpdateCallback=new at(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=HL}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:s=>this.setMethods(s),addUpdateCallback:s=>{this.updateCallback=()=>(s(this.getProps()),new at(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Lg(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new at(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},VL=class extends As{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},_L=class extends As{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},WL=class extends As{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:s,shake:i}=this;return e.label=t,e.icon=s,e.shake=i,e}},UL=class extends As{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new at(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var s;const t=this.providedMethods;t?(s=t.afterGuiAttached)==null||s.call(t,e):this.awaitSetMethodsCallback.then(()=>{var i,n;return(n=(i=this.providedMethods)==null?void 0:i.afterGuiAttached)==null?void 0:n.call(i,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function fy(e,t){e.parentFilterInstance(s=>{(s.setModel(t)||at.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var jL=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=s=>this.updateModel(s)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Lg(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),fy(this.floatingFilterParams,e)}},KL=class extends As{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),fy(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},YL=class extends As{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},qL=class extends As{refresh(e){this.sourceParams=e,this.refreshProps()}},$L=class extends As{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},ZL=class extends As{refresh(e){this.sourceParams=e,this.refreshProps()}},XL=class extends As{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},QL=class extends As{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Ig(){re(231)}var JL=1e3,eI=class{constructor(e,t,s){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=s||JL}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,s){this.portals=[...this.portals,e],this.waitForInstance(t,s),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,s=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-s>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,s)})}}},tI=({ctrl:e})=>{const t=e.isAlive(),{context:s}=x.useContext(Tt),i=t?e.column.getColId():void 0,[n,l]=x.useState(),[u,c]=x.useState(),h=x.useRef(),g=x.useRef(null),f=x.useRef(null),m=x.useRef(null),v=x.useRef(),w=x.useRef();t&&!w.current&&(w.current=new dl(()=>g.current));const b=x.useCallback(T=>{var I;if(g.current=T,h.current=T?s.createBean(new jo):s.destroyBean(h.current),!T||!e.isAlive())return;const F={setWidth:k=>{g.current&&(g.current.style.width=k)},addOrRemoveCssClass:(k,U)=>w.current.addOrRemoveCssClass(k,U),setUserStyles:k=>c(k),setAriaSort:k=>{g.current&&(k?Lx(g.current,k):Ix(g.current))},setUserCompDetails:k=>l(k),getUserCompInstance:()=>v.current||void 0};e.setComp(F,T,f.current,m.current,h.current);const L=e.getSelectAllGui();L&&((I=f.current)==null||I.insertAdjacentElement("afterend",L),h.current.addDestroyFunc(()=>L.remove()))},[]);x.useLayoutEffect(()=>pl(n,s,m.current,v),[n]),x.useEffect(()=>{e.setDragSource(g.current)},[n]);const R=x.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&$o(n.componentClass)),[n]),D=n&&n.componentFromFramework,A=n&&n.componentClass;return se.createElement("div",{ref:b,style:u,className:"ag-header-cell","col-id":i,role:"columnheader"},se.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),se.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},D&&R&&se.createElement(A,{...n.params}),D&&!R&&se.createElement(A,{...n.params,ref:v})))},sI=x.memo(tI),iI=({ctrl:e})=>{const{context:t,gos:s}=x.useContext(Tt),[i,n]=x.useState(),[l,u]=x.useState(()=>new hs("ag-header-cell","ag-floating-filter")),[c,h]=x.useState(()=>new hs),[g,f]=x.useState(()=>new hs("ag-floating-filter-button","ag-hidden")),[m,v]=x.useState("false"),[w,b]=x.useState(),[,R]=x.useState(1),D=x.useRef(),A=x.useRef(null),T=x.useRef(null),F=x.useRef(null),L=x.useRef(null),I=x.useRef(),k=x.useRef(),U=q=>{q!=null&&I.current&&I.current(q)},K=x.useCallback(q=>{if(A.current=q,D.current=q?t.createBean(new jo):t.destroyBean(D.current),!q)return;k.current=new at(M=>{I.current=M});const ce={addOrRemoveCssClass:(M,_)=>u(Z=>Z.setClass(M,_)),setUserStyles:M=>n(M),addOrRemoveBodyCssClass:(M,_)=>h(Z=>Z.setClass(M,_)),setButtonWrapperDisplayed:M=>{f(_=>_.setClass("ag-hidden",!M)),v(M?"false":"true")},setWidth:M=>{A.current&&(A.current.style.width=M)},setCompDetails:M=>b(M),getFloatingFilterComp:()=>k.current?k.current:null,setMenuIcon:M=>{var _;return(_=L.current)==null?void 0:_.appendChild(M)}};e.setComp(ce,q,L.current,T.current,D.current)},[]);x.useLayoutEffect(()=>pl(w,t,T.current,U),[w]);const ne=x.useMemo(()=>l.toString(),[l]),oe=x.useMemo(()=>c.toString(),[c]),z=x.useMemo(()=>g.toString(),[g]),te=x.useMemo(()=>!!(w&&w.componentFromFramework&&$o(w.componentClass)),[w]),Q=x.useMemo(()=>s.get("reactiveCustomComponents"),[]),de=x.useMemo(()=>{if(w)if(Q){const q=new jL(w.params,()=>R(ce=>ce+1));return U(q),q}else w.componentFromFramework&&Ig()},[w]),le=de==null?void 0:de.getProps(),B=w&&w.componentFromFramework,ee=w&&w.componentClass;return se.createElement("div",{ref:K,style:i,className:ne,role:"gridcell"},se.createElement("div",{ref:T,className:oe,role:"presentation"},B&&!Q&&se.createElement(ee,{...w.params,ref:te?()=>{}:U}),B&&Q&&se.createElement(Pg.Provider,{value:{setMethods:q=>de.setMethods(q)}},se.createElement(ee,{...le}))),se.createElement("div",{ref:F,"aria-hidden":m,className:z,role:"presentation"},se.createElement("button",{ref:L,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},nI=x.memo(iI),oI=({ctrl:e})=>{const{context:t}=x.useContext(Tt),[s,i]=x.useState(),[n,l]=x.useState(()=>new hs),[u,c]=x.useState(()=>new hs),[h,g]=x.useState("false"),[f,m]=x.useState(),[v,w]=x.useState(),b=x.useMemo(()=>e.column.getUniqueId(),[]),R=x.useRef(),D=x.useRef(null),A=x.useRef(null),T=x.useRef(null),F=x.useRef(),L=x.useCallback(oe=>{if(D.current=oe,R.current=oe?t.createBean(new jo):t.destroyBean(R.current),!oe)return;const z={setWidth:te=>{D.current&&(D.current.style.width=te)},addOrRemoveCssClass:(te,Q)=>l(de=>de.setClass(te,Q)),setUserStyles:te=>i(te),setHeaderWrapperHidden:te=>{const Q=T.current;Q&&(te?Q.style.setProperty("display","none"):Q.style.removeProperty("display"))},setHeaderWrapperMaxHeight:te=>{const Q=T.current;Q&&(te!=null?Q.style.setProperty("max-height",`${te}px`):Q.style.removeProperty("max-height"),Q.classList.toggle("ag-header-cell-comp-wrapper-limited-height",te!=null))},setUserCompDetails:te=>w(te),setResizableDisplayed:te=>{c(Q=>Q.setClass("ag-hidden",!te)),g(te?"false":"true")},setAriaExpanded:te=>m(te),getUserCompInstance:()=>F.current||void 0};e.setComp(z,oe,A.current,T.current,R.current)},[]);x.useLayoutEffect(()=>pl(v,t,T.current),[v]),x.useEffect(()=>{D.current&&e.setDragSource(D.current)},[v]);const I=x.useMemo(()=>!!((v==null?void 0:v.componentFromFramework)&&$o(v.componentClass)),[v]),k=x.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),U=x.useMemo(()=>"ag-header-cell-resize "+u.toString(),[u]),K=v&&v.componentFromFramework,ne=v&&v.componentClass;return se.createElement("div",{ref:L,style:s,className:k,"col-id":b,role:"columnheader","aria-expanded":f},se.createElement("div",{ref:T,className:"ag-header-cell-comp-wrapper",role:"presentation"},K&&I&&se.createElement(ne,{...v.params}),K&&!I&&se.createElement(ne,{...v.params,ref:F})),se.createElement("div",{ref:A,"aria-hidden":h,className:U}))},rI=x.memo(oI),lI=({ctrl:e})=>{const{context:t}=x.useContext(Tt),{topOffset:s,rowHeight:i}=x.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),l=e.headerRowClass,[u,c]=x.useState(()=>i+"px"),[h,g]=x.useState(()=>s+"px"),f=x.useRef(null),m=x.useRef(null),[v,w]=x.useState(()=>e.getUpdatedHeaderCtrls()),b=x.useRef(),R=x.useRef(null),D=x.useCallback(F=>{if(R.current=F,b.current=F?t.createBean(new jo):t.destroyBean(b.current),!F)return;const L={setHeight:I=>c(I),setTop:I=>g(I),setHeaderCtrls:(I,k,U)=>{m.current=f.current,f.current=I;const K=vu(m.current,I,k);K!==m.current&&Cu(U,()=>w(K))},setWidth:I=>{R.current&&(R.current.style.width=I)}};e.setComp(L,b.current,!1)},[]),A=x.useMemo(()=>({height:u,top:h}),[u,h]),T=x.useCallback(F=>{switch(e.type){case"group":return se.createElement(rI,{ctrl:F,key:F.instanceId});case"filter":return se.createElement(nI,{ctrl:F,key:F.instanceId});default:return se.createElement(sI,{ctrl:F,key:F.instanceId})}},[]);return se.createElement("div",{ref:D,className:l,role:"row",style:A,"aria-rowindex":n},v.map(T))},aI=x.memo(lI),uI=({pinned:e})=>{const[t,s]=x.useState(!0),[i,n]=x.useState([]),{context:l}=x.useContext(Tt),u=x.useRef(null),c=x.useRef(null),h=x.useRef(),g=e==="left",f=e==="right",m=!g&&!f,v=x.useCallback(R=>{if(u.current=R,h.current=R?l.createBean(new eE(e)):l.destroyBean(h.current),!R)return;const D={setDisplayed:s,setCtrls:A=>n(A),setCenterWidth:A=>{c.current&&(c.current.style.width=A)},setViewportScrollLeft:A=>{u.current&&(u.current.scrollLeft=A)},setPinnedContainerWidth:A=>{u.current&&(u.current.style.width=A,u.current.style.minWidth=A,u.current.style.maxWidth=A)}};h.current.setComp(D,u.current)},[]),w=t?"":"ag-hidden",b=()=>i.map(R=>se.createElement(aI,{ctrl:R,key:R.instanceId}));return se.createElement(se.Fragment,null,g&&se.createElement("div",{ref:v,className:"ag-pinned-left-header "+w,"aria-hidden":!t,role:"rowgroup"},b()),f&&se.createElement("div",{ref:v,className:"ag-pinned-right-header "+w,"aria-hidden":!t,role:"rowgroup"},b()),m&&se.createElement("div",{ref:v,className:"ag-header-viewport "+w,role:"presentation",tabIndex:-1},se.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},b())))},vh=x.memo(uI),cI=()=>{const[e,t]=x.useState(()=>new hs),[s,i]=x.useState(),{context:n}=x.useContext(Tt),l=x.useRef(null),u=x.useRef(),c=x.useCallback(f=>{if(l.current=f,u.current=f?n.createBean(new ZM):n.destroyBean(u.current),!f)return;const m={addOrRemoveCssClass:(v,w)=>t(b=>b.setClass(v,w)),setHeightAndMinHeight:v=>i(v)};u.current.setComp(m,f,f)},[]),h=x.useMemo(()=>"ag-header "+e.toString(),[e]),g=x.useMemo(()=>({height:s,minHeight:s}),[s]);return se.createElement("div",{ref:c,className:h,style:g,role:"presentation"},se.createElement(vh,{pinned:"left"}),se.createElement(vh,{pinned:null}),se.createElement(vh,{pinned:"right"}))},dI=x.memo(cI),hI=(e,t)=>{x.useEffect(()=>{const s=t.current;if(s){const i=s.parentElement;if(i){const n=document.createComment(e);return i.insertBefore(n,s),()=>{i.removeChild(n)}}}},[e])},Dn=hI,gI=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new at(s=>{this.resolveInstanceCreated=s}),this.onValueChange=s=>this.updateValue(s),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Lg(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},pI=e=>{const t=x.useRef(e),s=x.useRef(),i=x.useRef(!1),n=x.useRef(!1),[,l]=x.useState(0);i.current&&(n.current=!0),x.useEffect(()=>(i.current||(s.current=t.current(),i.current=!0),l(u=>u+1),()=>{var u;n.current&&((u=s.current)==null||u.call(s))}),[])},fI=e=>{const[t,s]=x.useState(),i=x.useContext(Tt),{context:n,popupSvc:l,localeSvc:u,gos:c,editSvc:h}=i,{editDetails:g,cellCtrl:f,eParentCell:m}=e;return pI(()=>{var U,K;const{compDetails:v}=g,w=c.get("stopEditingWhenCellsLoseFocus"),b=n.createBean(h.createPopupEditorWrapper(v.params)),R=b.getGui();if(e.jsChildComp){const ne=e.jsChildComp.getGui();ne&&R.appendChild(ne)}const{column:D,rowNode:A}=f,T={column:D,rowNode:A,type:"popupCellEditor",eventSource:m,ePopup:R,position:g.popupPosition,keepWithinBounds:!0},F=l==null?void 0:l.positionPopupByComponent.bind(l,T),L=Qh(u),I=l==null?void 0:l.addPopup({modal:w,eChild:R,closeOnEsc:!0,closedCallback:()=>{f.onPopupEditorClosed()},anchorToElement:m,positionCallback:F,ariaLabel:L("ariaLabelCellEditor","Cell Editor")}),k=I?I.hideFunc:void 0;return s(b),(K=(U=e.jsChildComp)==null?void 0:U.afterGuiAttached)==null||K.call(U),()=>{k==null||k(),n.destroyBean(b)}}),x.useLayoutEffect(()=>()=>{f.isCellFocused()&&(t!=null&&t.getGui().contains(Ke(i)))&&m.focus({preventScroll:!0})},[t]),se.createElement(se.Fragment,null,t&&e.wrappedContent&&Fg.createPortal(e.wrappedContent,t.getGui()))},Dv=x.memo(fI),mI=(e,t,s,i,n,l)=>{const{context:u}=x.useContext(Tt),c=x.useCallback(()=>{const h=n.current;if(!h)return;const g=h.getGui();g&&g.parentElement&&g.parentElement.removeChild(g),u.destroyBean(h),n.current=void 0},[]);x.useEffect(()=>{const h=e!=null,g=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&s==null;if(!(h&&g&&!f)){c();return}const v=e.compDetails;if(n.current){const b=n.current,D=b.refresh!=null&&e.force==!1?b.refresh(v.params):!1;if(D===!0||D===void 0)return;c()}v.newAgStackInstance().then(b=>{if(!b)return;const R=b.getGui();if(!R)return;(t?s:l.current).appendChild(R),n.current=b})},[e,t,i]),x.useEffect(()=>c,[])},CI=mI,vI=(e,t,s)=>{const{compProxy:i}=e;s(i);const n=i.getProps(),l=$o(t);return se.createElement(Pg.Provider,{value:{setMethods:u=>i.setMethods(u)}},l?se.createElement(t,{...n}):se.createElement(t,{...n,ref:u=>i.setRef(u)}))},Mv=(e,t,s)=>{const i=e.compProxy;return se.createElement(se.Fragment,null,i?vI(e,t,s):se.createElement(t,{...e.compDetails.params,ref:s}))},wI=(e,t,s,i,n)=>{const l=e.compDetails,u=l.componentClass,c=l.componentFromFramework&&!e.popup,h=l.componentFromFramework&&e.popup,g=!l.componentFromFramework&&e.popup;return se.createElement(se.Fragment,null,c&&Mv(e,u,t),h&&se.createElement(Dv,{editDetails:e,cellCtrl:i,eParentCell:s,wrappedContent:Mv(e,u,t)}),g&&n&&se.createElement(Dv,{editDetails:e,cellCtrl:i,eParentCell:s,jsChildComp:n}))},bI=(e,t,s,i,n,l,u)=>{const{compDetails:c,value:h}=e,g=!c,f=c&&c.componentFromFramework,m=c&&c.componentClass,v=h!=null&&h.toString?h.toString():h,w=()=>se.createElement(se.Fragment,null,g&&se.createElement(se.Fragment,null,v),f&&!l&&se.createElement(m,{...c.params,key:t,ref:i}),f&&l&&se.createElement(m,{...c.params,key:t}));return se.createElement(se.Fragment,null,n?se.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:u},w()):w())},yI=({cellCtrl:e,printLayout:t,editingRow:s})=>{const i=x.useContext(Tt),{context:n}=i,{colIdSanitised:l,instanceId:u}=e,c=x.useRef(),[h,g]=x.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[f,m]=x.useState(),[v,w]=x.useState(1),[b,R]=x.useState(),[D,A]=x.useState(!1),[T,F]=x.useState(!1),[L,I]=x.useState(!1),[k,U]=x.useState(),K=x.useMemo(()=>e.isForceWrapper(),[e]),ne=x.useMemo(()=>e.getCellAriaRole(),[e]),oe=x.useRef(null),z=x.useRef(null),te=x.useRef(null),Q=x.useRef(),de=x.useRef(),le=x.useRef(),B=x.useRef([]),ee=x.useRef(),[q,ce]=x.useState(0),M=x.useCallback(ze=>{ee.current=ze,ce(Ye=>Ye+1)},[]),_=h!=null&&(D||L||T),Z=K||_,J=x.useCallback(ze=>{if(de.current=ze,ze){const Ye=ze.isCancelBeforeStart&&ze.isCancelBeforeStart();setTimeout(()=>{Ye?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),ie=x.useRef();ie.current||(ie.current=new dl(()=>oe.current)),CI(h,Z,ee.current,q,Q,oe);const pe=x.useRef();x.useLayoutEffect(()=>{var it;const ze=pe.current,Ye=h;if(pe.current=h,ze==null||ze.compDetails==null||Ye==null||Ye.compDetails==null)return;const gt=ze.compDetails,Ot=Ye.compDetails;if(gt.componentClass!=Ot.componentClass||((it=te.current)==null?void 0:it.refresh)==null)return;te.current.refresh(Ot.params)!=!0&&w(Ct=>Ct+1)},[h]),x.useLayoutEffect(()=>{if(!(f&&!f.compDetails.componentFromFramework))return;const Ye=f.compDetails,gt=f.popup===!0,Ot=Ye.newAgStackInstance();return Ot.then(ye=>{if(!ye)return;const it=ye.getGui();if(J(ye),!gt){const Ct=(K?le:oe).current;Ct==null||Ct.appendChild(it),ye.afterGuiAttached&&ye.afterGuiAttached()}U(ye)}),()=>{Ot.then(ye=>{var Ct;const it=ye.getGui();n.destroyBean(ye),J(void 0),U(void 0),(Ct=it==null?void 0:it.parentElement)==null||Ct.removeChild(it)})}},[f]);const ue=x.useCallback(ze=>{if(le.current=ze,!ze){B.current.forEach(gt=>gt()),B.current=[];return}const Ye=gt=>{if(gt){const Ot=gt.getGui();ze.insertAdjacentElement("afterbegin",Ot),B.current.push(()=>{n.destroyBean(gt),Nn(Ot)})}return gt};if(D){const gt=e.createSelectionCheckbox();Ye(gt)}L&&Ye(e.createDndSource()),T&&Ye(e.createRowDragComp())},[e,n,L,T,D]),Xe=x.useCallback(()=>{const ze=!e.isCellSpanning()||z.current,Ye=oe.current;if(c.current=Ye?n.createBean(new jo):n.destroyBean(c.current),!Ye||!ze||!e)return;const gt={addOrRemoveCssClass:(ye,it)=>ie.current.addOrRemoveCssClass(ye,it),setUserStyles:ye=>R(ye),getFocusableElement:()=>oe.current,setIncludeSelection:ye=>A(ye),setIncludeRowDrag:ye=>F(ye),setIncludeDndSource:ye=>I(ye),getCellEditor:()=>de.current||null,getCellRenderer:()=>te.current??Q.current,getParentOfValue:()=>ee.current??le.current??oe.current,setRenderDetails:(ye,it,Ct)=>{g(nt=>(nt==null?void 0:nt.compDetails)!==ye||(nt==null?void 0:nt.value)!==it||(nt==null?void 0:nt.force)!==Ct?{value:it,compDetails:ye,force:Ct}:nt)},setEditDetails:(ye,it,Ct,nt)=>{if(ye){let ct;nt?ct=new gI(ye.params,()=>w(es=>es+1)):ye.componentFromFramework&&Ig(),m({compDetails:ye,popup:it,popupPosition:Ct,compProxy:ct}),it||g(void 0)}else e.hasBrowserFocus()&&gt.getFocusableElement().focus({preventScroll:!0}),m(es=>{es!=null&&es.compProxy&&(de.current=void 0)})}},Ot=le.current||void 0;e.setComp(gt,Ye,z.current??void 0,Ot,t,s,c.current)},[]),Oe=x.useCallback(ze=>{oe.current=ze,Xe()},[]),Jt=x.useCallback(ze=>{z.current=ze,Xe()},[]),Ji=x.useMemo(()=>{var Ye;return!!(((Ye=h==null?void 0:h.compDetails)==null?void 0:Ye.componentFromFramework)&&$o(h.compDetails.componentClass))},[h]);x.useLayoutEffect(()=>{oe.current&&(ie.current.addOrRemoveCssClass("ag-cell-value",!Z),ie.current.addOrRemoveCssClass("ag-cell-inline-editing",!!f&&!f.popup),ie.current.addOrRemoveCssClass("ag-cell-popup-editing",!!f&&!!f.popup),ie.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!f||!!f.popup),e.setInlineEditingCss())});const qs=()=>se.createElement(se.Fragment,null,h!=null&&bI(h,v,u,te,Z,Ji,M),f!=null&&wI(f,J,oe.current,e,k)),mi=()=>se.createElement("div",{ref:Oe,style:b,role:ne,"col-id":l},Z?se.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ue},qs()):qs());return e.isCellSpanning()?se.createElement("div",{ref:Jt,className:"ag-spanned-cell-wrapper",role:"presentation"},mi()):mi()},SI=x.memo(yI),RI=({rowCtrl:e,containerType:t})=>{const{context:s,gos:i}=x.useContext(Tt),n=x.useRef(),l=x.useRef(e.getDomOrder()),u=e.isFullWidth(),c=e.rowNode.displayed,[h,g]=x.useState(()=>c?e.rowNode.getRowIndexString():null),[f,m]=x.useState(()=>e.rowId),[v,w]=x.useState(()=>e.businessKey),[b,R]=x.useState(()=>e.rowStyles),D=x.useRef(null),A=x.useRef(null),[T,F]=x.useState(()=>null),[L,I]=x.useState(),[k,U]=x.useState(()=>c?e.getInitialRowTop(t):void 0),[K,ne]=x.useState(()=>c?e.getInitialTransform(t):void 0),oe=x.useRef(null),z=x.useRef(),te=x.useRef(!1),[Q,de]=x.useState(0);x.useEffect(()=>{var pe;if(te.current||!L||Q>10)return;const ie=(pe=oe.current)==null?void 0:pe.firstChild;ie?(e.setupDetailRowAutoHeight(ie),te.current=!0):de(ue=>ue+1)},[L,Q]);const le=x.useRef();le.current||(le.current=new dl(()=>oe.current));const B=x.useCallback(ie=>{if(oe.current=ie,n.current=ie?s.createBean(new jo):s.destroyBean(n.current),!ie){e.unsetComp(t);return}if(!e.isAlive())return;const pe={setTop:U,setTransform:ne,addOrRemoveCssClass:(ue,Xe)=>le.current.addOrRemoveCssClass(ue,Xe),setDomOrder:ue=>l.current=ue,setRowIndex:g,setRowId:m,setRowBusinessKey:w,setUserStyles:R,setCellCtrls:(ue,Xe)=>{A.current=D.current,D.current=ue;const Oe=vu(A.current,ue,l.current);Oe!==A.current&&Cu(Xe,()=>F(Oe))},showFullWidth:ue=>I(ue),getFullWidthCellRenderer:()=>z.current,refreshFullWidth:ue=>_.current?(I(Xe=>({...Xe,params:ue()})),!0):!z.current||!z.current.refresh?!1:z.current.refresh(ue())};e.setComp(pe,ie,t,n.current)},[]);x.useLayoutEffect(()=>pl(L,s,oe.current,z),[L]);const ee=x.useMemo(()=>{const ie={top:k,transform:K};return Object.assign(ie,b),ie},[k,K,b]),q=u&&(L==null?void 0:L.componentFromFramework),ce=!u&&T!=null,M=x.useMemo(()=>!!((L==null?void 0:L.componentFromFramework)&&$o(L.componentClass)),[L]),_=x.useRef(!1);x.useEffect(()=>{_.current=M&&!!L&&!!i.get("reactiveCustomComponents")},[M,L]);const Z=()=>T==null?void 0:T.map(ie=>se.createElement(SI,{cellCtrl:ie,editingRow:e.editing,printLayout:e.printLayout,key:ie.instanceId})),J=()=>{const ie=L.componentClass;return se.createElement(se.Fragment,null,M?se.createElement(ie,{...L.params}):se.createElement(ie,{...L.params,ref:z}))};return se.createElement("div",{ref:B,role:"row",style:ee,"row-index":h,"row-id":f,"row-business-key":v},ce&&Z(),q&&J())},Ev=x.memo(RI),xI=({name:e})=>{const{context:t,gos:s}=x.useContext(Tt),i=x.useMemo(()=>hl(e),[e]),n=x.useRef(null),l=x.useRef(null),u=x.useRef(null),c=x.useRef([]),h=x.useRef([]),[g,f]=x.useState(()=>[]),m=!!s.get("enableCellSpan")&&!!i.getSpannedRowCtrls,v=x.useRef([]),w=x.useRef([]),[b,R]=x.useState(()=>[]),D=x.useRef(!1),A=x.useRef(),T=x.useMemo(()=>ds("ag-viewport",Cb(e)),[e]),F=x.useMemo(()=>ds(qa(e)),[e]),L=x.useMemo(()=>ds("ag-spanning-container",EM(e)),[e]),I=i.type==="center"||m,k=I?n:l;Dn(" AG Row Container "+e+" ",k);const U=x.useCallback(()=>{const le=!I||n.current!=null,B=l.current!=null,ee=!m||u.current!=null;return le&&B&&ee},[]),K=x.useCallback(()=>n.current==null&&l.current==null&&u.current==null,[]),ne=x.useCallback(()=>{if(K()&&(A.current=t.destroyBean(A.current)),U()){const le=q=>{const ce=vu(h.current,c.current,D.current);ce!==h.current&&(h.current=ce,Cu(q,()=>f(ce)))},B=q=>{const ce=vu(w.current,v.current,D.current);ce!==w.current&&(w.current=ce,Cu(q,()=>R(ce)))},ee={setHorizontalScroll:q=>{n.current&&(n.current.scrollLeft=q)},setViewportHeight:q=>{n.current&&(n.current.style.height=q)},setRowCtrls:({rowCtrls:q,useFlushSync:ce})=>{const M=!!ce&&c.current.length>0&&q.length>0;c.current=q,le(M)},setSpannedRowCtrls:(q,ce)=>{const M=!!ce&&v.current.length>0&&q.length>0;v.current=q,B(M)},setDomOrder:q=>{D.current!=q&&(D.current=q,le(!1))},setContainerWidth:q=>{l.current&&(l.current.style.width=q)},setOffsetTop:q=>{l.current&&(l.current.style.transform=`translateY(${q})`)}};A.current=t.createBean(new NM(e)),A.current.setComp(ee,l.current,u.current??void 0,n.current)}},[U,K]),oe=x.useCallback(le=>{l.current=le,ne()},[ne]),z=x.useCallback(le=>{u.current=le,ne()},[ne]),te=x.useCallback(le=>{n.current=le,ne()},[ne]),Q=()=>se.createElement("div",{className:F,ref:oe,role:"rowgroup"},g.map(le=>se.createElement(Ev,{rowCtrl:le,containerType:i.type,key:le.instanceId})));if(!I)return Q();const de=()=>m&&se.createElement("div",{className:L,ref:z,role:"rowgroup"},b.map(le=>se.createElement(Ev,{rowCtrl:le,containerType:i.type,key:le.instanceId})));return se.createElement("div",{className:T,ref:te,role:"presentation"},Q(),de())},DI=x.memo(xI),MI=()=>{const e=x.useContext(Tt),{context:t,overlays:s}=e,[i,n]=x.useState(""),[l,u]=x.useState(0),[c,h]=x.useState(0),[g,f]=x.useState("0px"),[m,v]=x.useState("0px"),[w,b]=x.useState("100%"),[R,D]=x.useState("0px"),[A,T]=x.useState("0px"),[F,L]=x.useState("100%"),[I,k]=x.useState(""),[U,K]=x.useState(""),[ne,oe]=x.useState(null),[z,te]=x.useState(""),[Q,de]=x.useState(null),[le,B]=x.useState("ag-layout-normal"),ee=x.useRef();ee.current||(ee.current=new dl(()=>q.current));const q=x.useRef(null),ce=x.useRef(null),M=x.useRef(null),_=x.useRef(null),Z=x.useRef(null),J=x.useRef(null),ie=x.useRef(null),pe=x.useRef([]),ue=x.useRef([]);Dn(" AG Grid Body ",q),Dn(" AG Pinned Top ",ce),Dn(" AG Sticky Top ",M),Dn(" AG Middle ",J),Dn(" AG Pinned Bottom ",ie);const Xe=x.useCallback(ct=>{if(q.current=ct,!ct){pe.current=t.destroyBeans(pe.current),ue.current.forEach(Ie=>Ie()),ue.current=[];return}if(!t)return;const es=(Ie,Ue)=>{Ie.appendChild(Ue),ue.current.push(()=>Ie.removeChild(Ue))},Wn=Ie=>{const Ue=t.createBean(new Ie);return pe.current.push(Ue),Ue},en=(Ie,Ue,Lu)=>{es(Ie,document.createComment(Lu)),es(Ie,Wn(Ue).getGui())};en(ct,WM," AG Fake Horizontal Scroll ");const fl=s==null?void 0:s.getOverlayWrapperCompClass();fl&&en(ct,fl," AG Overlay Wrapper "),Z.current&&en(Z.current,jM," AG Fake Vertical Scroll ");const tn={setRowAnimationCssOnBodyViewport:n,setColumnCount:Ie=>{q.current&&Fx(q.current,Ie)},setRowCount:Ie=>{q.current&&Ax(q.current,Ie)},setTopHeight:u,setBottomHeight:h,setStickyTopHeight:f,setStickyTopTop:v,setStickyTopWidth:b,setTopDisplay:k,setBottomDisplay:K,setColumnMovingCss:(Ie,Ue)=>ee.current.addOrRemoveCssClass(Ie,Ue),updateLayoutClasses:B,setAlwaysVerticalScrollClass:oe,setPinnedTopBottomOverflowY:te,setCellSelectableCss:(Ie,Ue)=>de(Ue?Ie:null),setBodyViewportWidth:Ie=>{J.current&&(J.current.style.width=Ie)},registerBodyViewportResizeListener:Ie=>{if(J.current){const Ue=pi(e,J.current,Ie);ue.current.push(()=>Ue())}},setStickyBottomHeight:D,setStickyBottomBottom:T,setStickyBottomWidth:L,setGridRootRole:Ie=>ct.setAttribute("role",Ie)},Dt=t.createBean(new VM);pe.current.push(Dt),Dt.setComp(tn,ct,J.current,ce.current,ie.current,M.current,_.current)},[]),Oe=x.useMemo(()=>ds("ag-root","ag-unselectable",le),[le]),Jt=x.useMemo(()=>ds("ag-body-viewport",i,le,ne,Q),[i,le,ne,Q]),Ji=x.useMemo(()=>ds("ag-body",le),[le]),qs=x.useMemo(()=>ds("ag-floating-top",Q),[Q]),mi=x.useMemo(()=>ds("ag-sticky-top",Q),[Q]),ze=x.useMemo(()=>ds("ag-sticky-bottom",R==="0px"?"ag-hidden":null,Q),[Q,R]),Ye=x.useMemo(()=>ds("ag-floating-bottom",Q),[Q]),gt=x.useMemo(()=>({height:l,minHeight:l,display:I,overflowY:z}),[l,I,z]),Ot=x.useMemo(()=>({height:g,top:m,width:w}),[g,m,w]),ye=x.useMemo(()=>({height:R,bottom:A,width:F}),[R,A,F]),it=x.useMemo(()=>({height:c,minHeight:c,display:U,overflowY:z}),[c,U,z]),Ct=ct=>se.createElement(DI,{name:ct,key:`${ct}-container`}),nt=({section:ct,children:es,className:Wn,style:en})=>se.createElement("div",{ref:ct,className:Wn,role:"presentation",style:en},es.map(Ct));return se.createElement("div",{ref:Xe,className:Oe},se.createElement(dI,null),nt({section:ce,className:qs,style:gt,children:["topLeft","topCenter","topRight","topFullWidth"]}),se.createElement("div",{className:Ji,ref:Z,role:"presentation"},nt({section:J,className:Jt,children:["left","center","right","fullWidth"]})),nt({section:M,className:mi,style:Ot,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),nt({section:_,className:ze,style:ye,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),nt({section:ie,className:Ye,style:it,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},EI=x.memo(MI),AI=(e,t)=>{const{children:s,eFocusableElement:i,onTabKeyDown:n,gridCtrl:l,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:c}=e,{context:h}=x.useContext(Tt),g=x.useRef(null),f=x.useRef(null),m=x.useRef(),v=A=>{const T=A==null?void 0:parseInt(A,10).toString();[g,f].forEach(F=>{var L,I;T===void 0?(L=F.current)==null||L.removeAttribute("tabindex"):(I=F.current)==null||I.setAttribute("tabindex",T)})};x.useImperativeHandle(t,()=>({forceFocusOutOfContainer(A){var T;(T=m.current)==null||T.forceFocusOutOfContainer(A)}}));const w=x.useCallback(()=>{const A=g.current,T=f.current;if(!A&&!T){m.current=h.destroyBean(m.current);return}if(A&&T){const F={setTabIndex:v};m.current=h.createBean(new Tb({comp:F,eTopGuard:A,eBottomGuard:T,eFocusableElement:i,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:L=>l.focusInnerElement(L),isEmpty:c}))}},[]),b=x.useCallback(A=>{g.current=A,w()},[w]),R=x.useCallback(A=>{f.current=A,w()},[w]),D=A=>{const T=A==="top"?On.TAB_GUARD_TOP:On.TAB_GUARD_BOTTOM;return se.createElement("div",{className:`${On.TAB_GUARD} ${T}`,role:"presentation",ref:A==="top"?b:R})};return se.createElement(se.Fragment,null,D("top"),s,D("bottom"))},TI=x.forwardRef(AI),FI=x.memo(TI),PI=({context:e})=>{const[t,s]=x.useState(""),[i,n]=x.useState(""),[l,u]=x.useState(null),[c,h]=x.useState(null),[g,f]=x.useState(!1),[m,v]=x.useState(),w=x.useRef(),b=x.useRef(null),R=x.useRef(),[D,A]=x.useState(null),T=x.useRef(()=>{}),F=x.useRef(),L=x.useRef([]),I=x.useCallback(()=>{},[]),k=x.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Dn(" AG Grid ",b);const U=x.useCallback(Q=>{if(b.current=Q,w.current=Q?e.createBean(new GE):e.destroyBean(w.current),!Q||e.isDestroyed())return;const de=w.current;T.current=de.focusInnerElement.bind(de);const le={destroyGridUi:()=>{},setRtlClass:s,forceFocusOutOfContainer:B=>{var ee,q;if(!B&&((ee=F.current)!=null&&ee.isDisplayed())){F.current.forceFocusOutOfContainer(B);return}(q=R.current)==null||q.forceFocusOutOfContainer(B)},updateLayoutClasses:n,getFocusableContainers:()=>{var q;const B=[],ee=(q=b.current)==null?void 0:q.querySelector(".ag-root");return ee&&B.push({getGui:()=>ee}),L.current.forEach(ce=>{ce.isDisplayed()&&B.push(ce)}),B},setCursor:u,setUserSelect:h};de.setComp(le,Q,Q),f(!0)},[]);x.useEffect(()=>{const Q=w.current,de=b.current;if(!m||!k||!Q||!D||!de)return;const le=[],{watermarkSelector:B,paginationSelector:ee,sideBarSelector:q,statusBarSelector:ce,gridHeaderDropZonesSelector:M}=Q.getOptionalSelectors(),_=[];if(M){const J=e.createBean(new M.component),ie=J.getGui();de.insertAdjacentElement("afterbegin",ie),_.push(ie),le.push(J)}if(q){const J=e.createBean(new q.component),ie=J.getGui(),pe=D.querySelector(".ag-tab-guard-bottom");pe&&(pe.insertAdjacentElement("beforebegin",ie),_.push(ie)),le.push(J),L.current.push(J)}const Z=J=>{const ie=e.createBean(new J),pe=ie.getGui();return de.insertAdjacentElement("beforeend",pe),_.push(pe),le.push(ie),ie};if(ce&&Z(ce.component),ee){const J=Z(ee.component);F.current=J,L.current.push(J)}return B&&Z(B.component),()=>{e.destroyBeans(le),_.forEach(J=>{var ie;(ie=J.parentElement)==null||ie.removeChild(J)})}},[m,D,k]);const K=x.useMemo(()=>ds("ag-root-wrapper",t,i),[t,i]),ne=x.useMemo(()=>ds("ag-root-wrapper-body","ag-focus-managed",i),[i]),oe=x.useMemo(()=>({userSelect:c??"",WebkitUserSelect:c??"",cursor:l??""}),[c,l]),z=x.useCallback(Q=>{R.current=Q,v(Q!==null)},[]),te=x.useCallback(()=>{var Q;return!((Q=w.current)!=null&&Q.isFocusable())},[]);return se.createElement("div",{ref:U,className:K,style:oe,role:"presentation"},se.createElement("div",{className:ne,ref:A,role:"presentation"},g&&D&&k&&se.createElement(Tt.Provider,{value:k},se.createElement(FI,{ref:z,eFocusableElement:D,onTabKeyDown:I,gridCtrl:w.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:te},se.createElement(EI,null)))))},LI=x.memo(PI),II=class extends j{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},GI={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},my=new Set(Object.keys(GI)),Cy=e=>{var D;const t=x.useRef(),s=x.useRef(null),i=x.useRef(null),n=x.useRef([]),l=x.useRef([]),u=x.useRef(e),c=x.useRef(),h=x.useRef(),g=x.useRef(!1),[f,m]=x.useState(void 0),[,v]=x.useState(0),w=x.useCallback(A=>{if(s.current=A,!A){n.current.forEach(z=>z()),n.current.length=0;return}const T=e.modules||[];i.current||(i.current=new eI(()=>v(z=>z+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var z;(z=i.current)==null||z.destroy(),i.current=null}));const F=d0(e.gridOptions,e,Object.keys(e).filter(z=>!my.has(z))),L=()=>{if(g.current){const z=()=>{var Q;return(Q=c.current)!=null&&Q.shouldQueueUpdates()?void 0:l.current.shift()};let te=z();for(;te;)te(),te=z()}},I=new BI(L);c.current=I;const k=new II,U={providedBeanInstances:{frameworkCompWrapper:new kI(i.current,F.reactiveCustomComponents??aP("reactiveCustomComponents")??!0),renderStatus:k},modules:T,frameworkOverrides:I,setThemeOnGridDiv:!0},K=z=>{m(z),z.createBean(k),n.current.push(()=>{z.destroy()}),z.getBean("ctrlsSvc").whenReady({addDestroyFunc:te=>{n.current.push(te)}},()=>{var Q;if(z.isDestroyed())return;const te=t.current;te&&((Q=e.setGridApi)==null||Q.call(e,te))})},ne=z=>{z.getBean("ctrlsSvc").whenReady({addDestroyFunc:te=>{n.current.push(te)}},()=>{l.current.forEach(te=>te()),l.current.length=0,g.current=!0})},oe=new cP;F.gridId??(F.gridId=h.current),t.current=oe.create(A,F,K,ne,U),n.current.push(()=>{t.current=void 0}),t.current&&(h.current=t.current.getGridId())},[]),b=x.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),R=x.useCallback(A=>{var T;g.current&&!((T=c.current)!=null&&T.shouldQueueUpdates())?A():l.current.push(A)},[]);return x.useEffect(()=>{const A=OI(u.current,e);u.current=e,R(()=>{t.current&&h0(A,t.current)})},[e]),se.createElement("div",{style:b,className:e.className,ref:w},f&&!f.isDestroyed()?se.createElement(LI,{context:f}):null,((D=i.current)==null?void 0:D.getPortals())??null)};function OI(e,t){const s={};return Object.keys(t).forEach(i=>{if(my.has(i))return;const n=t[i];e[i]!==n&&(s[i]=n)}),s}var kI=class extends RP{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(l=>{switch(l){case"filter":return UL;case"floatingFilterComponent":return KL;case"dateComponent":return _L;case"dragAndDropImageComponent":return WL;case"loadingOverlayComponent":return qL;case"noRowsOverlayComponent":return ZL;case"statusPanel":return XL;case"toolPanel":return QL;case"menuItem":return $L;case"cellRenderer":return VL;case"innerHeaderComponent":return YL}})(t.name);if(n)return new n(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ig();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new py(e,this.parent,t,s)}},NI=x.forwardRef((e,t)=>{const s=x.useContext(Tt),{registry:i,context:n,gos:l,rowModel:u}=s,[c,h]=x.useState(()=>new hs),[g,f]=x.useState(()=>new hs),[m,v]=x.useState(),[w,b]=x.useState(),R=x.useRef(),D=x.useRef(null),A=x.useRef(),T=x.useMemo(()=>AD(e.api.getGridId(),(m==null?void 0:m.rowModelType)??"clientSide"),[e]),F=x.useMemo(()=>c.toString()+" ag-details-row",[c]),L=x.useMemo(()=>g.toString()+" ag-details-grid",[g]);t&&x.useImperativeHandle(t,()=>({refresh(){var U;return((U=R.current)==null?void 0:U.refresh())??!1}})),e.template&&re(230);const I=x.useCallback(U=>{var oe;if(D.current=U,!U){R.current=n.destroyBean(R.current),(oe=A.current)==null||oe.call(A);return}const K={addOrRemoveCssClass:(z,te)=>h(Q=>Q.setClass(z,te)),addOrRemoveDetailGridCssClass:(z,te)=>f(Q=>Q.setClass(z,te)),setDetailGrid:z=>v(z),setRowData:z=>b(z),getGui:()=>D.current},ne=i.createDynamicBean("detailCellRendererCtrl",!0);if(ne&&(n.createBean(ne),ne.init(K,e),R.current=ne,l.get("detailRowAutoHeight"))){const z=()=>{if(D.current==null)return;const te=D.current.clientHeight;te!=null&&te>0&&setTimeout(()=>{e.node.setRowHeight(te),(fi(l)||Cs(l))&&u.onRowHeightChanged()},0)};A.current=pi(s,U,z),z()}},[]),k=x.useCallback(U=>{var K;(K=R.current)==null||K.registerDetailWithMaster(U)},[]);return se.createElement("div",{className:F,ref:I},m&&se.createElement(Cy,{className:L,...m,modules:T,rowData:w,setGridApi:k}))}),BI=class extends Pb{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:Rv,agGroupRowRenderer:Rv,agDetailCellRenderer:NI},this.wrapIncoming=(t,s)=>s==="ensureVisible"?NL(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return kL()}},HI=class extends x.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return se.createElement(Cy,{...this.props,setGridApi:this.setGridApi})}},zI=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let s=e[0],i=e[1],n=e[2],l=e[3];s=this.ff(s,i,n,l,t[0],7,-680876936),l=this.ff(l,s,i,n,t[1],12,-389564586),n=this.ff(n,l,s,i,t[2],17,606105819),i=this.ff(i,n,l,s,t[3],22,-1044525330),s=this.ff(s,i,n,l,t[4],7,-176418897),l=this.ff(l,s,i,n,t[5],12,1200080426),n=this.ff(n,l,s,i,t[6],17,-1473231341),i=this.ff(i,n,l,s,t[7],22,-45705983),s=this.ff(s,i,n,l,t[8],7,1770035416),l=this.ff(l,s,i,n,t[9],12,-1958414417),n=this.ff(n,l,s,i,t[10],17,-42063),i=this.ff(i,n,l,s,t[11],22,-1990404162),s=this.ff(s,i,n,l,t[12],7,1804603682),l=this.ff(l,s,i,n,t[13],12,-40341101),n=this.ff(n,l,s,i,t[14],17,-1502002290),i=this.ff(i,n,l,s,t[15],22,1236535329),s=this.gg(s,i,n,l,t[1],5,-165796510),l=this.gg(l,s,i,n,t[6],9,-1069501632),n=this.gg(n,l,s,i,t[11],14,643717713),i=this.gg(i,n,l,s,t[0],20,-373897302),s=this.gg(s,i,n,l,t[5],5,-701558691),l=this.gg(l,s,i,n,t[10],9,38016083),n=this.gg(n,l,s,i,t[15],14,-660478335),i=this.gg(i,n,l,s,t[4],20,-405537848),s=this.gg(s,i,n,l,t[9],5,568446438),l=this.gg(l,s,i,n,t[14],9,-1019803690),n=this.gg(n,l,s,i,t[3],14,-187363961),i=this.gg(i,n,l,s,t[8],20,1163531501),s=this.gg(s,i,n,l,t[13],5,-1444681467),l=this.gg(l,s,i,n,t[2],9,-51403784),n=this.gg(n,l,s,i,t[7],14,1735328473),i=this.gg(i,n,l,s,t[12],20,-1926607734),s=this.hh(s,i,n,l,t[5],4,-378558),l=this.hh(l,s,i,n,t[8],11,-2022574463),n=this.hh(n,l,s,i,t[11],16,1839030562),i=this.hh(i,n,l,s,t[14],23,-35309556),s=this.hh(s,i,n,l,t[1],4,-1530992060),l=this.hh(l,s,i,n,t[4],11,1272893353),n=this.hh(n,l,s,i,t[7],16,-155497632),i=this.hh(i,n,l,s,t[10],23,-1094730640),s=this.hh(s,i,n,l,t[13],4,681279174),l=this.hh(l,s,i,n,t[0],11,-358537222),n=this.hh(n,l,s,i,t[3],16,-722521979),i=this.hh(i,n,l,s,t[6],23,76029189),s=this.hh(s,i,n,l,t[9],4,-640364487),l=this.hh(l,s,i,n,t[12],11,-421815835),n=this.hh(n,l,s,i,t[15],16,530742520),i=this.hh(i,n,l,s,t[2],23,-995338651),s=this.ii(s,i,n,l,t[0],6,-198630844),l=this.ii(l,s,i,n,t[7],10,1126891415),n=this.ii(n,l,s,i,t[14],15,-1416354905),i=this.ii(i,n,l,s,t[5],21,-57434055),s=this.ii(s,i,n,l,t[12],6,1700485571),l=this.ii(l,s,i,n,t[3],10,-1894986606),n=this.ii(n,l,s,i,t[10],15,-1051523),i=this.ii(i,n,l,s,t[1],21,-2054922799),s=this.ii(s,i,n,l,t[8],6,1873313359),l=this.ii(l,s,i,n,t[15],10,-30611744),n=this.ii(n,l,s,i,t[6],15,-1560198380),i=this.ii(i,n,l,s,t[13],21,1309151649),s=this.ii(s,i,n,l,t[4],6,-145523070),l=this.ii(l,s,i,n,t[11],10,-1120210379),n=this.ii(n,l,s,i,t[2],15,718787259),i=this.ii(i,n,l,s,t[9],21,-343485551),e[0]=this.add32(s,e[0]),e[1]=this.add32(i,e[1]),e[2]=this.add32(n,e[2]),e[3]=this.add32(l,e[3])}cmn(e,t,s,i,n,l){return t=this.add32(this.add32(t,e),this.add32(i,l)),this.add32(t<<n|t>>>32-n,s)}ff(e,t,s,i,n,l,u){return this.cmn(t&s|~t&i,e,t,n,l,u)}gg(e,t,s,i,n,l,u){return this.cmn(t&i|s&~i,e,t,n,l,u)}hh(e,t,s,i,n,l,u){return this.cmn(t^s^i,e,t,n,l,u)}ii(e,t,s,i,n,l,u){return this.cmn(s^(t|~i),e,t,n,l,u)}md51(e){const t=e.length,s=[1732584193,-271733879,-1732584194,271733878];let i;for(i=64;i<=e.length;i+=64)this.md5cycle(s,this.md5blk(e.substring(i-64,i)));e=e.substring(i-64);const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<e.length;i++)n[i>>2]|=e.charCodeAt(i)<<(i%4<<3);if(n[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(s,n),i=0;i<16;i++)n[i]=0;return n[14]=t*8,this.md5cycle(s,n),s}md5blk(e){const t=[];for(let s=0;s<64;s+=4)t[s>>2]=e.charCodeAt(s)+(e.charCodeAt(s+1)<<8)+(e.charCodeAt(s+2)<<16)+(e.charCodeAt(s+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let s="",i=0;for(;i<4;i++)s+=t[e>>i*8+4&15]+t[e>>i*8&15];return s}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const s=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(s>>16)<<16|s&65535}},Ha={"01":"GRID","02":"CHARTS","0102":"BOTH"},Av="https://www.ag-grid.com/licensing/",vy=class _t{constructor(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new zI,this.md5.init()}validateLicense(){const t=this.getLicenseDetails(_t.licenseKey),s=`AG Grid ${t.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,i=t.suppliedLicenseType===void 0?"":`AG ${t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(s);else if(t.expired){const n=_t.getGridReleaseDate(),l=_t.formatDate(n);this.outputExpiredKey(t.expiry,l,s,i)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,s,i):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,s,i)}static extractExpiry(t){const s=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(_t.decode(s),10))}static extractLicenseComponents(t){let s=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(s=s.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};const i=s.length-32,n=s.substring(i),l=s.substring(0,i),[u,c,h]=_t.extractBracketedInformation(s);return{md5:n,license:l,version:u,isTrial:c,type:h}}getLicenseDetails(t){const s=_t.chartsLicenseManager?"BOTH":"GRID";if(!(t!=null&&t.length))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:s};const i=_t.getGridReleaseDate(),{md5:n,license:l,version:u,isTrial:c,type:h}=_t.extractLicenseComponents(t);let g=n===this.md5.md5(l)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,f,m,v=null,w=!1,b;function R(){f=v<new Date,m=void 0}if(g&&(v=_t.extractExpiry(l),g=!isNaN(v.getTime()),g))switch(m=i>v,u){case"legacy":case"2":{c&&R();break}case"3":h!=null&&h.length?(b=h,h!==Ha["01"]&&h!==Ha["0102"]||s==="BOTH"&&b!=="BOTH"?(g=!1,w=!0):c&&R()):g=!1}return g?{licenseKey:t,valid:g,expiry:_t.formatDate(v),expired:m,version:u,isTrial:c,trialExpired:f,incorrectLicenseType:w,currentLicenseType:s,suppliedLicenseType:b}:{licenseKey:t,valid:g,incorrectLicenseType:w,currentLicenseType:s,suppliedLicenseType:b}}isDisplayWatermark(){var t;return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!((t=this.watermarkMessage)!=null&&t.length)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const s=(this.document.defaultView||window).location,{hostname:i=""}=s;return i}isForceWatermark(){const s=(this.document.defaultView||window).location,{pathname:i}=s;return i?i.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(t){const s=["January","February","March","April","May","June","July","August","September","October","November","December"],i=t.getDate(),n=t.getMonth(),l=t.getFullYear();return i+" "+s[n]+" "+l}static getGridReleaseDate(){return new Date(parseInt(_t.decode(_t.RELEASE_INFORMATION),10))}static decode(t){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",n,l,u,c,h,g,f,m=0;const v=t.replace(/[^A-Za-z0-9+/=]/g,"");for(;m<v.length;)c=s.indexOf(v.charAt(m++)),h=s.indexOf(v.charAt(m++)),g=s.indexOf(v.charAt(m++)),f=s.indexOf(v.charAt(m++)),n=c<<2|h>>4,l=(h&15)<<4|g>>2,u=(g&3)<<6|f,i=i+String.fromCharCode(n),g!=64&&(i=i+String.fromCharCode(l)),f!=64&&(i=i+String.fromCharCode(u));return i=_t.utf8_decode(i),i}static utf8_decode(t){t=t.replace(/rn/g,"n");let s="";for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);n<128?s+=String.fromCharCode(n):n>127&&n<2048?(s+=String.fromCharCode(n>>6|192),s+=String.fromCharCode(n&63|128)):(s+=String.fromCharCode(n>>12|224),s+=String.fromCharCode(n>>6&63|128),s+=String.fromCharCode(n&63|128))}return s}static setChartsLicenseManager(t){this.chartsLicenseManager=t}static setLicenseKey(t){var s;this.licenseKey=t,(s=this.chartsLicenseManager)==null||s.setLicenseKey(t,!0)}static extractBracketedInformation(t){if(!t.includes("["))return["legacy",!1,void 0];const s=t.match(/\[(.*?)\]/g).map(c=>c.replace("[","").replace("]",""));if(!s||s.length===0)return["legacy",!1,void 0];const i=s.filter(c=>c==="TRIAL").length===1,n=s.filter(c=>c.indexOf("v")===0)[0],l=n?n.replace("v",""):"legacy",u=Ha[s.filter(c=>Ha[c])[0]];return[l,i,u]}centerPadAndOutput(t){const s=this.totalMessageLength-t.length;console.error(t.padStart(s/2+t.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(t,s="*",i=""){console.error(t.padEnd(this.totalMessageLength-i.length,s)+i)}outputInvalidLicenseKey(t,s,i){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${i} only and does not cover you for ${s}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Av}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${Av}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(t,s,i){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${i} expired on ${t}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(t){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${t} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${t} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(t,s,i,n){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${n} released before ${t}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${s}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};vy.RELEASE_INFORMATION="MTc0MjU0ODYxMzc0Nw==";var za=vy,VI='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}',_I={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]},WI=class extends Me{constructor(){super(_I),this.eLicenseTextRef=ae,this.registerCSS(VI)}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}},UI={selector:"AG-WATERMARK",component:WI},jI=class extends j{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new za(lt(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new za(null).getLicenseDetails(e)}getWatermarkSelector(){return UI}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){za.setLicenseKey(e)}static setChartsLicenseManager(e){za.setChartsLicenseManager(e)}},ut="33.2.1",Qt={moduleName:"EnterpriseCore",version:ut,beans:[jI],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]},KI=".ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-panel-title-bar-text-color);cursor:default;display:flex;flex:none;font-weight:var(--ag-panel-title-bar-font-weight);height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-panel-title-bar-button{color:var(--ag-panel-title-bar-icon-color);cursor:pointer}:where(.ag-ltr) .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{flex:1 1 auto}.ag-panel-title-bar-buttons{display:flex}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}:where(.ag-dragging-fill-handle) .ag-dialog,:where(.ag-dragging-range-handle) .ag-dialog{opacity:.7;pointer-events:none}";function YI(e){const t=e.cssIdentifier||"default";return{tag:"div",cls:`ag-panel ag-${t}-panel`,attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eTitleBar",cls:`ag-panel-title-bar ag-${t}-panel-title-bar ag-unselectable`,children:[{tag:"span",ref:"eTitle",cls:`ag-panel-title-bar-title ag-${t}-panel-title-bar-title`},{tag:"div",ref:"eTitleBarButtons",cls:`ag-panel-title-bar-buttons ag-${t}-panel-title-bar-buttons`}]},{tag:"div",ref:"eContentWrapper",cls:`ag-panel-content-wrapper ag-${t}-panel-content-wrapper`}]}}var qI=class extends Me{constructor(e){super(YI(e)),this.config=e,this.closable=!0,this.eContentWrapper=ae,this.eTitleBar=ae,this.eTitleBarButtons=ae,this.eTitle=ae,this.registerCSS(KI)}postConstruct(){const{component:e,closable:t,hideTitleBar:s,title:i,minWidth:n=250,width:l,minHeight:u=250,height:c,centered:h,popup:g,x:f,y:m}=this.config;this.positionableFeature=new vg(this.getGui(),{minWidth:n,width:l,minHeight:u,height:c,centered:h,x:f,y:m,popup:g,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const v=this.getGui();e&&this.setBodyComponent(e),s?Pe(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(t??this.closable)),this.addManagedElementListeners(this.eTitleBar,{mousedown:w=>{if(v.contains(w.relatedTarget)||v.contains(Ke(this.beans))||this.eTitleBarButtons.contains(w.target)){w.preventDefault();return}const b=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");b&&b.focus()}}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const t=this.closeButtonComp=new Me({tag:"div",cls:"ag-button"});this.createBean(t);const s=t.getGui(),i=ve("close",this.beans);i.classList.add("ag-panel-title-bar-button-icon"),s.appendChild(i),this.addTitleBarButton(t),t.addManagedElementListeners(s,{click:this.onBtClose.bind(this)})}else if(this.closeButtonComp){const t=this.closeButtonComp.getGui();t.parentElement.removeChild(t),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const s=this.eTitleBarButtons,i=s.children,n=i.length;t==null&&(t=n),t=Math.max(0,Math.min(t,n)),e.addCssClass("ag-panel-title-bar-button");const l=e.getGui();t===0?s.insertAdjacentElement("afterbegin",l):t===n?s.insertAdjacentElement("beforeend",l):i[t-1].insertAdjacentElement("afterend",l),e.setParentComponent(this)}getBodyHeight(){return ig(this.eContentWrapper)}getBodyWidth(){return il(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&Ys(e)&&this.close(),super.destroy()}},$I=class extends qI{constructor(e){super({...e,popup:!0}),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}wireBeans(e){this.popupSvc=e.popupSvc}postConstruct(){var u;const e=this.getGui(),{movable:t,resizable:s,maximizable:i,modal:n,postProcessPopupParams:l}=this.config;if(this.addCssClass("ag-dialog"),super.postConstruct(),l){const{type:c,eventSource:h,column:g,mouseEvent:f,rowNode:m}=l;(u=this.popupSvc)==null||u.callPostProcessPopup(c,e,h,f,g,m)}if(this.tabGuardFeature=this.createManagedBean(new Fb(this)),this.tabGuardFeature.initialiseTabGuard({isFocusableContainer:!0,onFocusIn:()=>{var c;(c=this.popupSvc)==null||c.bringPopupToFront(e)},onTabKeyDown:c=>{if(n)return;const h=c.shiftKey,g=fs(this.beans,e,!1,h);(!g||this.tabGuardFeature.getTabGuardCtrl().isTabGuard(g))&&js(this.beans,h)&&c.preventDefault()}}),t&&this.setMovable(t),i&&this.setMaximizable(i),s&&this.setResizable(s),!this.config.modal){const c=this.beans.ctrlsSvc.get("gridCtrl");c.addFocusableContainer(this),this.addDestroyFunc(()=>c.removeFocusableContainer(this))}}setAllowFocus(e){this.tabGuardFeature.getTabGuardCtrl().setAllowFocus(e)}renderComponent(){var c;const e=this.getGui(),{alwaysOnTop:t,modal:s,title:i,afterGuiAttached:n}=this.config,l=this.getLocaleTextFunc(),u=(c=this.popupSvc)==null?void 0:c.addPopup({modal:s,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:i||l("ariaLabelDialog","Dialog"),afterGuiAttached:n});u&&(this.close=u.hideFunc)}onClosed(e){var t,s;this.destroy(),(s=(t=this.config).closedCallback)==null||s.call(t,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:s,width:i,height:n}=this.lastPosition;this.setWidth(i),this.setHeight(n),this.positionableFeature.offsetElement(t,s)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Pe(this.maximizeIcon,!this.isMaximized),Pe(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const s=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),s.addManagedElementListeners(s.getGui(),{click:this.toggleMaximize.bind(this)}),this.addTitleBarButton(s,0),this.maximizeListeners.push(...this.addManagedElementListeners(t,{dblclick:this.toggleMaximize.bind(this)})),[this.resizeListenerDestroy]=this.addManagedListeners(this.positionableFeature,{resize:()=>{this.isMaximized=!1,this.refreshMaximizeIcon()}})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new Me({tag:"div",cls:"ag-dialog-button"})),t=e.getGui();return this.maximizeIcon=ve("maximize",this.beans),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ve("minimize",this.beans),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};function ZI(e){return{tag:"div",cls:`ag-virtual-list-viewport ag-${e}-virtual-list-viewport`,role:"presentation",children:[{tag:"div",ref:"eContainer",cls:`ag-virtual-list-container ag-${e}-virtual-list-container`}]}}var wy=class extends Tu{constructor(e){super(ZI((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=ae,this.awaitStableCallbacks=[];const{cssIdentifier:t="default",ariaRole:s="listbox",listName:i,moveItemCallback:n}=e||{};this.cssIdentifier=t,this.ariaRole=s,this.listName=i,this.moveItemCallback=n}wireBeans(e){this.environment=e.environment}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.refreshAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(e){e.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}refreshAriaProperties(){var i;const t=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),s=this.eContainer;gs(s,((i=this.model)==null?void 0:i.getRowCount())>0?this.ariaRole:"presentation"),Xt(s,t)}addResizeObserver(){const e=()=>Ms(this.beans,()=>this.drawVirtualRows()),t=pi(this.beans,this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){return this.focusRow(e?this.model.getRowCount()-1:0),!0}onFocusIn(e){const t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=yx(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){const{key:t,shiftKey:s}=e;switch(t){case W.UP:case W.DOWN:{const i=t===W.UP;e.preventDefault(),s?this.moveItem(i):this.navigate(i)}break;case W.PAGE_HOME:case W.PAGE_END:case W.PAGE_UP:case W.PAGE_DOWN:this.navigateToPage(t)!==null&&e.preventDefault();break}}onTabKeyDown(e){_s(e),this.forceFocusOutOfContainer(e.shiftKey)}getNextRow(e){if(this.lastFocusedRowIndex==null)return;const t=this.lastFocusedRowIndex+(e?-1:1);if(!(t<0||t>=this.model.getRowCount()))return t}moveItem(e){if(!this.moveItemCallback)return;const t=this.getComponentAt(this.lastFocusedRowIndex);t&&this.moveItemCallback(t,e)}navigate(e){const t=this.getNextRow(e);t!==void 0&&this.focusRow(t)}navigateToPage(e,t="focused"){let s=!1;t==="focused"&&(t=this.getLastFocusedRow(),s=!0);const i=this.model.getRowCount()-1;let n=-1;return e===W.PAGE_HOME?n=0:e===W.PAGE_END?n=i:e===W.PAGE_DOWN?n=Math.min(t+this.pageSize,i):e===W.PAGE_UP&&(n=Math.max(t-this.pageSize,0)),n===-1?null:(s?this.focusRow(n):this.ensureIndexVisible(n),n)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),Ms(this.beans,()=>{if(this.isScrolling=!1,!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()}))}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,s)=>e(t.rowComponent,s))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(e,t=!0){const s=this.model.getRowCount();if(typeof e!="number"||e<0||e>=s)return re(229,{index:e}),!1;const i=e*this.rowHeight,n=i+this.rowHeight,l=this.getGui(),u=l.scrollTop,c=l.offsetHeight,h=u+c,g=t?0:this.rowHeight,f=u>i+g,m=h<n-g;if(f)return l.scrollTop=i,!0;if(m){const v=n-c;return l.scrollTop=v,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,this.refreshAriaProperties(),this.awaitStable(()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}awaitStable(e){if(this.awaitStableCallbacks.push(e),this.awaitStableCallbacks.length>1)return;const t=this.model.getRowCount();Cw(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{if(!this.isAlive())return;const s=this.awaitStableCallbacks;this.awaitStableCallbacks=[],s.forEach(i=>i())})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),s=t.scrollTop,i=s+t.offsetHeight;if(s===i)this.clearVirtualRows();else{const n=Math.floor(s/this.rowHeight),l=Math.floor(i/this.rowHeight);this.pageSize=Math.floor((i-s)/this.rowHeight),this.ensureRowsRendered(n,l,e)}}ensureRowsRendered(e,t,s){this.renderedRows.forEach((i,n)=>{(n<e||n>t)&&n!==this.lastFocusedRowIndex&&this.removeRow(n)}),s&&this.refreshRows();for(let i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)}insertRow(e){const t=this.model.getRow(e),s=this.ariaRole==="tree"?"treeitem":"option",i=$e({tag:"div",cls:`ag-virtual-list-item ag-${this.cssIdentifier}-virtual-list-item`,role:s,attrs:{tabindex:"-1"}});Jv(i,this.model.getRowCount()),ew(i,e+1),i.style.height=`${this.rowHeight}px`,i.style.top=`${this.rowHeight*e}px`;const n=this.componentCreator(t,i);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),i.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:n,eDiv:i,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,s)=>{var i,n;if(s>=e)this.removeRow(s);else{const l=this.model.getRow(s);(n=(i=this.model).areRowsEqual)!=null&&n.call(i,t.value,l)?this.componentUpdater(l,t.rowComponent):this.removeRow(s)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}},wh="ag-list-item-hovered",XI=class extends j{constructor(e,t,s){super(),this.comp=e,this.virtualList=t,this.params=s,this.currentDragValue=null,this.lastHoveredListItem=null}wireBeans(e){this.dragAndDrop=e.dragAndDrop}postConstruct(){this.addManagedListeners(this.params.eventSource,{[this.params.listItemDragStartEvent]:this.listItemDragStart.bind(this),[this.params.listItemDragEndEvent]:this.listItemDragEnd.bind(this)}),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){var t;const e={isInterestedIn:s=>s===this.params.dragSourceType,getIconName:()=>this.moveBlocked?"pinned":"move",getContainer:()=>this.comp.getGui(),onDragging:s=>this.onDragging(s),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave(),onDragCancel:()=>this.onDragCancel()};(t=this.dragAndDrop)==null||t.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new sM({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),s=this.virtualList.getComponentAt(t.rowIndex);if(!s)return;const i=s.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,HC(i,wh),HC(i,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),s=parseFloat(window.getComputedStyle(t).paddingTop),i=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),l=Math.max(0,(e.y-s+n)/i),u=this.params.getNumRows(this.comp)-1,c=Math.min(u,l)|0;return{rowIndex:c,position:Math.round(l)>l||l>u?"bottom":"top",component:this.virtualList.getComponentAt(c)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearDragProperties())}onDragCancel(){this.clearDragProperties()}onDragLeave(){this.clearDragProperties()}clearDragProperties(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${wh}`).forEach(t=>{[wh,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(s=>{t.classList.remove(s)})}),this.lastHoveredListItem=null}};function QI(e){var t;return((t=e.sideBar)==null?void 0:t.comp.isDisplayed())??!1}function JI(e,t){var s;(s=e.sideBar)==null||s.comp.setDisplayed(t)}function e1(e,t){var s;(s=e.sideBar)==null||s.comp.setSideBarPosition(t)}function t1(e,t){var s;(s=e.sideBar)==null||s.comp.openToolPanel(t,"api")}function s1(e){var t;(t=e.sideBar)==null||t.comp.close("api")}function i1(e){var t;return((t=e.sideBar)==null?void 0:t.comp.openedItem())??null}function n1(e){var t;(t=e.sideBar)==null||t.comp.refresh()}function o1(e){var t;return((t=e.sideBar)==null?void 0:t.comp.isToolPanelShowing())??!1}function r1(e,t){var i;const s=(i=e.sideBar)==null?void 0:i.comp.getToolPanelInstance(t);return yD(s)}function l1(e){var t;return(t=e.sideBar)==null?void 0:t.comp.getDef()}function Kh(e,t){if(!t)return null;const s=$i(e),i=s.indexOf(t);if(i===-1)return null;let n=-1;for(let l=i-1;l>=0;l--)if(s[l].classList.contains(On.TAB_GUARD_TOP)){n=l;break}return n<=0?null:s[n-1]}function by(e,t){if(!t)return!1;const s=e.querySelectorAll(`.${pb}`);if(!s.length)return!1;for(let i=0;i<s.length;i++)if(s[i].contains(t))return!0;return!1}var a1='.ag-tool-panel-wrapper{display:flex;overflow:hidden auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-flow:row nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}:where(.ag-ltr) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{right:-3px}:where(.ag-rtl) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-ltr) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-rtl) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{background-color:var(--ag-side-button-bar-background-color);padding-top:var(--ag-side-button-bar-top-padding);position:relative}.ag-side-button{background-color:var(--ag-side-button-background-color);border-bottom:var(--ag-side-button-border);border-top:var(--ag-side-button-border);color:var(--ag-side-button-text-color);margin-top:-1px;position:relative;&:before{background-color:transparent;bottom:0;content:"";display:block;position:absolute;top:0;transition:background-color var(--ag-side-button-selected-underline-transition-duration);width:var(--ag-side-button-selected-underline-width)}&:hover{background-color:var(--ag-side-button-hover-background-color);color:var(--ag-side-button-hover-text-color)}&.ag-selected{background-color:var(--ag-side-button-selected-background-color);border-bottom:var(--ag-side-button-selected-border);border-top:var(--ag-side-button-selected-border);color:var(--ag-side-button-selected-text-color);&:before{background-color:var(--ag-side-button-selected-underline-color)}}}:where(.ag-ltr) .ag-side-button{&:before{left:0}}:where(.ag-rtl) .ag-side-button{&:before{right:0}}.ag-side-button-button{align-items:center;display:flex;flex-direction:column;gap:var(--ag-spacing);position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}:where(.ag-ltr) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding)}:where(.ag-rtl) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding)}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (resolution <= 1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}:where(.ag-ltr) .ag-side-button-label{transform:rotate(.05deg)}:where(.ag-rtl) .ag-side-button-label{transform:rotate(-.05deg)}}:where(.ag-ltr) .ag-side-bar-left,:where(.ag-rtl) .ag-side-bar-right{border-right:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-left:var(--ag-side-panel-border)}}:where(.ag-ltr) .ag-side-bar-right,:where(.ag-rtl) .ag-side-bar-left{border-left:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-right:var(--ag-side-panel-border)}}',u1={tag:"div",cls:"ag-side-button",role:"presentation",children:[{tag:"button",ref:"eToggleButton",cls:"ag-button ag-side-button-button",role:"tab",attrs:{type:"button",tabindex:"-1","aria-expanded":"false"},children:[{tag:"div",ref:"eIconWrapper",cls:"ag-side-button-icon-wrapper",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eLabel",cls:"ag-side-button-label"}]}]},c1=class extends Me{constructor(e){super(),this.toolPanelDef=e,this.eToggleButton=ae,this.eIconWrapper=ae,this.eLabel=ae}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){this.setTemplate(u1,[]),this.setLabel(),this.setIcon(),this.addManagedElementListeners(this.eToggleButton,{click:this.onButtonPressed.bind(this)}),this.eToggleButton.setAttribute("id",`ag-${this.getCompId()}-button`)}setLabel(){const e=this.getLocaleTextFunc(),t=this.toolPanelDef,s=e(t.labelKey,t.labelDefault);this.eLabel.innerText=s}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",ve(this.toolPanelDef.iconKey,this.beans))}onButtonPressed(){this.dispatchLocalEvent({type:"toggleButtonClicked"})}setSelected(e){this.addOrRemoveCssClass("ag-selected",e),Vn(this.eToggleButton,e)}},d1={tag:"div",cls:"ag-side-buttons",role:"tablist"},h1=class extends Me{constructor(){super(d1),this.buttonComps=[]}postConstruct(){this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){if(!(e.key!==W.TAB||!e.shiftKey)){if(js(this.beans,!0)){e.preventDefault();return}_s(e)}}setActiveButton(e){this.buttonComps.forEach(t=>{t.setSelected(e===t.getToolPanelId())})}addButtonComp(e){const t=this.createBean(new c1(e));return this.buttonComps.push(t),this.appendChild(t),t.addEventListener("toggleButtonClicked",()=>{this.dispatchLocalEvent({type:"sideBarButtonClicked",toolPanelId:e.id})}),t}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),ms(this.getGui()),super.destroy()}destroy(){this.clearButtons(),super.destroy()}},g1={selector:"AG-SIDE-BAR-BUTTONS",component:h1},yy={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columnsToolPanel",toolPanel:"agColumnsToolPanel"},Sy={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filtersToolPanel",toolPanel:"agFiltersToolPanel"},wu={columns:yy,filters:Sy};function Yh(e){if(!e)return;if(e===!0)return{toolPanels:[yy,Sy],defaultToolPanel:"columns"};if(typeof e=="string")return Yh([e]);if(Array.isArray(e)){const s=[];return e.forEach(i=>{const n=wu[i];if(!n){re(215,{key:i,defaultByKey:wu});return}s.push(n)}),s.length===0?void 0:{toolPanels:s,defaultToolPanel:s[0].id}}return{toolPanels:p1(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}function p1(e){const t=[];return e&&e.forEach(s=>{let i=null;if(typeof s=="string"){const n=wu[s];if(!n){re(215,{key:s,defaultByKey:wu});return}i=n}else i=s;t.push(i)}),t}var f1=class extends Me{constructor(){super({tag:"div",cls:"ag-tool-panel-horizontal-resize"}),this.minWidth=100,this.maxWidth=null}postConstruct(){const e=this.beans.horizontalResizeSvc.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.inverted=this.gos.get("enableRtl")}dispatchResizeEvent(e,t,s){this.eventSvc.dispatchEvent({type:"toolPanelSizeChanged",width:s,started:e,ended:t})}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(e){return this.onResizing(e,!0)}onResizing(e,t=!1){const s=this.inverted?-1:1;let i=Math.max(this.minWidth,Math.floor(this.startingWidth-e*s));this.maxWidth!=null&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width=`${i}px`,this.dispatchResizeEvent(!1,t,i)}};function m1(e,t,s){return e.getCompDetails(t,C1,void 0,s,!0)}var C1={name:"toolPanel",optionalMethods:["refresh","getState"]},v1={tag:"div",cls:"ag-tool-panel-wrapper",role:"tabpanel"},w1=class extends Me{constructor(){super(v1)}postConstruct(){const e=this.getGui(),t=this.resizeBar=this.createManagedBean(new f1);e.setAttribute("id",`ag-${this.getCompId()}`),t.elementToResize=e,this.appendChild(t)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(e,t){const{id:s,minWidth:i,maxWidth:n,width:l}=e;this.toolPanelId=s,this.width=l;const u=m1(this.beans.userCompFactory,e,t);if(u==null)return!1;const c=u.newAgStackInstance();this.params=u.params,c.then(this.setToolPanelComponent.bind(this));const h=this.resizeBar;return i!=null&&(h.minWidth=i),n!=null&&(h.maxWidth=n),!0}setToolPanelComponent(e){this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(()=>{this.destroyBean(e)});const t=this.width;t&&(this.getGui().style.width=`${t}px`)}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(e){const t=this.gos.get("enableRtl"),s=e==="left",i=t?s:!s;this.resizeBar.inverted=i}refresh(){var e;(e=this.toolPanelCompInstance)==null||e.refresh(this.params)}},b1={tag:"div",cls:"ag-side-bar ag-unselectable",children:[{tag:"ag-side-bar-buttons",ref:"sideBarButtons"}]},y1=class extends Me{constructor(){super(b1,[g1]),this.sideBarButtons=ae,this.toolPanelWrappers=[],this.registerCSS(a1)}postConstruct(){this.sideBarButtons.addEventListener("sideBarButtonClicked",this.onToolPanelButtonClicked.bind(this));const{beans:e,gos:t}=this,{sideBar:s}=t.get("initialState")??{};this.setSideBarDef({sideBarDef:Yh(t.get("sideBar")),sideBarState:s}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),e.sideBar.comp=this;const i=this.getFocusableElement();this.createManagedBean(new Yo(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),HD(e,this,i)}onTabKeyDown(e){if(e.defaultPrevented)return;const{beans:t,sideBarButtons:s}=this,i=this.getGui(),n=s.getGui(),l=Ke(t),u=i.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),c=e.target,h=e.shiftKey;if(!u)return js(t,h)?(e.preventDefault(),!0):js(t,h,!0);if(n.contains(l)){Us(u,h)&&e.preventDefault();return}if(!h)return;let g=null;u.contains(l)?g=fs(t,u,void 0,!0):by(u,c)&&h&&(g=Kh(u,c)),g||(g=n.querySelector(".ag-selected button")),g&&g!==e.target&&(e.preventDefault(),g.focus())}handleKeyDown(e){const t=Ke(this.beans),s=this.sideBarButtons;if(!s.getGui().contains(t))return;const i=s.getGui(),n=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),l=n.findIndex(h=>h.contains(t));let u=null;switch(e.key){case W.LEFT:case W.UP:u=Math.max(0,l-1);break;case W.RIGHT:case W.DOWN:u=Math.min(l+1,n.length-1);break}if(u===null)return;const c=n[u].querySelector("button");c&&(c.focus(),e.preventDefault())}onToolPanelButtonClicked(e){const t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(t,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtons.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef({sideBarDef:e,sideBarState:t,existingToolPanelWrappers:s}){if(this.setDisplayed(!1),this.sideBar=e,e&&e.toolPanels){const i=e.toolPanels;if(this.createToolPanelsAndSideButtons(i,t,s),!this.toolPanelWrappers.length)return;const n=t?t.visible:!e.hiddenByDefault;if(this.setDisplayed(n),this.setSideBarPosition(t?t.position:e.position),n)if(t){const{openToolPanel:l}=t;l&&this.openToolPanel(l,"sideBarInitializing")}else this.openToolPanel(e.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(e){e||(e="right"),this.position=e;const t=e==="left",s=t?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",t),this.addOrRemoveCssClass("ag-side-bar-right",!t),this.toolPanelWrappers.forEach(i=>{i.setResizerSizerSide(s)}),this.dispatchSideBarUpdated(),this}setDisplayed(e,t){super.setDisplayed(e,t),this.dispatchSideBarUpdated()}getState(){const e={};return this.toolPanelWrappers.forEach(t=>{var s,i;e[t.getToolPanelId()]=(i=(s=t.getToolPanelInstance())==null?void 0:s.getState)==null?void 0:i.call(s)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}}createToolPanelsAndSideButtons(e,t,s){var i;for(const n of e)this.createToolPanelAndSideButton(n,(i=t==null?void 0:t.toolPanels)==null?void 0:i[n.id],s==null?void 0:s[n.id])}validateDef(e){var t;return e.id==null?(re(212),!1):e.toolPanel==="agFiltersToolPanel"&&(t=this.beans.filterManager)!=null&&t.isAdvFilterEnabled()?(re(213),!1):!0}createToolPanelAndSideButton(e,t,s){if(!this.validateDef(e))return;let i;if(s)i=s;else if(i=this.createBean(new w1),!i.setToolPanelDef(e,Re(this.gos,{initialState:t,onStateUpdated:()=>this.dispatchSideBarUpdated()})))return;i.setDisplayed(!1);const n=i.getGui();this.appendChild(n),this.toolPanelWrappers.push(i);const l=this.sideBarButtons.addButtonComp(e);kx(l.eToggleButton,n)}refresh(){this.toolPanelWrappers.forEach(e=>e.refresh())}openToolPanel(e,t="api"){const s=this.openedItem();if(s===e)return;this.toolPanelWrappers.forEach(l=>{const u=e===l.getToolPanelId();l.setDisplayed(u)});const i=this.openedItem();s!==i&&(this.sideBarButtons.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,s??void 0,t))}getToolPanelInstance(e){const t=this.toolPanelWrappers.filter(s=>s.getToolPanelId()===e)[0];if(!t){re(214,{key:e});return}return t.getToolPanelInstance()}raiseToolPanelVisibleEvent(e,t,s){const i=!!e&&!!t,n=this.eventSvc;t&&n.dispatchEvent({type:"toolPanelVisibleChanged",source:s,key:t,visible:!1,switchingToolPanel:i}),e&&n.dispatchEvent({type:"toolPanelVisibleChanged",source:s,key:e,visible:!0,switchingToolPanel:i})}close(e="api"){this.openToolPanel(void 0,e)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let e=null;return this.toolPanelWrappers.forEach(t=>{t.isDisplayed()&&(e=t.getToolPanelId())}),e}onSideBarUpdated(){var s;const e=Yh(this.gos.get("sideBar")),t={};e&&this.sideBar&&((s=e.toolPanels)==null||s.forEach(i=>{var g,f;const{id:n}=i;if(!n)return;const l=(g=this.sideBar.toolPanels)==null?void 0:g.find(m=>m.id===n);if(!l||i.toolPanel!==l.toolPanel)return;const u=this.toolPanelWrappers.find(m=>m.getToolPanelId()===n);if(!u)return;const c=Re(this.gos,{...i.toolPanelParams??{},onStateUpdated:()=>this.dispatchSideBarUpdated()});((f=u.getToolPanelInstance())==null?void 0:f.refresh(c))===!0&&(this.toolPanelWrappers=this.toolPanelWrappers.filter(m=>m!==u),Nn(u.getGui()),t[n]=u)})),this.clearDownUi(),this.setSideBarDef({sideBarDef:e,existingToolPanelWrappers:t})}dispatchSideBarUpdated(){this.eventSvc.dispatchEvent({type:"sideBarUpdated"})}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(e=>{Nn(e.getGui()),this.destroyBean(e)}),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}},S1={selector:"AG-SIDE-BAR",component:y1},R1=class extends j{constructor(){super(...arguments),this.beanName="sideBar"}getSelector(){return S1}},x1={moduleName:"SideBar",version:ut,beans:[R1],apiFunctions:{isSideBarVisible:QI,setSideBarVisible:JI,setSideBarPosition:e1,openToolPanel:t1,closeToolPanel:s1,getOpenedToolPanel:i1,refreshToolPanel:n1,isToolPanelShowing:o1,getToolPanelInstance:r1,getSideBar:l1},dependsOn:[Qt,Ob]},D1={tag:"div"},M1=class extends Me{constructor(){super(D1)}init(e){this.params=e,this.cssClassPrefix=this.params.cssClassPrefix??"ag-menu-option",this.addAriaAttributes(),this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addAriaAttributes(){const{checked:e,subMenu:t}=this.params,s=this.getGui();e&&Ox(s,e),t&&Vn(s,!1)}addIcon(){if(this.params.isCompact)return;const e=$e({tag:"span",ref:"eIcon",cls:`${this.getClassName("part")} ${this.getClassName("icon")}`,role:"presentation"}),{checked:t,icon:s}=this.params;t?e.appendChild(ve("check",this.beans)):s&&(yu(s)?e.appendChild(s):typeof s=="string"?e.innerHTML=s:re(227)),this.getGui().appendChild(e)}addName(){const e=$e({tag:"span",ref:"eName",cls:`${this.getClassName("part")} ${this.getClassName("text")}`,children:this.params.name||""});this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=$e({tag:"span",ref:"eShortcut",cls:`${this.getClassName("part")} ${this.getClassName("shortcut")}`,children:this.params.shortcut||""});this.getGui().appendChild(e)}addSubMenu(){const e=$e({tag:"span",ref:"ePopupPointer",cls:`${this.getClassName("part")} ${this.getClassName("popup-pointer")}`}),t=this.getGui();if(this.params.subMenu){const s=this.gos.get("enableRtl")?"subMenuOpenRtl":"subMenuOpen";e.appendChild(ve(s,this.beans))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}},E1='.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option{cursor:pointer;font-weight:500}:where(.ag-ltr) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:right}:where(.ag-rtl) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:left}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-compact-menu-option-icon,:where(.ag-ltr) .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-compact-menu-option-icon,:where(.ag-rtl) .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-compact-menu-option-shortcut,:where(.ag-ltr) .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-shortcut,:where(.ag-rtl) .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}:where(.ag-ltr) .ag-compact-menu-option-popup-pointer,:where(.ag-ltr) .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-popup-pointer,:where(.ag-rtl) .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;:where(.ag-column-select){height:100%}}.ag-menu:where(.ag-tabs){min-width:290px}.ag-context-menu-loading-icon{pointer-events:none;position:absolute}',Ry={moduleName:"MenuItem",version:ut,userComponents:{agMenuItem:M1},icons:{check:"tick",subMenuOpen:"small-right",subMenuOpenRtl:"small-left"},css:[E1]},A1=".ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{align-items:center;display:flex;flex:none;gap:var(--ag-widget-horizontal-spacing);height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding);position:relative}.ag-column-select-column,.ag-column-select-column-group{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);height:100%;position:relative;&:where(:not(:last-child)){margin-bottom:var(--ag-widget-vertical-spacing)}}:where(.ag-ltr) .ag-column-select-column,:where(.ag-ltr) .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}:where(.ag-rtl) .ag-column-select-column,:where(.ag-rtl) .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}:where(.ag-ltr) .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}:where(.ag-rtl) .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}",T1=300,F1={tag:"div",cls:"ag-column-select-header",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-column-select-header-icon"},{tag:"ag-checkbox",ref:"eSelect",cls:"ag-column-select-header-checkbox"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-column-select-header-filter-wrapper"}]},P1=class extends Me{constructor(){super(F1,[gl,EE]),this.eExpand=ae,this.eSelect=ae,this.eFilterTextField=ae}postConstruct(){this.createExpandIcons(),this.addManagedListeners(this.eExpand,{click:this.onExpandClicked.bind(this),keydown:t=>{t.key===W.SPACE&&(t.preventDefault(),this.onExpandClicked())}}),this.addManagedElementListeners(this.eSelect.getInputElement(),{click:this.onSelectClicked.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",()=>this.onFunctionsReadOnlyPropChanged()),this.eFilterTextField.setAutoComplete(!1).onValueChange(()=>this.onFilterTextChanged()),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});const e=this.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle All Columns Visibility")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}onFunctionsReadOnlyPropChanged(){const e=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)}init(e){this.params=e;const t=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(t),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",t),this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){const e=this.beans;this.eExpand.appendChild(this.eExpandChecked=ve("columnSelectOpen",e)),this.eExpand.appendChild(this.eExpandUnchecked=ve("columnSelectClosed",e)),this.eExpand.appendChild(this.eExpandIndeterminate=ve("columnSelectIndeterminate",e)),this.setExpandState(0)}showOrHideOptions(){var u;const e=this.params,t=!e.suppressColumnFilter,s=!e.suppressColumnSelectAll,i=!e.suppressColumnExpandAll,n=!!((u=this.beans.colModel.colDefCols)!=null&&u.treeDepth),l=this.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(l("searchOoo","Search...")),Pe(this.eFilterTextField.getGui(),t),Pe(this.eSelect.getGui(),s),Pe(this.eExpand,i&&n)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=Mn(this,()=>{const e=this.eFilterTextField.getValue();this.dispatchLocalEvent({type:"filterChanged",filterText:e})},T1)),this.onFilterTextChangedDebounced()}onSelectClicked(){this.dispatchLocalEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchLocalEvent({type:this.expandState===0?"collapseAll":"expandAll"})}setExpandState(e){this.expandState=e,Pe(this.eExpandChecked,e===0),Pe(this.eExpandUnchecked,e===1),Pe(this.eExpandIndeterminate,e===2)}setSelectionState(e){this.selectState=e,this.eSelect.setValue(this.selectState)}},L1={selector:"AG-PRIMARY-COLS-HEADER",component:P1};function No(e){return!!e&&typeof e.children<"u"}function Wi(e){return No(e)?e.groupId:e.colId}function xy(e,t,s){const i=(u,c)=>{const g=u.children.map(Wi).includes(Wi(c)),f=Le(u.children),m=f&&Wi(f)!==Wi(c);return g&&m};if(!No(e))return!0;const n=e,l=s;if(i(n,l)||n.groupId===t&&!n.children.map(Wi).includes(Wi(l)))return n.children.push(l),!0;for(let u=n.children.length-1;u>=0&&!xy(n.children[u],t,s);u--);return!1}function I1(e){const t=(n,l)=>No(n)&&No(l)&&Wi(n)===Wi(l),s=(n,l)=>{if(!No(l))return n;const u=n,c=l;return c.children&&c.groupId&&xy(u,c.groupId,c.children[0])||c.children.forEach(h=>s(u,h)),u},i=[];for(let n=1;n<=e.length;n++){const l=e[n-1],u=e[n];t(l,u)?e[n]=s(l,u):i.push(l)}return i}function G1(e,t){const s=[],i=(l,u)=>{if(No(l)){const c=l,h=typeof c.groupId<"u"?c.groupId:c.headerName,g=new el(c,h,!1,u),f=[];return c.children.forEach(m=>{const v=i(m,u+1);v&&f.push(v)}),g.setChildren(f),g}else{const c=l,h=c.colId?c.colId:c.field,g=e.getColDefCol(h);return g||s.push(c),g}},n=[];return t.forEach(l=>{const u=i(l,0);u&&n.push(u)}),s.length>0&&re(217,{invalidColIds:s}),n}function O1(e,t){const s=k1(e),i=I1(s);t(i)}function k1(e){const t=(n,l)=>{let u;if(mt(n))if(n.isPadding())u=l;else{const h=Object.assign({},n.getColGroupDef());h.groupId=n.getGroupId(),h.children=[l],u=h}else{const h=Object.assign({},n.getColDef());h.colId=n.getColId(),u=h}const c=n.getOriginalParent();return c?t(c,u):u};return e.getCols().filter(n=>{const l=n.getColDef();return n.isPrimary()&&!l.showRowGroup}).map(n=>t(n,n.getColDef()))}var Tv=class{constructor(e,t,s,i=!1,n){this.displayName=e,this.depth=s,this.group=i,this.localEventService=new Zi,i?(this.columnGroup=t,this._expanded=n,this.children=[]):this.column=t}get expanded(){return!!this._expanded}set expanded(e){e!==this._expanded&&(this._expanded=e,this.localEventService.dispatchEvent({type:"expandedChanged"}))}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};function Dy(e,t,s,i){const n=N1(t);My(e,n,s,i)}function My(e,t,s,i){e.colModel.isPivotMode()?H1(e,t,s,i):B1(e,t,s,i)}function N1(e){const t=[],s=i=>{i.forEach(n=>{n.passesFilter&&(n.group?s(n.children):t.push(n.column))})};return s(e),t}function B1(e,t,s,i){var l;const n=[];t.forEach(u=>{u.getColDef().lockVisible||u.isVisible()!=s&&n.push({colId:u.getId(),hide:!s})}),n.length>0&&Ds(e,{state:n},i),(l=e.selectionColSvc)==null||l.refreshVisibility(i)}function H1(e,t,s,i){z1(e,t,s,i)}function z1(e,t,s,i){const n=[],c=s?h=>{var g;if(!h.isAnyFunctionActive())if(h.isAllowValue()){const f=typeof h.getAggFunc()=="string"?h.getAggFunc():(g=e.aggFuncSvc)==null?void 0:g.getDefaultAggFunc(h);n.push({colId:h.getId(),aggFunc:f})}else h.isAllowRowGroup()?n.push({colId:h.getId(),rowGroup:!0}):h.isAllowPivot()&&n.push({colId:h.getId(),pivot:!0})}:h=>{(h.isPivotActive()||h.isRowGroupActive()||h.isValueActive())&&n.push({colId:h.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};t.forEach(c),n.length>0&&Ds(e,{state:n},i)}function Ey(e,t){const{columns:s,visibleState:i,pivotState:n,eventType:l}=t,u=s.map(c=>{const h=c.getColId();if(e.colModel.isPivotMode()){const g=n==null?void 0:n[h];return{colId:h,pivot:g==null?void 0:g.pivot,rowGroup:g==null?void 0:g.rowGroup,aggFunc:g==null?void 0:g.aggFunc}}else return{colId:h,hide:!(i!=null&&i[h])}});Ds(e,{state:u},l)}function Ay(e){return{pivot:e.isPivotActive(),rowGroup:e.isRowGroupActive(),aggFunc:e.isValueActive()?e.getAggFunc():void 0}}function Fv(e,t,s,i){const n=t.getCol(s);e.groupData||(e.groupData={});const l=n.getColId(),u=e.groupData[l];u!==i&&(e.groupData[l]=i,e.dispatchCellChangedEvent(n,i,u))}function Ty(e,t,s){var i;e.group!==s&&(e.group&&!s&&(e.expanded=!1),e.group=s,e.updateHasChildren(),(i=t.selectionSvc)==null||i.updateRowSelectable(e),e.dispatchRowEvent("groupChanged"))}function ul(e,t){const{gos:s,rowGroupColsSvc:i}=t;if(!i||!e)return!1;const n=s.get("groupLockGroupColumns");if(!e.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;const l=i.columns.findIndex(u=>u.getColId()===e.getColId());return n>l}var V1=class extends Tu{constructor(e){super(),this.setTemplateFromElement(e.getGui(),void 0,void 0,!0)}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===W.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};function _1(e,t,s){return e.getCompDetails(t,W1,"agMenuItem",s,!0)}var W1={name:"menuItem",optionalMethods:["setActive","select","setExpanded","configureDefaults"]},U1={tag:"div",cls:"ag-menu",role:"presentation"},Pv=class extends j{constructor(){super(...arguments),this.ACTIVATION_DELAY=80,this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory,this.registry=e.registry}init(e){var c;const{menuItemDef:t,isAnotherSubMenuOpen:s,level:i,childComponent:n,contextParams:l}=e;this.params=e.menuItemDef,this.level=i,this.isAnotherSubMenuOpen=s,this.childComponent=n,this.contextParams=l,this.cssClassPrefix=((c=this.params.menuItemParams)==null?void 0:c.cssClassPrefix)??"ag-menu-option";const u=_1(this.userCompFactory,this.params,Re(this.gos,{...t,level:i,isAnotherSubMenuOpen:s,openSubMenu:h=>this.openSubMenu(h),closeSubMenu:()=>this.closeSubMenu(),closeMenu:h=>this.closeMenu(h),updateTooltip:(h,g)=>this.refreshTooltip(h,g),onItemActivated:()=>this.onItemActivated()}));return(u==null?void 0:u.newAgStackInstance().then(h=>{var f;this.menuItemComp=h;const g=(f=h.configureDefaults)==null?void 0:f.call(h);g&&this.configureDefaults(g===!0?void 0:g)}))??at.resolve()}addListeners(e,t){t!=null&&t.suppressClick||this.addManagedElementListeners(e,{click:s=>this.onItemSelected(s)}),t!=null&&t.suppressKeyboardSelect||this.addManagedElementListeners(e,{keydown:s=>{(s.key===W.ENTER||s.key===W.SPACE)&&(s.preventDefault(),this.onItemSelected(s))}}),t!=null&&t.suppressMouseDown||this.addManagedElementListeners(e,{mousedown:s=>{s.stopPropagation(),s.preventDefault()}}),t!=null&&t.suppressMouseOver||this.addManagedElementListeners(e,{mouseenter:()=>this.onMouseEnter(),mouseleave:()=>this.onMouseLeave()})}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1,t){var g,f;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const s=$e(U1);this.eSubMenuGui=s;let i,n=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const m=this.createBean(new V1(this.childComponent));m.setParentComponent(this);const v=m.getGui(),w="mouseenter",b=()=>this.cancelDeactivate();v.addEventListener(w,b),i=()=>{v.removeEventListener(w,b),this.destroyBean(m)},s.appendChild(v),this.childComponent.afterGuiAttached&&(n=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const m=this.createBean(new Pu(this.level+1,this.contextParams));m.setParentComponent(this),m.addMenuItems(this.params.subMenu),s.appendChild(m.getGui()),this.addManagedListeners(m,{closeMenu:v=>this.dispatchLocalEvent(v)}),m.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),i=()=>this.destroyBean(m),e&&(n=()=>{m.activateFirstItem(),this.subMenuIsOpening=!1})}const{popupSvc:l}=this,u=()=>{const m=this.eGui,{column:v,node:w}=this.contextParams;l==null||l.positionPopupForMenu({eventSource:m,ePopup:s,event:t instanceof MouseEvent?t:void 0,column:v,node:w})},c=this.getLocaleTextFunc(),h=l==null?void 0:l.addPopup({modal:!0,eChild:s,positionCallback:u,anchorToElement:this.eGui,ariaLabel:c("ariaLabelSubMenu","SubMenu"),afterGuiAttached:n});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var m,v;h&&h.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),i(),(v=(m=this.menuItemComp).setExpanded)==null||v.call(m,!1),this.eSubMenuGui=void 0},(f=(g=this.menuItemComp).setExpanded)==null||f.call(g,!0)}setAriaExpanded(e){this.suppressAria||Vn(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e,t){var s,i;this.cancelActivate(),!(this.params.disabled&&!t)&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(i=(s=this.menuItemComp).setActive)==null||i.call(s,!0),this.suppressFocus||Su(this.beans,()=>this.eGui.focus({preventScroll:!t})),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var e,t;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(t=(e=this.menuItemComp).setActive)==null||t.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.closeSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){var t,s;(s=(t=this.menuItemComp).select)==null||s.call(t),this.params.action?this.beans.frameworkOverrides.wrapOutgoing(()=>this.params.action(Re(this.gos,{...this.contextParams}))):this.openSubMenu(e&&e.type==="keydown",e),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){const t={type:"closeMenu"};e&&(e instanceof MouseEvent?t.mouseEvent=e:t.keyboardEvent=e),this.dispatchLocalEvent(t)}onItemActivated(){const e={type:"menuItemActivated",menuItem:this};this.dispatchLocalEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),this.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),this.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){var h,g,f;if(!this.menuItemComp){setTimeout(()=>this.configureDefaults(e));return}let t=this.menuItemComp.getGui();const{suppressRootStyles:s,suppressTooltip:i,suppressAria:n,suppressTabIndex:l,suppressFocus:u}=e||{},c=(g=(h=this.menuItemComp).getRootElement)==null?void 0:g.call(h);c&&(s||t.classList.add("ag-menu-option-custom"),t=c),this.eGui=t,this.suppressRootStyles=!!s,this.suppressRootStyles||(t.classList.add(this.cssClassPrefix),(f=this.params.cssClasses)==null||f.forEach(m=>t.classList.add(m)),this.params.disabled&&t.classList.add(`${this.cssClassPrefix}-disabled`)),i||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!n,this.suppressAria||(gs(t,"menuitem"),this.params.subMenu&&Nx(t,this.params.subMenuRole??"menu"),this.params.disabled&&Mx(t,!0)),l||t.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(t,e),this.suppressFocus=!!u}refreshTooltip(e,t){if(this.tooltip=e,this.tooltipFeature=this.destroyBean(this.tooltipFeature),!e||!this.menuItemComp)return;const s=this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:t});s&&(this.tooltipFeature=this.createBean(s))}destroy(){var e,t;this.tooltipFeature=this.destroyBean(this.tooltipFeature),(t=(e=this.menuItemComp)==null?void 0:e.destroy)==null||t.call(e),super.destroy()}},Pu=class extends Tu{constructor(e=0,t){super({tag:"div",cls:"ag-menu-list",role:"menu"}),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>Su(this.beans,()=>this.handleKeyDown(e)),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){var i;const t=this.getParentComponent();((i=t==null?void 0:t.getGui())==null?void 0:i.classList.contains("ag-focus-managed"))||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case W.UP:case W.RIGHT:case W.DOWN:case W.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case W.ESCAPE:this.closeIfIsChild()&&_s(e);break}}handleFocusIn(e){var s,i;const t=e.relatedTarget;!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(t)&&(this.getGui().contains(t)||(i=(s=this.activeMenuItem)==null?void 0:s.getSubMenuGui())!=null&&i.contains(t))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var s;const t=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(t)||(s=this.activeMenuItem.getSubMenuGui())!=null&&s.contains(t)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&at.all(e.map(t=>t==="separator"?at.resolve({eGui:this.createSeparator()}):typeof t=="string"?(re(228,{menuItemOrString:t}),at.resolve({eGui:null})):this.addItem(t))).then(t=>{(t??[]).forEach(s=>{s!=null&&s.eGui&&(this.appendChild(s.eGui),s.comp&&this.menuItems.push(s.comp))})})}addItem(e){const t=this.createManagedBean(new Pv);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(s=>s.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListeners(t,{closeMenu:s=>{this.dispatchLocalEvent(s)},menuItemActivated:s=>{this.activeMenuItem&&this.activeMenuItem!==s.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=s.menuItem}}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}createSeparator(){const e={tag:"div",cls:"ag-menu-separator-part"};return $e({tag:"div",cls:"ag-menu-separator",attrs:{"aria-hidden":"true"},children:[e,e,e,e]})}handleNavKey(e){switch(e){case W.UP:case W.DOWN:{const s=this.findNextItem(e===W.UP);s&&s!==this.activeMenuItem&&s.activate(!1,!0);return}}const t=this.gos.get("enableRtl")?W.RIGHT:W.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return t&&t instanceof Pv?(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=[...this.menuItems];if(!t.length)return;if(!this.activeMenuItem)return e?Le(t):t[0];e&&t.reverse();let s,i=!1;for(const n of t){if(!i){n===this.activeMenuItem&&(i=!0);continue}s=n;break}return i&&!s?t[0]:s||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}},Fy=class extends Me{constructor(e,t,s){super({tag:"div",cls:"ag-menu"}),this.column=e,this.mouseEvent=t,this.parentEl=s,this.displayName=null}postConstruct(){const{column:e,beans:{colNames:t}}=this;this.initializeProperties(e);let s;if(Ws(e)?s=t.getDisplayNameForColumn(e,"columnToolPanel"):s=t.getDisplayNameForProvidedColumnGroup(null,e,"columnToolPanel"),this.displayName=s,this.buildMenuItemMap(),this.isActive()){this.mouseEvent.preventDefault();const i=this.getMappedMenuItems();if(i.length===0)return;this.displayContextMenu(i)}}initializeProperties(e){let t;mt(e)?t=e.getLeafColumns():t=[e],this.columns=t,this.allowGrouping=t.some(s=>s.isPrimary()&&s.isAllowRowGroup()),this.allowValues=t.some(s=>s.isPrimary()&&s.isAllowValue()),this.allowPivoting=this.beans.colModel.isPivotMode()&&t.some(s=>s.isPrimary()&&s.isAllowPivot())}buildMenuItemMap(){const e=this.getLocaleTextFunc(),{beans:t,displayName:s}=this,{rowGroupColsSvc:i,valueColsSvc:n,pivotColsSvc:l,colModel:u}=t,c=new Map;this.menuItemMap=c,c.set("rowGroup",{allowedFunction:h=>h.isPrimary()&&h.isAllowRowGroup()&&!ul(h,t),activeFunction:h=>h.isRowGroupActive(),activateLabel:()=>`${e("groupBy","Group by")} ${s}`,deactivateLabel:()=>`${e("ungroupBy","Un-Group by")} ${s}`,activateFunction:()=>i==null?void 0:i.setColumns(this.addColumnsToList(i.columns),"toolPanelUi"),deActivateFunction:()=>i==null?void 0:i.setColumns(this.removeColumnsFromList(i.columns),"toolPanelUi"),addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),c.set("value",{allowedFunction:h=>h.isPrimary()&&h.isAllowValue(),activeFunction:h=>h.isValueActive(),activateLabel:()=>e("addToValues",`Add ${s} to values`,[s]),deactivateLabel:()=>e("removeFromValues",`Remove ${s} from values`,[s]),activateFunction:()=>n==null?void 0:n.setColumns(this.addColumnsToList(n.columns),"toolPanelUi"),deActivateFunction:()=>n==null?void 0:n.setColumns(this.removeColumnsFromList(n.columns),"toolPanelUi"),addIcon:"valuePanel",removeIcon:"valuePanel"}),c.set("pivot",{allowedFunction:h=>u.isPivotMode()&&h.isPrimary()&&h.isAllowPivot(),activeFunction:h=>h.isPivotActive(),activateLabel:()=>e("addToLabels",`Add ${s} to labels`,[s]),deactivateLabel:()=>e("removeFromLabels",`Remove ${s} from labels`,[s]),activateFunction:()=>l==null?void 0:l.setColumns(this.addColumnsToList(l.columns),"toolPanelUi"),deActivateFunction:()=>l==null?void 0:l.setColumns(this.removeColumnsFromList(l.columns),"toolPanelUi"),addIcon:"pivotPanel",removeIcon:"pivotPanel"})}addColumnsToList(e){return[...e].concat(this.columns.filter(t=>e.indexOf(t)===-1))}removeColumnsFromList(e){return e.filter(t=>this.columns.indexOf(t)===-1)}displayContextMenu(e){const t=this.getGui(),s=this.createBean(new Pu),i=this.getLocaleTextFunc();let n=()=>{};t.appendChild(s.getGui()),s.addMenuItems(e),s.addManagedListeners(s,{closeMenu:()=>{this.parentEl.focus(),n()}});const l=this.beans.popupSvc,u=l.addPopup({modal:!0,eChild:t,closeOnEsc:!0,afterGuiAttached:()=>Us(s.getGui()),ariaLabel:i("ariaLabelContextMenu","Context Menu"),closedCallback:c=>{c instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(s)}});u&&(n=u.hideFunc),l.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:t})}isActive(){return this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){const e=[],{menuItemMap:t,columns:s,displayName:i,beans:n}=this;for(const l of t.values()){const u=s.some(h=>l.allowedFunction(h)&&!l.activeFunction(h)),c=s.some(h=>l.allowedFunction(h)&&l.activeFunction(h));u&&e.push({name:l.activateLabel(i),icon:ve(l.addIcon,n,null),action:()=>l.activateFunction()}),c&&e.push({name:l.deactivateLabel(i),icon:ve(l.removeIcon,n,null),action:()=>l.deActivateFunction()})}return e}},j1={tag:"div",cls:"ag-column-select-column-group",children:[{tag:"span",ref:"eColumnGroupIcons",cls:"ag-column-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-column-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-column-group-opened-icon"}]},{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},Py=class extends Me{constructor(e,t,s,i){super(),this.modelItem=e,this.allowDragging=t,this.eventType=s,this.focusWrapper=i,this.cbSelect=ae,this.eLabel=ae,this.eGroupOpenedIcon=ae,this.eGroupClosedIcon=ae,this.eColumnGroupIcons=ae,this.processingColumnStateChange=!1;const{columnGroup:n,depth:l,displayName:u}=e;this.columnGroup=n,this.columnDepth=l,this.displayName=u}postConstruct(){this.setTemplate(j1,[gl]);const{beans:e,cbSelect:t,eLabel:s,displayName:i,columnDepth:n,modelItem:l,focusWrapper:u,columnGroup:c}=this,{registry:h,gos:g}=e,f=ve("columnDrag",e);this.eDragHandle=f,f.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");const m=t.getGui(),v=t.getInputElement();m.insertAdjacentElement("afterend",f),v.setAttribute("tabindex","-1"),s.innerHTML=i??"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+n),this.getGui().style.setProperty("--ag-indentation-level",String(n)),this.tooltipFeature=this.createOptionalManagedBean(h.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumnGroup",shouldDisplayTooltip:Ab(g,()=>s)})),this.addManagedEventListeners({columnPivotModeChanged:this.onColumnStateChanged.bind(this)}),this.addManagedElementListeners(s,{click:this.onLabelClicked.bind(this)}),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedListeners(l,{expandedChanged:this.onExpandChanged.bind(this)}),this.addManagedListeners(u,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),eb(c.getColGroupDef(),g,null,c).forEach(b=>this.addOrRemoveCssClass(b,!0))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){const e=this.columnGroup.getColGroupDef();if(!e)return;const t=()=>{var s;return(s=this.tooltipFeature)==null?void 0:s.setTooltipAndRefresh(e.headerTooltip)};t(),this.addManagedEventListeners({newColumnsLoaded:t})}handleKeyDown(e){switch(e.key){case W.LEFT:e.preventDefault(),this.modelItem.expanded=!1;break;case W.RIGHT:e.preventDefault(),this.modelItem.expanded=!0;break;case W.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}}onContextMenu(e){const{columnGroup:t,gos:s}=this;if(s.get("functionsReadOnly"))return;const i=this.createBean(new Fy(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}addVisibilityListenersToAllChildren(){const e=this.onColumnStateChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{this.addManagedListeners(t,{visibleChanged:e,columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e})})}setupDragging(){if(!this.allowDragging){Pe(this.eDragHandle,!1);return}const e=this.beans,{gos:t,eventSvc:s,dragAndDrop:i}=e;let n=!t.get("suppressDragLeaveHidesColumns");const l={type:zn.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>n?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{n=!t.get("suppressDragLeaveHidesColumns"),s.dispatchEvent({type:"columnPanelItemDragStart",column:this.columnGroup})},onDragStopped:()=>{s.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:u=>{n&&Ey(e,{columns:this.columnGroup.getLeafColumns(),visibleState:u==null?void 0:u.visibleState,pivotState:u==null?void 0:u.pivotState,eventType:this.eventType})},onGridExit:()=>{n&&this.onChangeCommon(!1)}};i.addDragSource(l,!0),this.addDestroyFunc(()=>i.removeDragSource(l))}createDragItem(){const e=this.columnGroup.getLeafColumns(),t={},s={};return e.forEach(i=>{const n=i.getId();t[n]=i.isVisible(),s[n]=Ay(i)}),{columns:e,visibleState:t,pivotState:s}}setupExpandContract(){const{beans:e,eGroupClosedIcon:t,eGroupOpenedIcon:s,eColumnGroupIcons:i}=this;t.appendChild(Hh("columnSelectClosed",e,null)),s.appendChild(Hh("columnSelectOpen",e,null));const n=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(t,{click:n}),this.addManagedElementListeners(s,{click:n});const l=new xn(i,!0);this.addManagedListeners(l,{tap:n}),this.addDestroyFunc(l.destroy.bind(l))}onLabelClicked(){const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}getVisibleLeafColumns(){const e=[],t=s=>{s.forEach(i=>{i.passesFilter&&(i.group?t(i.children):e.push(i.column))})};return t(this.modelItem.children),e}onChangeCommon(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&Dy(this.beans,this.modelItem.children,e,this.eventType)}refreshAriaLabel(){const{cbSelect:e,focusWrapper:t,displayName:s}=this,i=this.getLocaleTextFunc(),n=i("ariaColumnGroup","Column Group"),l=e.getValue(),u=l===void 0?i("ariaIndeterminate","indeterminate"):l?i("ariaVisible","visible"):i("ariaHidden","hidden"),c=i("ariaToggleVisibility","Press SPACE to toggle visibility");Xt(t,`${s} ${n}`),e.setInputAriaLabel(`${c} (${u})`),Xv(t,e.getInputElement().id)}onColumnStateChanged(){const e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0;const s=this.cbSelect;s.setValue(e),s.setReadOnly(t),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1}workOutSelectedValue(){const e=this.beans.colModel.isPivotMode(),t=this.getVisibleLeafColumns();let s=0,i=0;if(t.forEach(n=>{!e&&n.getColDef().lockVisible||(this.isColumnChecked(n,e)?s++:i++)}),!(s>0&&i>0))return s>0}workOutReadOnlyValue(){const e=this.beans.colModel.isPivotMode();let t=0;return this.columnGroup.getLeafColumns().forEach(s=>{e?s.isAnyFunctionAllowed()&&t++:s.getColDef().lockVisible||t++}),t===0}isColumnChecked(e,t){if(t){const s=e.isPivotActive(),i=e.isRowGroupActive(),n=e.isValueActive();return s||i||n}return e.isVisible()}onExpandOrContractClicked(){const e=this.modelItem,t=e.expanded;e.expanded=!t}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){const e=this.modelItem.expanded;Pe(this.eGroupClosedIcon,!e),Pe(this.eGroupOpenedIcon,e)}refreshAriaExpanded(){Vn(this.focusWrapper,this.modelItem.expanded)}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect,s=t.getValue();!t.isReadOnly()&&(e&&!s||!e&&s)&&t.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(e){this.cbSelect.setValue(e,!0)}},bh=e=>mt(e)?e.getLeafColumns():e?[e]:[],K1=(e,t,s,i)=>{if(!s||!t)return null;const n=e.colModel.getCols(),l=n.indexOf(s),u=i?l:l+1,c=Y1(n,t,u);return u-c},Y1=(e,t,s)=>{if(!t)return 0;const i=t[0],n=t.length;return e.indexOf(i)<s?n:0},Lv=(e,t,s)=>e.get("suppressMovableColumns")||t.colModel.isPivotMode()?!0:!!s.find(({colDef:l})=>!!l.suppressMovable||!!l.lockPosition),Iv=(e,t,s)=>{var c;if(!s)return;const{component:i}=s;let n=null,l=s.position==="top";if(i instanceof Py?(n=i.getColumns()[0],l=!0):i&&(n=i.column),!n)return;const u=K1(e,t,n,l);u!=null&&((c=e.colMoves)==null||c.moveColumns(t,u,"toolPanelUi"))},q1=e=>e.column,$1={tag:"div",cls:"ag-column-select-column",children:[{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},Z1=class extends Me{constructor(e,t,s,i){super(),this.modelItem=e,this.allowDragging=t,this.groupsExist=s,this.focusWrapper=i,this.eLabel=ae,this.cbSelect=ae,this.processingColumnStateChange=!1;const{column:n,depth:l,displayName:u}=e;this.column=n,this.columnDepth=l,this.displayName=u}postConstruct(){this.setTemplate($1,[gl]);const{beans:e,cbSelect:t,displayName:s,eLabel:i,columnDepth:n,groupsExist:l,column:u,gos:c,focusWrapper:h}=this,g=ve("columnDrag",e);this.eDragHandle=g,g.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");const f=t.getGui(),m=t.getInputElement();f.insertAdjacentElement("afterend",g),m.setAttribute("tabindex","-1");const v=ps(s);i.innerHTML=v,l&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass(`ag-column-select-indent-${n}`),this.getGui().style.setProperty("--ag-indentation-level",String(n)),this.tooltipFeature=this.createOptionalManagedBean(e.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumn",getColDef:()=>u.getColDef(),shouldDisplayTooltip:Ab(c,()=>i)})),this.setupDragging();const w=this.onColumnStateChanged.bind(this);this.addManagedEventListeners({columnPivotModeChanged:w}),this.addManagedListeners(u,{columnValueChanged:w,columnPivotChanged:w,columnRowGroupChanged:w,visibleChanged:w}),this.addManagedListeners(h,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedElementListeners(i,{click:this.onLabelClicked.bind(this)}),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),eb(u.getColDef(),c,u,null).forEach(R=>this.addOrRemoveCssClass(R,!0))}getColumn(){return this.column}setupTooltip(){const e=()=>{var t;return(t=this.tooltipFeature)==null?void 0:t.setTooltipAndRefresh(this.column.getColDef().headerTooltip)};e(),this.addManagedEventListeners({newColumnsLoaded:e})}onContextMenu(e){const{column:t,gos:s}=this;if(s.get("functionsReadOnly"))return;const i=this.createBean(new Fy(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}handleKeyDown(e){e.key===W.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gos.get("functionsReadOnly"))return;const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}onChangeCommon(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&My(this.beans,[this.column],e,"toolPanelUi"))}refreshAriaLabel(){const{cbSelect:e,focusWrapper:t,displayName:s}=this,i=this.getLocaleTextFunc(),n=i("ariaColumn","Column"),l=e.getValue()?i("ariaVisible","visible"):i("ariaHidden","hidden"),u=i("ariaToggleVisibility","Press SPACE to toggle visibility");Xt(t,`${s} ${n}`),this.cbSelect.setInputAriaLabel(`${u} (${l})`),Xv(t,e.getInputElement().id)}setupDragging(){const e=this.eDragHandle;if(!this.allowDragging){Pe(e,!1);return}const t=this.beans,{gos:s,eventSvc:i,dragAndDrop:n}=t;let l=!s.get("suppressDragLeaveHidesColumns");const u={type:zn.ToolPanel,eElement:e,dragItemName:this.displayName,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{l=!s.get("suppressDragLeaveHidesColumns"),i.dispatchEvent({type:"columnPanelItemDragStart",column:this.column})},onDragStopped:()=>{i.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:c=>{l&&Ey(t,{columns:[this.column],visibleState:c==null?void 0:c.visibleState,pivotState:c==null?void 0:c.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{l&&this.onChangeCommon(!1)}};n.addDragSource(u,!0),this.addDestroyFunc(()=>n.removeDragSource(u))}createDragItem(){const e=this.column.getColId(),t={[e]:this.column.isVisible()},s={[e]:Ay(this.column)};return{columns:[this.column],visibleState:t,pivotState:s}}onColumnStateChanged(){this.processingColumnStateChange=!0;const e=this.beans.colModel.isPivotMode();if(e){const i=this.column.isAnyFunctionActive();this.cbSelect.setValue(i)}else this.cbSelect.setValue(this.column.isVisible());let t=!0,s=!0;if(e){const i=this.gos.get("functionsReadOnly"),n=!this.column.isAnyFunctionAllowed();t=!i&&!n,s=t}else{const{enableRowGroup:i,enableValue:n,lockPosition:l,suppressMovable:u,lockVisible:c}=this.column.getColDef(),h=!!i||!!n,g=!!l||!!u;t=!c,s=h||!g}this.cbSelect.setReadOnly(!t),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!t),this.cbSelect.setPassive(!1),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect;e!==t.getValue()&&(t.isReadOnly()||t.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(e){re(158)}},X1=class{constructor(e){this.items=e}getRowCount(){return this.items.length}getRow(e){return this.items[e]}},Q1="ag-column-select-list",J1=class extends Me{constructor(){super({tag:"div",cls:Q1,role:"presentation"}),this.destroyColumnItemFuncs=[],this.hasLoadedInitialState=!1,this.isInitialState=!1,this.skipRefocus=!1}wireBeans(e){this.colModel=e.colModel}destroy(){this.destroyColumnTree(),super.destroy()}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(e=>e()),this.destroyColumnItemFuncs=[]}init(e,t,s){this.params=e;const{suppressSyncLayoutWithGrid:i,contractColumnSelection:n,suppressColumnMove:l}=e;this.allowDragging=t,this.eventType=s,i||this.addManagedEventListeners({columnMoved:this.onColumnsChanged.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.onColumnsChanged.bind(this)});const u=this.fireSelectionChangedEvent.bind(this);this.addManagedEventListeners({columnPivotChanged:u,columnPivotModeChanged:u,columnRowGroupChanged:u,columnValueChanged:u,columnVisible:u,newColumnsLoaded:u}),this.expandGroupsByDefault=!n;const c=l||i,h=this.createManagedBean(new wy({cssIdentifier:"column-select",ariaRole:"tree",moveItemCallback:(g,f)=>{c||this.moveItems(g,f)}}));this.virtualList=h,this.appendChild(h.getGui()),h.setComponentCreator((g,f)=>(Dx(f,g.depth+1),this.createComponentFromItem(g,f))),this.colModel.ready&&this.onColumnsChanged(),!c&&this.createItemDragFeature()}createItemDragFeature(){const{gos:e,beans:t,eventSvc:s,virtualList:i}=this;this.createManagedBean(new XI(this,i,{dragSourceType:zn.ToolPanel,listItemDragStartEvent:"columnPanelItemDragStart",listItemDragEndEvent:"columnPanelItemDragEnd",eventSource:s,getCurrentDragValue:n=>q1(n),isMoveBlocked:n=>Lv(e,t,bh(n)),getNumRows:n=>n.getDisplayedColsList().length,moveItem:(n,l)=>Iv(t,bh(n),l)}))}moveItems(e,t){var b;const{gos:s,beans:i}=this,{modelItem:n}=e,{group:l,columnGroup:u,column:c,expanded:h}=n,g=bh(l?u:c);if(Lv(s,i,g))return;const f=this.displayedColsList.indexOf(n),m=t?-1:1;let v=0;if(t){const R=e.columnDepth>0&&((b=c.getParent())==null?void 0:b.getChildren());R&&R.length&&c===R[0]&&(v=-1)}else l&&(v=h?n.children.length:0);const w=Math.min(Math.max(f+v+m,0),this.displayedColsList.length-1);this.skipRefocus=!0,Iv(i,g,{position:t?"top":"bottom",component:this.virtualList.getComponentAt(w)}),this.focusRowIfAlive(w-v).then(()=>{this.skipRefocus=!1})}createComponentFromItem(e,t){const s=this.allowDragging;if(e.group){const n=new Py(e,s,this.eventType,t);return this.createBean(n),n}const i=new Z1(e,s,this.groupsExist,t);return this.createBean(i),i}onColumnsChanged(){const e=this.params;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!e.initialState);const t=this.getExpandedStates(),s=this.colModel.isPivotMode();!e.suppressSyncLayoutWithGrid&&!s?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){const e={};if(this.isInitialState){const{expandedGroupIds:t}=this.params.initialState;return t.forEach(s=>{e[s]=!0}),e}return this.allColsTree?(this.forEachItem(t=>{if(!t.group)return;const s=t.columnGroup;s&&(e[s.getId()]=t.expanded)}),e):{}}setExpandedStates(e){if(!this.allColsTree)return;const{isInitialState:t}=this;this.forEachItem(s=>{if(!s.group)return;const i=s.columnGroup;if(i){const n=e[i.getId()];(n!=null||t)&&(s.expanded=!!n)}})}buildTreeFromWhatGridIsDisplaying(){O1(this.colModel,this.setColumnLayout.bind(this))}setColumnLayout(e){const t=G1(this.colModel,e);this.buildListModel(t),this.groupsExist=e.some(s=>s&&typeof s.children<"u"),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){var t;const e=this.colModel;this.buildListModel(e.getColDefColTree()),this.groupsExist=!!((t=e.colDefCols)!=null&&t.treeDepth)}buildListModel(e){const t=this.onColumnExpanded.bind(this),s=c=>{c.addEventListener("expandedChanged",t);const h=c.removeEventListener.bind(c,"expandedChanged",t);this.destroyColumnItemFuncs.push(h)},i=this.beans.colNames,n=(c,h,g)=>{c.forEach(f=>{mt(f)?l(f,h,g):u(f,h,g)})},l=(c,h,g)=>{const f=c.getColGroupDef();if(f&&f.suppressColumnsToolPanel)return;if(c.isPadding()){n(c.getChildren(),h,g);return}const v=i.getDisplayNameForProvidedColumnGroup(null,c,"columnToolPanel"),w=new Tv(v,c,h,!0,this.expandGroupsByDefault);g.push(w),s(w),n(c.getChildren(),h+1,w.children)},u=(c,h,g)=>{if(c.getColDef()&&c.getColDef().suppressColumnsToolPanel)return;const m=i.getDisplayNameForColumn(c,"columnToolPanel");g.push(new Tv(m,c,h))};this.destroyColumnTree(),n(e,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];const e=i=>{i.passesFilter&&(this.displayedColsList.push(i),i.group&&i.expanded&&i.children.forEach(e))},t=this.virtualList;this.allColsTree.forEach(e),t.setModel(new X1(this.displayedColsList));let s=null;this.skipRefocus||(s=t.getLastFocusedRow()),t.refresh(),s!=null&&this.focusRowIfAlive(s),this.notifyListeners(),this.refreshAriaLabel()}refreshAriaLabel(){const e=this.getLocaleTextFunc(),t=e("ariaColumnPanelList","Column List"),s=e("columns","Columns"),i=this.displayedColsList.length;Xt(this.virtualList.getAriaElement(),`${t} ${i} ${s}`)}focusRowIfAlive(e){return e===-1?Promise.resolve():new Promise(t=>{window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(e),t()},0)})}forEachItem(e){const t=i=>{i.forEach(n=>{e(n),n.group&&t(n.children)})},s=this.allColsTree;s&&t(s)}doSetExpandedAll(e){this.forEachItem(t=>{t.group&&(t.expanded=e)})}setGroupsExpanded(e,t){if(!t){this.doSetExpandedAll(e);return}const s=[];this.forEachItem(n=>{if(!n.group)return;const l=n.columnGroup.getId();t.indexOf(l)>=0&&(n.expanded=e,s.push(l))});const i=t.filter(n=>!s.includes(n));i.length>0&&re(157,{unrecognisedGroupIds:i})}getExpandState(){let e=0,t=0;return this.forEachItem(s=>{s.group&&(s.expanded?e++:t++)}),e>0&&t>0?2:t>0?1:0}doSetSelectedAll(e){Dy(this.beans,this.allColsTree,e,this.eventType)}getSelectionState(){let e=0,t=0;const s=this.colModel.isPivotMode();if(this.forEachItem(i=>{if(i.group||!i.passesFilter)return;const n=i.column,l=n.getColDef();let u;if(s){if(!n.isAllowPivot()&&!n.isAllowRowGroup()&&!n.isAllowValue())return;u=n.isValueActive()||n.isPivotActive()||n.isRowGroupActive()}else{if(l.lockVisible)return;u=n.isVisible()}u?e++:t++}),!(e>0&&t>0))return!(e===0||t>0)}setFilterText(e){this.filterText=ge(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){const e=s=>{if(!ge(this.filterText))return!0;const i=s.displayName;return i==null||i.toLowerCase().indexOf(this.filterText)!==-1},t=(s,i)=>{let n=!1;if(s.group){const u=e(s);s.children.forEach(c=>{const h=t(c,u||i);h&&(n=h)})}const l=i||n?!0:e(s);return s.passesFilter=l,l};this.allColsTree.forEach(s=>t(s,!1))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){const e=this.getExpandState();this.dispatchLocalEvent({type:"groupExpanded",state:e})}fireSelectionChangedEvent(){if(!this.allColsTree)return;const e=this.getSelectionState();this.dispatchLocalEvent({type:"selectionChanged",state:e})}getExpandedGroups(){const e=[];return this.allColsTree&&this.forEachItem(t=>{t.group&&t.expanded&&e.push(t.columnGroup.getId())}),e}},eG={selector:"AG-PRIMARY-COLS-LIST",component:J1},tG={tag:"div",cls:"ag-column-select",children:[{tag:"ag-primary-cols-header",ref:"primaryColsHeaderPanel"},{tag:"ag-primary-cols-list",ref:"primaryColsListPanel"}]},Ly=class extends Me{constructor(){super(tG,[L1,eG]),this.primaryColsHeaderPanel=ae,this.primaryColsListPanel=ae,this.registerCSS(A1)}init(e,t,s){const{primaryColsHeaderPanel:i,primaryColsListPanel:n}=this;i.init(t);const l=t.suppressColumnFilter,u=t.suppressColumnSelectAll;t.suppressColumnExpandAll&&l&&u&&i.setDisplayed(!1),this.addManagedListeners(n,{groupExpanded:h=>{i.setExpandState(h.state),t.onStateUpdated()},selectionChanged:h=>i.setSelectionState(h.state)}),n.init(t,e,s),this.addManagedListeners(i,{expandAll:n.doSetExpandedAll.bind(n,!0),collapseAll:n.doSetExpandedAll.bind(n,!1),selectAll:n.doSetSelectedAll.bind(n,!0),unselectAll:n.doSetSelectedAll.bind(n,!1),filterChanged:h=>n.setFilterText(h.filterText)}),this.positionableFeature=this.createManagedBean(new vg(this.getGui(),{minHeight:100}))}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)}expandGroups(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)}collapseGroups(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)}setColumnLayout(e){this.primaryColsListPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}getExpandedGroups(){return this.primaryColsListPanel.getExpandedGroups()}},sG=".ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}:where(.ag-ltr) .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border)}.ag-column-panel-column-select:where(:nth-child(n+2 of :not(.ag-hidden))){border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}",iG=class extends Me{constructor(){super({tag:"div",cls:"ag-column-panel"}),this.initialised=!1,this.childDestroyFuncs=[],this.registerCSS(sG)}wireBeans(e){this.colToolPanelFactory=e.colToolPanelFactory}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}init(e){const s={...Re(this.gos,{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1}),...e};this.params=s;const{childDestroyFuncs:i,colToolPanelFactory:n,gos:l}=this,u=l.isModuleRegistered("SharedPivot"),c=u||l.isModuleRegistered("SharedRowGrouping");!s.suppressPivotMode&&n&&u&&(this.pivotModePanel=n.createPivotModePanel(this,i));const h=this.createBean(new Ly);if(this.primaryColsPanel=h,i.push(()=>this.destroyBean(this.primaryColsPanel)),h.init(!0,s,"toolPanelUi"),h.addCssClass("ag-column-panel-column-select"),this.appendChild(h),n){!s.suppressRowGroups&&c&&(this.rowGroupDropZonePanel=n.createRowGroupPanel(this,i)),!s.suppressValues&&c&&(this.valuesDropZonePanel=n.createValuesPanel(this,i)),!s.suppressPivots&&u&&(this.pivotDropZonePanel=n.createPivotPanel(this,i)),this.setLastVisible();const[g]=this.addManagedEventListeners({columnPivotModeChanged:()=>{this.resetChildrenHeight(),this.setLastVisible()}});i.push(()=>g())}this.initialised=!0}setPivotModeSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.pivotModePanel=t.setPanelVisible(this.pivotModePanel,e,t.createPivotModePanel.bind(t,this,this.childDestroyFuncs,!0)),this.setLastVisible())}setRowGroupsSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.rowGroupDropZonePanel=t.setPanelVisible(this.rowGroupDropZonePanel,e,t.createRowGroupPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setValuesSectionVisible(e){const t=this.colToolPanelFactory;t&&(this.valuesDropZonePanel=t.setPanelVisible(this.valuesDropZonePanel,e,t.createValuesPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setPivotSectionVisible(e){var s;const t=this.colToolPanelFactory;t&&(this.pivotDropZonePanel=t.setPanelVisible(this.pivotDropZonePanel,e,t.createPivotPanel.bind(t,this,this.childDestroyFuncs)),(s=this.pivotDropZonePanel)==null||s.setDisplayed(e),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(e=>{if(!e)return;const t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))})}setLastVisible(){const e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(n=>n.classList.remove("ag-last-column-drop"));const s=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),i=Le(s);i&&i.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){const t=this.getGui().children;for(let s=0;s<t.length;s++){const{style:i}=t[s];i.removeProperty("height"),i.removeProperty("flex")}}expandColumnGroups(e){this.primaryColsPanel.expandGroups(e)}collapseColumnGroups(e){this.primaryColsPanel.collapseGroups(e)}setColumnLayout(e){this.primaryColsPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){const e=this.childDestroyFuncs;e.forEach(t=>t()),e.length=0,ms(this.getGui())}refresh(e){return this.destroyChildren(),this.init(e),!0}getState(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}}destroy(){this.destroyChildren(),super.destroy()}},nG=".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:1px solid var(--ag-border-color)}";function Gv(e,t,s){e==null||t==null||e.splice(s,0,...t)}var oG={tag:"div",cls:"ag-unselectable",role:"presentation"},rG=class extends Me{constructor(e){super(oG),this.horizontal=e,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=$e({tag:"div"}),this.addElementClasses(this.ePillDropList,"list"),this.registerCSS(nG)}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){const{dropZoneTarget:t,dragSource:s}=e;return t.contains(s.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,ms(this.getGui()),ms(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new Yo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new vg(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),Xt(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(e){const t=$i(this.getFocusableElement(),null,!0),s=t.length;if(s===0)return;const{shiftKey:i}=e,n=Ke(this.beans),l=n===t[0],u=n===Le(t);s===1||l&&i||u&&!i||t[i?0:s-1].focus()}onKeyDown(e){const{key:t}=e,s=!this.horizontal;let i=t===W.DOWN,n=t===W.UP;if(!s){const l=this.gos.get("enableRtl");i=!l&&t===W.RIGHT||l&&t===W.LEFT,n=!l&&t===W.LEFT||l&&t===W.RIGHT}if(!(!i&&!n))if(e.preventDefault(),e.shiftKey)this.moveFocusedItem(n);else{const l=fs(this.beans,this.getFocusableElement(),!1,n);l&&l.focus()}}moveFocusedItem(e){const t=this.getFocusedItem();if(t===-1)return;const s=e?-1:1;if(!this.normalizeAndUpdateInsertIndex(t,t+s))return;const n=this.childPillComponents[t];if(!n.isMovable())return;const l=n.getItem();this.focusItemAtIndex(this.insertIndex),this.rearrangeItems([l],!0)}addElementClasses(e,t){t=t?`-${t}`:"";const s=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${s}${t}`)}setupDropTarget(){var e;this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},(e=this.beans.dragAndDrop)==null||e.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){const t=this.getNewInsertIndex(e);return t<0?!1:this.normalizeAndUpdateInsertIndex(this.insertIndex,t)}normalizeAndUpdateInsertIndex(e,t){const s=this.minimumAllowedNewInsertIndex(),i=Math.max(s,t),n=i!==e;return n&&(this.insertIndex=i),n}getNewInsertIndex(e){const t=e.event,s=this.horizontal?t.clientX:t.clientY,i=this.childPillComponents.map(l=>l.getGui().getBoundingClientRect()),n=i.findIndex(l=>this.horizontal?l.right>s&&l.left<s:l.top<s&&l.bottom>s);if(n===-1){const l=this.gos.get("enableRtl");return i.every(h=>s>(this.horizontal?h.right:h.bottom))?l&&this.horizontal?0:this.childPillComponents.length:i.every(h=>s<(this.horizontal?h.left:h.top))?l&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=n?n+1:n}checkDragStartedBySelf(e){this.state==="notDragging"&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){const t=this.getItems(e.dragSource.getDragItem());this.state="newItemsIn";const s=t.filter(n=>this.isItemDroppable(n,e)),i=s.every(n=>this.childPillComponents.map(l=>l.getItem()).indexOf(n)!==-1);if(s.length!==0){if(this.potentialDndItems=s,i){this.state="notDragging";return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){var e;return!!((e=this.potentialDndItems)!=null&&e.length)}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state==="rearrangeItems"){const t=this.getItems(e.dragSource.getDragItem());this.removeItems(t)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(e){this.isPotentialDndItems()&&(this.state==="newItemsIn"&&this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&(this.state==="newItemsIn"?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(e){const t=this.getExistingItems().filter(s=>!e.includes(s));this.updateItems(t)}addItems(e){if(!e)return;const t=this.getExistingItems().slice(),s=e.filter(i=>t.indexOf(i)<0);Gv(t,s,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e,t){let s;return t?s=this.getExistingItems().filter(i=>e.indexOf(i)===-1):s=this.getNonGhostItems().slice(),Gv(s,e,this.insertIndex),_n(s,this.getExistingItems())?!1:(this.updateItems(s),!0)}refreshGui(){let e=0;this.horizontal||(e=this.ePillDropList.scrollTop);const t=this.resizeEnabled,s=this.getFocusedItem(),{eGridDiv:i}=this.beans,n=Eu();let l=null;n&&(l=fs(this.beans,i)??fs(this.beans,i,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),e!==0&&(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),n&&this.restoreFocus(s,l)}getFocusedItem(){const e=this.getGui(),t=Ke(this.beans);return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}focusItemAtIndex(e){const t=this.getGui(),i=Array.from(t.querySelectorAll(".ag-column-drop-cell"))[e];i&&i.focus({preventScroll:!0})}restoreFocus(e,t){const s=this.getGui(),i=Array.from(s.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;i.length===0&&t.focus();const n=Math.min(i.length-1,e),l=i[n];l&&l.focus()}focusList(e){const t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){const e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(t=>!this.potentialDndItems.includes(t)):e}addItemsToGui(){const t=this.getNonGhostItems().map(s=>this.createItemComponent(s,!1));if(this.isPotentialDndItems()){const s=this.potentialDndItems.map(i=>this.createItemComponent(i,!0));this.insertIndex>=t.length?t.push(...s):t.splice(this.insertIndex,0,...s)}this.appendChild(this.ePillDropList),t.forEach((s,i)=>{i>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(s.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){const{childPillComponents:e,ePillDropList:t}=this,s=e.length;gs(t,s===0?"presentation":"listbox");for(let i=0;i<s;i++){const l=e[i].getGui();ew(l,i+1),Jv(l,s)}}createItemComponent(e,t){const s=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return s.addEventListener("columnRemove",this.removeItems.bind(this,[e])),this.createBean(s),this.guiDestroyFunctions.push(()=>this.destroyBean(s)),t||this.childPillComponents.push(s),s}addIconAndTitleToGui(){const{title:e,icon:t}=this.params;if(!e||!t)return;const s=$e({tag:"div"});if(eg(s,!0),this.addElementClasses(s,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),s.appendChild(t),!this.horizontal){const i=$e({tag:"span"});this.addElementClasses(i,"title"),i.textContent=e,s.appendChild(i)}this.appendChild(s)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const t=$e({tag:"span"});t.textContent=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){const t=this.gos.get("enableRtl"),s=ve(t?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(s,"cell-separator"),e.appendChild(s)}}},lG={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},aG=class extends Me{constructor(e,t,s,i,n){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=s,this.template=i,this.agComponents=n,this.eText=ae,this.eDragHandle=ae,this.eButton=ae}postConstruct(){this.setTemplate(this.template??lG,this.agComponents);const e=this.getGui(),{beans:t,eDragHandle:s,eText:i,eButton:n}=this;this.addElementClasses(e),this.addElementClasses(s,"drag-handle"),this.addElementClasses(i,"text"),this.addElementClasses(n,"button"),s.appendChild(ve("columnDrag",t)),n.appendChild(ve("cancel",t)),this.tooltipFeature=this.createOptionalManagedBean(t.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const e=this.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),Xt(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){const s=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(s)}}setupTooltip(){const e=()=>{var t;return(t=this.tooltipFeature)==null?void 0:t.setTooltipAndRefresh(this.getTooltip())};e(),this.addManagedEventListeners({newColumnsLoaded:e})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){const{beans:{dragAndDrop:e},eDragHandle:t}=this,s=this.createGetDragItem(),i=this.getDefaultIconName(),n={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>i,getDragItem:s,dragItemName:this.getDisplayName()};e==null||e.addDragSource(n,!0),this.addDestroyFunc(()=>e==null?void 0:e.removeDragSource(n))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Pe(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const e={type:"columnRemove"};this.addGuiEventListener("keydown",s=>this.onKeyDown(s)),this.addManagedElementListeners(this.eButton,{click:s=>{this.dispatchLocalEvent(e),s.stopPropagation()}});const t=new xn(this.eButton);this.addManagedListeners(t,{tap:()=>this.dispatchLocalEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}onKeyDown(e){e.key===W.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const e=this.getDisplayValue(),t=ps(e);this.eText.innerHTML=t}addElementClasses(e,t){t=t?`-${t}`:"";const s=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${s}-cell${t}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}},uG=class extends aG{constructor(e,t,s,i,n){super(t,s,n),this.column=e,this.dropZonePurpose=i,this.eSortIndicator=ae,this.popupShowing=!1}postConstruct(){const{sortSvc:e,colNames:t}=this.beans;this.template={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:void 0,{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},e&&(this.agComponents=[e.getSortIndicatorSelector()]),this.displayName=t.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),e&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()})}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(e,t){const s=this.gos.get("rowGroupPanelSuppressSort"),i=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!i){const n=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");e.push(n)}if(this.isGroupingZone()&&this.column.isSortable()&&!s){const n=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");e.push(n)}super.addAdditionalAriaInstructions(e,t)}isMovable(){return this.isDraggable()}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){const e=this.getLocaleTextFunc(),{name:t,aggFuncName:s}=this.getColumnAndAggFuncName(),i=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),n={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},l=this.column.getSort(),u=this.gos.get("rowGroupPanelSuppressSort");return[s&&`${s}${i}`,t,this.isGroupingZone()&&!u&&l&&`, ${n[l]}`].filter(c=>!!c).join("")}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const s=this.column.getAggFunc(),i=typeof s=="string"?s:"agg";t=this.getLocaleTextFunc()(i,i)}return{name:e,aggFuncName:t}}setupSort(){if(!(!this.column.isSortable()||!this.isGroupingZone())&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const e=t=>{t.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,t)};this.addGuiEventListener("click",e),this.addGuiEventListener("keydown",t=>{t.key===W.ENTER&&this.isGroupingZone()&&e(t)})}}getDefaultIconName(){return"hide"}createGetDragItem(){const{column:e}=this;return()=>{const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(e){super.onKeyDown(e),e.key===W.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName();return this.isAggregationZone()?`${t}(${e})`:e}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const{aggFuncSvc:e,popupSvc:t}=this.beans,s=new wy({cssIdentifier:"select-agg-func"}),i=e.getFuncNames(this.column),n=this.getGui(),l=s.getGui();s.setModel({getRow:function(v){return i[v]},getRowCount:function(){return i.length}}),this.createBean(s);const u=$e({tag:"div",cls:"ag-select-agg-func-popup"});u.style.top="0px",u.style.left="0px",u.appendChild(l),u.style.width=`${n.clientWidth}px`;const[c]=this.addManagedElementListeners(u,{focusout:v=>{!u.contains(v.relatedTarget)&&f&&f.hideFunc()}}),h=v=>{this.destroyBean(s),this.popupShowing=!1,(v==null?void 0:v.key)==="Escape"&&n.focus(),c&&c()},g=this.getLocaleTextFunc(),f=t.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:h,ariaLabel:g("ariaLabelAggregationFunction","Aggregation Function")});f&&s.setComponentCreator(this.createAggSelect.bind(this,f.hideFunc)),s.addGuiEventListener("keydown",v=>{if(v.key===W.ENTER||v.key===W.SPACE){const w=s.getLastFocusedRow();if(w==null)return;const b=s.getComponentAt(w);b&&b.selectItem()}}),t.positionPopupByComponent({type:"aggFuncSelect",eventSource:n,ePopup:u,keepWithinBounds:!0,column:this.column,position:"under"}),s.refresh();let m=i.findIndex(v=>v===this.column.getAggFunc());m===-1&&(m=0),s.focusRow(m)}createAggSelect(e,t){const s=()=>{var c,h;e(),this.getGui().focus(),(h=(c=this.beans.valueColsSvc)==null?void 0:c.setColumnAggFunc)==null||h.call(c,this.column,t,"toolPanelDragAndDrop")},i=this.getLocaleTextFunc(),n=t.toString(),l=i(n,n);return new cG(s,l)}isGroupingAndLocked(){return this.isGroupingZone()&&ul(this.column,this.beans)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}getDragSourceType(){return zn.ToolPanel}destroy(){super.destroy(),this.column=null}},cG=class extends Me{constructor(e,t){super({tag:"div",cls:"ag-select-agg-func-item"}),this.selectItem=e,this.getGui().innerText=t,this.addGuiEventListener("click",this.selectItem)}},Gg=class extends rG{constructor(e,t){super(e),this.dropZonePurpose=t,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(e){super.init(e),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(e){return e.columns??[]}isInterestedIn(e){return e===zn.HeaderCell||e===zn.ToolPanel}minimumAllowedNewInsertIndex(){const{gos:e,rowGroupColsSvc:t}=this.beans,s=e.get("groupLockGroupColumns"),i=(t==null?void 0:t.columns.length)??0;return s===-1?i:Math.min(s,i)}showOrHideColumnOnExit(e){return this.isRowGroupPanel()&&Mw(this.gos,!0)&&!e.fromNudge}handleDragEnterEnd(e){if(this.showOrHideColumnOnExit(e)){const i=e.dragSource.getDragItem().columns;this.setColumnsVisible(i,!1,"uiColumnDragged")}}handleDragLeaveEnd(e){if(this.showOrHideColumnOnExit(e)){const s=e.dragSource.getDragItem();this.setColumnsVisible(s.columns,!0,"uiColumnDragged")}}setColumnsVisible(e,t,s){if(e){const i=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,s)}}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}createPillComponent(e,t,s,i){return new uG(e,t,s,this.dropZonePurpose,i)}},dG=class extends Gg{constructor(e){super(e,"pivot")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),s=e("pivots","Column Labels");super.init({icon:ve("pivotPanel",this.beans,null),emptyMessage:t,title:s}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.beans.colModel,t=e.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":{const s=e.isPivotActive();this.setDisplayed(t&&s);break}default:this.setDisplayed(!1);break}else this.setDisplayed(t)}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.pivotColsSvc)==null||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){var e;return((e=this.beans.pivotColsSvc)==null?void 0:e.columns)??[]}},hG=class extends Gg{constructor(e){super(e,"rowGroup")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),s=e("groups","Row Groups");super.init({icon:ve("rowGroupPanel",this.beans,null),emptyMessage:t,title:s}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()||e.colDef.showRowGroup?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.rowGroupColsSvc)==null||t.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){var e;return((e=this.beans.rowGroupColsSvc)==null?void 0:e.columns)??[]}},gG=class extends Gg{constructor(e){super(e,"aggregation")}postConstruct(){const e=this.getLocaleTextFunc(),t=e("valueColumnsEmptyMessage","Drag here to aggregate"),s=e("values","Values");super.init({icon:ve("valuePanel",this.beans,null),emptyMessage:t,title:s}),this.addManagedEventListeners({columnValueChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getIconName(){return this.isPotentialDndItems()?"aggregate":"notAllowed"}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(t))}updateItems(e){var t;(t=this.beans.valueColsSvc)==null||t.setColumns(e,"toolPanelUi")}getExistingItems(){var e;return((e=this.beans.valueColsSvc)==null?void 0:e.columns)??[]}},pG={tag:"div",cls:"ag-pivot-mode-panel",children:[{tag:"ag-toggle-button",ref:"cbPivotMode",cls:"ag-pivot-mode-select"}]},fG=class extends Me{constructor(){super(...arguments),this.cbPivotMode=ae}postConstruct(){this.setTemplate(pG,[DE]);const e=this.cbPivotMode,{colModel:t,ctrlsSvc:s,gos:i}=this.beans;e.setValue(t.isPivotMode());const n=this.getLocaleTextFunc();e.setLabel(n("pivotMode","Pivot Mode"));const l=()=>{const c=!!e.getValue();c!==t.isPivotMode()&&(i.updateGridOptions({options:{pivotMode:c},source:"toolPanelUi"}),s.getHeaderRowContainerCtrls().forEach(h=>h.refresh()))},u=()=>{const c=t.isPivotMode();e.setValue(c)};this.addManagedListeners(e,{fieldValueChanged:l}),this.addManagedEventListeners({newColumnsLoaded:u,columnPivotModeChanged:u})}},mG=class extends j{constructor(){super(...arguments),this.beanName="colToolPanelFactory"}setPanelVisible(e,t,s){return e?e.setDisplayed(t):t&&(e=s()),e}createRowGroupPanel(e,t){return this.createPanel(e,t,new hG(!1))}createValuesPanel(e,t){return this.createPanel(e,t,new gG(!1))}createPivotPanel(e,t){return this.createPanel(e,t,new dG(!1))}createPivotModePanel(e,t,s){return this.createPanel(e,t,new fG,s)}createPanel(e,t,s,i){return s=e.createBean(s),t.push(()=>e.destroyBean(s)),i?e.prependChild(s):e.appendChild(s),s}},CG={moduleName:"ColumnsToolPanel",version:ut,beans:[mG],userComponents:{agColumnsToolPanel:iG},icons:{columnsToolPanel:"columns",menuAddRowGroup:"group",menuRemoveRowGroup:"group",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},dependsOn:[Qt,x1,Dg,xg,ay,Ry]},vG=class extends j{constructor(){super(...arguments),this.beanName="chartMenuItemMapper"}getChartItems(e){var g,f;const t=this.beans,s=t.chartSvc,i=e==="pivotChart";if(!s)return null;const n=this.getLocaleTextFunc.bind(this),l=i?new wG(t,s,n):new bG(t,s,n),u=s.isEnterprise();let c=l.getMenuItem();if(c&&c.subMenu&&!u){const m=v=>{var w;return{...v,subMenu:(w=v.subMenu)==null?void 0:w.filter(b=>!b._enterprise).map(b=>m(b))}};c=m(c)}const h=(f=(g=this.gos.get("chartToolPanelsDef"))==null?void 0:g.settingsPanel)==null?void 0:f.chartGroupsDef;return h&&(c=this.filterAndOrderChartMenu(c,h,l.getConfigLookup())),this.cleanInternals(c)}cleanInternals(e){if(!e)return e;const t=s=>{var i;return s==null||delete s._key,s==null||delete s._enterprise,(i=s==null?void 0:s.subMenu)==null||i.forEach(n=>t(n)),s};return t(e)}buildLookup(e){const t={},s=i=>{t[i._key]=i,i.subMenu&&i.subMenu.forEach(n=>s(n))};return s(e),t}filterAndOrderChartMenu(e,t,s){var l,u,c;const i=this.buildLookup(e),n={...e,subMenu:[]};for(const h of Object.keys(t)){const g=t[h],f=s[h];if(f===null)continue;if(f==null){re(173,{group:h});continue}const m=i[f._key];if(m)if(m.subMenu){const v=g.map(w=>{const b=f[w];if(b==null){re(174,{group:h,chartType:w});return}return i[b]}).filter(w=>w!==void 0);v.length>0&&(m.subMenu=v,(l=n.subMenu)==null||l.push(m))}else(u=n.subMenu)==null||u.push(m)}return((c=n.subMenu)==null?void 0:c.length)==0?null:n}},wG=class{constructor(e,t,s){this.beans=e,this.chartSvc=t,this.getLocaleTextFunc=s}getMenuItem(){const e=this.getLocaleTextFunc(),t=(s,i,n,l,u=!1)=>({name:e(s,i+"‎"),action:()=>this.chartSvc.createPivotChart({chartType:n}),_key:l,_enterprise:u});return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped","groupedColumn","pivotGroupedColumn"),t("stackedColumn","Stacked","stackedColumn","pivotStackedColumn"),t("normalizedColumn","100% Stacked","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped","groupedBar","pivotGroupedBar"),t("stackedBar","Stacked","stackedBar","pivotStackedBar"),t("normalizedBar","100% Stacked","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[t("pie","Pie","pie","pivotPie"),t("donut","Donut","donut","pivotDonut")]},{_key:"pivotLineChart",name:e("lineChart","Line"),subMenu:[t("lineChart","Line","line","pivotLineChart"),t("stackedLine","Stacked","stackedLine","pivotStackedLine"),t("normalizedLine","100% Stacked","normalizedLine","pivotNormalizedLine")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[t("areaChart","Area","area","pivotArea"),t("stackedArea","Stacked","stackedArea","pivotStackedArea"),t("normalizedArea","100% Stacked","normalizedArea","pivotNormalizedArea")]},{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter","scatter","pivotScatter"),t("bubble","Bubble","bubble","pivotBubble")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[t("histogramChart","Histogram","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[t("treemapChart","Treemap","treemap","pivotTreemap",!0),t("sunburstChart","Sunburst","sunburst","pivotSunburst",!0)]},{_key:"pivotFunnel",name:e("funnel","Funnel"),subMenu:[t("funnel","Funnel","funnel","pivotFunnel"),t("coneFunnel","Cone Funnel","coneFunnel","pivotConeFunnel"),t("pyramid","Pyramid","pyramid","pivotPyramid")]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line","columnLineCombo","pivotColumnLineCombo"),t("AreaColumnCombo","Area & Column","areaColumnCombo","pivotAreaColumnCombo")]}],icon:ve("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart",stackedLine:"pivotStackedLine",normalizedLine:"pivotNormalizedLine"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},funnelGroup:{_key:"pivotFunnel",funnel:"pivotFunnel",coneFunnel:"pivotConeFunnel",pyramid:"pivotPyramid"},polarGroup:null,specializedGroup:null}}},bG=class{constructor(e,t,s){this.beans=e,this.chartSvc=t,this.getLocaleTextFunc=s}getMenuItem(){const e=this.getLocaleTextFunc(),t=(s,i,n,l,u=!1)=>({name:e(s,i),action:()=>this.chartSvc.createChartFromCurrentRange(n),_key:l,_enterprise:u});return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped","groupedColumn","rangeGroupedColumn"),t("stackedColumn","Stacked","stackedColumn","rangeStackedColumn"),t("normalizedColumn","100% Stacked","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped","groupedBar","rangeGroupedBar"),t("stackedBar","Stacked","stackedBar","rangeStackedBar"),t("normalizedBar","100% Stacked","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[t("pie","Pie","pie","rangePie"),t("donut","Donut","donut","rangeDonut")],_key:"rangePieChart"},{name:e("lineChart","Line"),subMenu:[t("lineChart","Line","line","rangeLineChart"),t("stackedLine","Stacked","stackedLine","rangeStackedLine"),t("normalizedLine","100% Stacked","normalizedLine","rangeNormalizedLine")],_key:"rangeLineChart"},{name:e("areaChart","Area"),subMenu:[t("areaChart","Area","area","rangeArea"),t("stackedArea","Stacked","stackedArea","rangeStackedArea"),t("normalizedArea","100% Stacked","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter","scatter","rangeScatter"),t("bubble","Bubble","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("polarChart","Polar"),subMenu:[t("radarLine","Radar Line","radarLine","rangeRadarLine"),t("radarArea","Radar Area","radarArea","rangeRadarArea"),t("nightingale","Nightingale","nightingale","rangeNightingale"),t("radialColumn","Radial Column","radialColumn","rangeRadialColumn"),t("radialBar","Radial Bar","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[t("boxPlot","Box Plot","boxPlot","rangeBoxPlot",!0),t("histogramChart","Histogram","histogram","rangeHistogram",!1),t("rangeBar","Range Bar","rangeBar","rangeRangeBar",!0),t("rangeArea","Range Area","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[t("treemap","Treemap","treemap","rangeTreemap"),t("sunburst","Sunburst","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[t("heatmap","Heatmap","heatmap","rangeHeatmap"),t("waterfall","Waterfall","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("funnel","Funnel"),subMenu:[t("funnel","Funnel","funnel","rangeFunnel"),t("coneFunnel","Cone Funnel","coneFunnel","rangeConeFunnel"),t("pyramid","Pyramid","pyramid","rangePyramid")],_key:"rangeFunnel",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line","columnLineCombo","rangeColumnLineCombo"),t("AreaColumnCombo","Area & Column","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:ve("chart",this.beans,void 0)}}getConfigLookup(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart",stackedLine:"rangeStackedLine",normalizedLine:"rangeNormalizedLine"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},funnelGroup:{_key:"rangeFunnel",funnel:"rangeFunnel",coneFunnel:"rangeConeFunnel",pyramid:"rangePyramid"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}}},yG=class extends j{constructor(){super(...arguments),this.beanName="colChooserFactory"}createColumnSelectPanel(e,t,s,i){const n=e.createManagedBean(new Ly),l=i??(t==null?void 0:t.getColDef().columnChooserParams)??{},{contractColumnSelection:u,suppressColumnExpandAll:c,suppressColumnFilter:h,suppressColumnSelectAll:g,suppressSyncLayoutWithGrid:f,columnLayout:m}=l;return n.init(!!s,Re(this.gos,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!u,suppressColumnExpandAll:!!c,suppressColumnFilter:!!h,suppressColumnSelectAll:!!g,suppressSyncLayoutWithGrid:!!m||!!f,onStateUpdated:()=>{}}),"columnMenu"),m&&n.setColumnLayout(m),n}showColumnChooser({column:e,chooserParams:t,eventSource:s,headerPosition:i}){this.hideActiveColumnChooser();const n=this.createColumnSelectPanel(this,e,!0,t),l=this.getLocaleTextFunc(),u=this.beans,{visibleCols:c,focusSvc:h,menuUtils:g}=u,f=c.allCols.indexOf(e),m=e?h.focusedHeader??i??null:null;this.activeColumnChooserDialog=this.createBean(new $I({title:l("chooseColumns","Choose Columns"),component:n,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:()=>{var v;(v=fs(u,n.getGui()))==null||v.focus({preventScroll:!0}),this.dispatchVisibleChangedEvent(!0,e)},closedCallback:v=>{const w=this.activeColumnChooser.getGui();this.destroyBean(this.activeColumnChooser),this.activeColumnChooser=void 0,this.activeColumnChooserDialog=void 0,this.dispatchVisibleChangedEvent(!1,e),e&&g.restoreFocusOnClose({column:e,headerPosition:m,columnIndex:f,eventSource:s},w,v,!0)},postProcessPopupParams:{type:"columnChooser",column:e,eventSource:s}})),this.activeColumnChooser=n}hideActiveColumnChooser(){this.destroyBean(this.activeColumnChooserDialog)}dispatchVisibleChangedEvent(e,t){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:"columnChooser",column:t??null})}},Sn="separator";function Iy(e,t){if(e)for(let s=e.length-2;s>=0;s--){const i=e[s]===t,n=e[s+1]===t;i&&n&&e.splice(s+1,1)}}var SG=class extends j{constructor(){super(...arguments),this.beanName="menuItemMapper"}mapWithStockItems(e,t,s,i){if(!e)return[];const n=[],l=this.getLocaleTextFunc(),{beans:u,gos:c}=this,{validation:h,pinnedCols:g,colAutosize:f,aggFuncSvc:m,rowGroupColsSvc:v,colNames:w,colModel:b,clipboardSvc:R,expansionSvc:D,focusSvc:A,csvCreator:T,excelCreator:F,menuSvc:L,colChooserFactory:I,sortSvc:k,chartMenuItemMapper:U,valueColsSvc:K}=u,ne=(oe,z,te,Q)=>{switch(h==null||h.validateMenuItem(oe),oe){case"pinSubMenu":return g&&z?{name:l("pinColumn","Pin Column"),icon:ve("menuPin",u,null),subMenu:["clearPinned","pinLeft","pinRight"]}:null;case"pinLeft":return g&&z?{name:l("pinLeft","Pin Left"),action:()=>g.setColsPinned([z],"left",Q),checked:!!z&&z.isPinnedLeft()}:null;case"pinRight":return g&&z?{name:l("pinRight","Pin Right"),action:()=>g.setColsPinned([z],"right",Q),checked:!!z&&z.isPinnedRight()}:null;case"clearPinned":return g&&z?{name:l("noPin","No Pin"),action:()=>g.setColsPinned([z],null,Q),checked:!!z&&!z.isPinned()}:null;case"valueAggSubMenu":return m&&K&&(z!=null&&z.isPrimary()||z!=null&&z.getColDef().pivotValueColumn)?{name:l("valueAggregation","Value Aggregation"),icon:ve("menuValue",u,null),subMenu:RG(z,m,K,l),disabled:c.get("functionsReadOnly")}:null;case"autoSizeThis":return f?{name:l("autosizeThisColumn","Autosize This Column"),action:()=>f.autoSizeColumn(z,Q,c.get("skipHeaderOnAutoSize"))}:null;case"autoSizeAll":return f?{name:l("autosizeAllColumns","Autosize All Columns"),action:()=>f.autoSizeAllColumns(Q,c.get("skipHeaderOnAutoSize"))}:null;case"rowGroup":return v?{name:l("groupBy","Group by")+" "+ps(w.getDisplayNameForColumn(z,"header")),disabled:c.get("functionsReadOnly")||(z==null?void 0:z.isRowGroupActive())||!(z!=null&&z.getColDef().enableRowGroup),action:()=>v.addColumns([z],Q),icon:ve("menuAddRowGroup",u,null)}:null;case"rowUnGroup":if(v&&c.isModuleRegistered("SharedRowGrouping")){const de=z==null?void 0:z.getColDef().showRowGroup,le=c.get("groupLockGroupColumns");let B,ee,q;if(de===!0)B=l("ungroupAll","Un-Group All"),ee=c.get("functionsReadOnly")||le===-1||le>=(v.columns.length??0),q=()=>v.setColumns(v.columns.slice(0,le),Q);else if(typeof de=="string"){const ce=b.getColDefCol(de),M=ce!=null?ps(w.getDisplayNameForColumn(ce,"header")):de;B=l("ungroupBy","Un-Group by")+" "+M,ee=c.get("functionsReadOnly")||ul(ce,u),q=()=>{v.removeColumns([de],Q)}}else B=l("ungroupBy","Un-Group by")+" "+ps(w.getDisplayNameForColumn(z,"header")),ee=c.get("functionsReadOnly")||!(z!=null&&z.isRowGroupActive())||!(z!=null&&z.getColDef().enableRowGroup)||ul(z,u),q=()=>v.removeColumns([z],Q);return{name:B,disabled:ee,action:q,icon:ve("menuRemoveRowGroup",u,null)}}else return null;case"resetColumns":return{name:l("resetColumns","Reset Columns"),action:()=>B0(u,Q)};case"expandAll":return D?{name:l("expandAll","Expand All Row Groups"),action:()=>D.expandAll(!0)}:null;case"contractAll":return D?{name:l("collapseAll","Collapse All Row Groups"),action:()=>D.expandAll(!1)}:null;case"copy":return R?{name:l("copy","Copy"),shortcut:l("ctrlC","Ctrl+C"),icon:ve("clipboardCopy",u,null),action:()=>R.copyToClipboard()}:null;case"copyWithHeaders":return R?{name:l("copyWithHeaders","Copy with Headers"),icon:ve("clipboardCopy",u,null),action:()=>R.copyToClipboard({includeHeaders:!0})}:null;case"copyWithGroupHeaders":return R?{name:l("copyWithGroupHeaders","Copy with Group Headers"),icon:ve("clipboardCopy",u,null),action:()=>R.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}:null;case"cut":if(R){const de=A.getFocusedCell(),le=de?Cg(u,de):null,B=le?de==null?void 0:de.column.isCellEditable(le):!1;return{name:l("cut","Cut"),shortcut:l("ctrlX","Ctrl+X"),icon:ve("clipboardCut",u,null),disabled:!B||c.get("suppressCutToClipboard"),action:()=>R.cutToClipboard(void 0,"contextMenu")}}else return null;case"paste":return R?{name:l("paste","Paste"),shortcut:l("ctrlV","Ctrl+V"),disabled:!0,icon:ve("clipboardPaste",u,null),action:()=>R.pasteFromClipboard()}:null;case"export":{const de=[];return!c.get("suppressCsvExport")&&T&&de.push("csvExport"),!c.get("suppressExcelExport")&&F&&de.push("excelExport"),de.length?{name:l("export","Export"),subMenu:de,icon:ve("save",u,null)}:null}case"csvExport":return T?{name:l("csvExport","CSV Export"),icon:ve("csvExport",u,null),action:()=>T.exportDataAsCsv()}:null;case"excelExport":return F?{name:l("excelExport","Excel Export"),icon:ve("excelExport",u,null),action:()=>F.exportDataAsExcel()}:null;case"separator":return"separator";case"pivotChart":case"chartRange":return U.getChartItems(oe);case"columnFilter":return L&&z?{name:l("columnFilter","Column Filter"),icon:ve("filter",u,null),action:()=>L.showFilterMenu({column:z,buttonElement:te(),containerType:"columnFilter",positionBy:"button"})}:null;case"columnChooser":{const de=A.focusedHeader;return I?{name:l("columnChooser","Choose Columns"),icon:ve("columns",u,null),action:()=>I.showColumnChooser({column:z,eventSource:te(),headerPosition:de})}:null}case"sortAscending":return k?{name:l("sortAscending","Sort Ascending"),icon:ve("sortAscending",u,null),action:()=>k.setSortForColumn(z,"asc",!1,Q)}:null;case"sortDescending":return k?{name:l("sortDescending","Sort Descending"),icon:ve("sortDescending",u,null),action:()=>k.setSortForColumn(z,"desc",!1,Q)}:null;case"sortUnSort":return k?{name:l("sortUnSort","Clear Sort"),icon:ve("sortUnSort",u,null),action:()=>k.setSortForColumn(z,null,!1,Q)}:null;default:return re(176,{key:oe}),null}};return e.forEach(oe=>{let z;if(typeof oe=="string"?z=ne(oe,t,s,i):z={...oe},!z)return;const te=z,{subMenu:Q}=te;Q&&Q instanceof Array&&(te.subMenu=this.mapWithStockItems(Q,t,s,i)),z!=null&&n.push(z)}),Iy(n,Sn),n}};function RG(e,t,s,i){let n;if(e.isPrimary())n=e;else{const u=e.getColDef().pivotValueColumn;n=ge(u)?u:void 0}const l=[];if(n){const u=n.isValueActive(),c=t.getFuncNames(n);l.push({name:i("noAggregation","None"),action:()=>{s.removeColumns([n],"contextMenu"),s.setColumnAggFunc(n,void 0,"contextMenu")},checked:!u}),c.forEach(h=>{l.push({name:i(h,t.getDefaultFuncLabel(h)),action:()=>{s.setColumnAggFunc(n,h,"contextMenu"),s.addColumns([n],"contextMenu")},checked:u&&n.getAggFunc()===h})})}return l}var xG=class extends j{constructor(){super(...arguments),this.beanName="colMenuFactory"}createMenu(e,t,s,i){const n=e.createManagedBean(new Pu(0,{column:s??null,node:null,value:null})),l=this.beans.menuItemMapper.mapWithStockItems(t,s??null,i,"columnMenu");return n.addMenuItems(l),n}getMenuItems(e=null,t=null){var l;const s=this.getDefaultMenuOptions(e);let i;const n=(l=(e==null?void 0:e.getColDef())??(t==null?void 0:t.getColGroupDef()))==null?void 0:l.mainMenuItems;if(Array.isArray(n))i=n;else if(typeof n=="function")i=n(Re(this.gos,{column:e,columnGroup:t,defaultItems:s}));else{const u=this.gos.getCallback("getMainMenuItems");u?i=u({column:e,columnGroup:t,defaultItems:s}):i=s}return Iy(i,Sn),i}getDefaultMenuOptions(e){const t=[],{beans:s,gos:i}=this,{colChooserFactory:n,rowGroupColsSvc:l,colModel:u,expansionSvc:c,sortSvc:h,menuSvc:g,pinnedCols:f,aggFuncSvc:m,colAutosize:v}=s,w=Lt(i),b=()=>{!w&&n&&t.push("columnChooser"),t.push("resetColumns")};if(!e)return b(),t;const{colDef:R}=e,D=f&&!R.lockPinned,A=(l==null?void 0:l.columns.length)??0,T=A>0,F=e.isPrimary(),L=m&&F&&T&&e.isAllowValue()||!F;if(h&&!w&&e.isSortable()){const I=e.getSort();I!=="asc"&&t.push("sortAscending"),I!=="desc"&&t.push("sortDescending"),I&&t.push("sortUnSort"),t.push(Sn)}if(g!=null&&g.isFilterMenuItemEnabled(e)&&(t.push("columnFilter"),t.push(Sn)),D&&t.push("pinSubMenu"),L&&t.push("valueAggSubMenu"),(D||L)&&t.push(Sn),v&&(t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(Sn)),l&&i.isModuleRegistered("SharedRowGrouping")){const I=t.length;R.showRowGroup?t.push("rowUnGroup"):e.isAllowRowGroup()&&F&&(e.isRowGroupActive()?ul(e,s)||t.push("rowUnGroup"):t.push("rowGroup")),t.length>I&&t.push(Sn)}return b(),c&&fi(i)&&(i.get("treeData")||A>(u.isPivotMode()?1:0))&&(t.push("expandAll"),t.push("contractAll")),t}},DG="ag-menu",Ov="ag-context-menu-open",MG="ag-context-menu-loading-icon",EG=class extends j{constructor(){super(...arguments),this.beanName="contextMenuSvc",this.destroyLoadingSpinner=null,this.lastPromise=0}hideActiveMenu(){this.destroyBean(this.activeMenu)}getMenuItems(e,t,s,i){const n=[],{clipboardSvc:l,chartSvc:u,csvCreator:c,excelCreator:h,colModel:g,rangeSvc:f,gos:m}=this.beans;if(ge(e)&&l&&t&&(m.get("suppressCutToClipboard")||n.push("cut"),n.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),m.get("enableCharts")&&u&&(g.isPivotMode()&&n.push("pivotChart"),f&&!f.isEmpty()&&n.push("chartRange")),ge(e)){const R=m.get("suppressExcelExport")||!h,D=m.get("suppressCsvExport")||!c;!An()&&(!R||!D)&&n.push("export")}const v=n.length?n:void 0,w=t==null?void 0:t.getColDef().contextMenuItems;if(Array.isArray(w))return w;if(typeof w=="function")return w(Re(m,{column:t,node:e,value:s,defaultItems:v,event:i}));const b=m.getCallback("getContextMenuItems");return(b==null?void 0:b({column:t,node:e,value:s,defaultItems:v,event:i}))??n}getContextMenuPosition(e,t){const s=this.getRowCtrl(e),i=this.getCellGui(s,t);if(!i)return{x:0,y:(s==null?void 0:s.getRowYPosition())??0};const n=i.getBoundingClientRect();return{x:n.x+n.width/2,y:n.y+n.height/2}}showContextMenu(e){const t=e.rowNode??null,s=e.column??null;let{anchorToElement:i,value:n,source:l}=e;t&&s&&n==null&&(n=this.beans.valueSvc.getValueForDisplay(s,t)),i==null&&(i=this.getContextMenuAnchorElement(t,s)),this.beans.menuUtils.onContextMenu({mouseEvent:e.mouseEvent??null,touchEvent:e.touchEvent??null,showMenuCallback:u=>this.showMenu(t,s,n,u,i),source:l})}handleContextMenuMouseEvent(e,t,s,i){var m;const n=(i==null?void 0:i.rowNode)??(s==null?void 0:s.rowNode)??null,l=(i==null?void 0:i.column)??((m=s==null?void 0:s.findFullWidthInfoForEvent(e||t))==null?void 0:m.column)??null,{valueSvc:u,ctrlsSvc:c}=this.beans,h=l?u.getValue(l,n):null,g=c.getGridBodyCtrl(),f=i?i.eGui:g.eGridBody;this.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:n,column:l,value:h,anchorToElement:f,source:"ui"})}showMenu(e,t,s,i,n){const l=this.getMenuItems(e,t,s,i);if(j0(l)){const u=this.lastPromise+1;return this.lastPromise=u,this.destroyLoadingSpinner||this.createLoadingIcon(i),l.then(c=>{var m,v;if(this.lastPromise!==u)return;const{target:h}=i,g=!h;c&&c.length&&(g||Ys(h))&&!((m=this.beans.overlays)!=null&&m.isExclusive())&&this.createContextMenu({menuItems:c,node:e,column:t,value:s,mouseEvent:i,anchorToElement:n}),(v=this.destroyLoadingSpinner)==null||v.call(this)}),!0}return l===void 0||!(l!=null&&l.length)?!1:(this.createContextMenu({menuItems:l,node:e,column:t,value:s,mouseEvent:i,anchorToElement:n}),!0)}createLoadingIcon(e){var h;const{beans:t}=this,s=this.getLocaleTextFunc(),i=ve("loadingMenuItems",t),n=$e({tag:"div",cls:MG});n.appendChild(i);const l=Hn(t),u=Ru(t);if(!u){re(54);return}u.appendChild(n),(h=t.ariaAnnounce)==null||h.announceValue(s("ariaLabelLoadingContextMenu","Loading Context Menu"),"contextmenu"),t.environment.applyThemeClasses(n),Lh(n,e,t);const c=g=>{Lh(n,g,t)};l.addEventListener("mousemove",c),this.destroyLoadingSpinner=()=>{l.removeEventListener("mousemove",c),u.removeChild(n),this.destroyLoadingSpinner=null}}createContextMenu(e){const{menuItems:t,node:s,column:i,value:n,mouseEvent:l,anchorToElement:u}=e,{ctrlsSvc:c,focusSvc:h,popupSvc:g}=this.beans,f=c.getGridBodyCtrl().eGridBody,m=new AG(t,i,s,n);this.createBean(m);const v=m.getGui();i||h.clearFocusedCell();const w={column:i,rowNode:s,type:"contextMenu",mouseEvent:l,ePopup:v,nudgeY:1},b=this.getLocaleTextFunc(),R=g==null?void 0:g.addPopup({modal:!0,eChild:v,closeOnEsc:!0,closedCallback:A=>{Su(this.beans,()=>{f.classList.remove(Ov),this.destroyBean(m),this.dispatchVisibleChangedEvent(!1,A===void 0?"api":"ui")})},click:l,positionCallback:()=>{const A=this.gos.get("enableRtl");g==null||g.positionPopupUnderMouseEvent({...w,nudgeX:A?(v.offsetWidth+1)*-1:1})},anchorToElement:u,ariaLabel:b("ariaLabelContextMenu","Context Menu")});R&&(f.classList.add(Ov),m.afterGuiAttached({container:"contextMenu",hidePopup:R.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=m,m.addEventListener("destroyed",()=>{this.activeMenu===m&&(this.activeMenu=null)}),R&&m.addEventListener("closeMenu",A=>R.hideFunc({mouseEvent:A.mouseEvent??void 0,keyboardEvent:A.keyboardEvent??void 0,forceHide:!0}));const D=l&&l instanceof MouseEvent&&l.type==="mousedown";this.dispatchVisibleChangedEvent(!0,D?"api":"ui")}dispatchVisibleChangedEvent(e,t="ui"){this.eventSvc.dispatchEvent({type:"contextMenuVisibleChanged",visible:e,source:t})}getRowCtrl(e){const{rowIndex:t,rowPinned:s}=e||{};if(t!=null)return this.beans.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:s})||void 0}getCellGui(e,t){if(!e||!t)return;const s=e.getCellCtrl(t);return(s==null?void 0:s.eGui)||void 0}getContextMenuAnchorElement(e,t){const s=this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody,i=this.getRowCtrl(e);if(!i)return s;const n=this.getCellGui(i,t);return n||(i.isFullWidth()?i.getFullWidthElement():s)}destroy(){var e;(e=this.destroyLoadingSpinner)==null||e.call(this),super.destroy()}},AG=class extends Me{constructor(e,t,s,i){super({tag:"div",cls:DG,role:"presentation"}),this.menuItems=e,this.column=t,this.node=s,this.value=i,this.menuList=null,this.focusedCell=null}postConstruct(){const e=this.createManagedBean(new Pu(0,{column:this.column,node:this.node,value:this.value})),t=this.beans.menuItemMapper.mapWithStockItems(this.menuItems,null,()=>this.getGui(),"contextMenu");e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener("closeMenu",s=>this.dispatchLocalEvent(s))}afterGuiAttached({hidePopup:e}){e&&this.addDestroyFunc(e),this.focusedCell=this.beans.focusSvc.getFocusedCell();const t=this.menuList;t&&Su(this.beans,()=>Us(t.getGui()))}restoreFocusedCell(){const{beans:e,focusedCell:t}=this,s=e.focusSvc,i=s.getFocusedCell();if(i&&t&&lb(i,t)){const{rowIndex:n,rowPinned:l,column:u}=t;su(e)&&s.setFocusedCell({rowIndex:n,column:u,rowPinned:l,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!Eu()})}}destroy(){super.destroy(),this.restoreFocusedCell()}};function TG(e){return{tag:"div",cls:`ag-tabs ${e}`,children:[{tag:"div",ref:"eHeader"},{tag:"div",ref:"eBody",role:"presentation",cls:`ag-tabs-body ${e?`${e}-body`:""}`}]}}var FG=class extends Tu{constructor(e){super(TG(e.cssClass)),this.eHeader=ae,this.eBody=ae,this.items=[],this.tabbedItemScrollMap=new Map,this.params=e}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(e=>this.addItem(e)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var e,t,s;return(s=(t=(e=this.activeItem)==null?void 0:e.tabbedItem)==null?void 0:t.afterDetachedCallback)==null?void 0:s.call(t)})}setupHeader(){const{enableCloseButton:e,cssClass:t}=this.params,s=(i,n)=>{i.classList.add(`ag-tabs-${n}`),t&&i.classList.add(`${t}-${n}`)};e?(this.setupCloseButton(s),this.eTabHeader=lt(this.beans).createElement("div"),s(this.eHeader,"header-wrapper"),gs(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,gs(this.eTabHeader,"tablist"),s(this.eTabHeader,"header")}setupCloseButton(e){const t=lt(this.beans),s=t.createElement("button");e(s,"close-button");const i=ve("close",this.beans);Xt(s,this.params.closeButtonAriaLabel),s.appendChild(i),this.addManagedElementListeners(s,{click:()=>{var l,u;return(u=(l=this.params).onCloseClicked)==null?void 0:u.call(l)}});const n=t.createElement("div");e(n,"close-button-wrapper"),gs(n,"presentation"),n.appendChild(s),this.eHeader.appendChild(n),this.eCloseButton=s}handleKeyDown(e){switch(e.key){case W.RIGHT:case W.LEFT:{if(!this.eTabHeader.contains(Ke(this.beans)))return;const t=e.key===W.RIGHT,s=this.gos.get("enableRtl"),i=this.items.indexOf(this.activeItem),n=t!==s?Math.min(i+1,this.items.length-1):Math.max(i-1,0);if(i===n)return;e.preventDefault();const l=this.items[n];this.showItemWrapper(l),l.eHeaderButton.focus();break}case W.UP:case W.DOWN:e.stopPropagation();break}}onTabKeyDown(e){var v,w,b,R;if(e.defaultPrevented)return;const{beans:t,eHeader:s,eBody:i,activeItem:n,params:l}=this,{suppressTrapFocus:u,enableCloseButton:c}=l,h=Ke(t),g=e.target,f=e.shiftKey;if(s.contains(h)){e.preventDefault(),c&&f&&!((v=this.eCloseButton)!=null&&v.contains(h))?(w=this.eCloseButton)==null||w.focus():u&&f?(b=Kh(lt(t).body,g))==null||b.focus():this.focusBody(e.shiftKey);return}let m=null;if(by(i,g)&&(f&&(m=Kh(i,g)),!m&&!u&&(m=n.eHeaderButton)),!m&&i.contains(h)&&(m=fs(t,i,!1,f),!m)){u&&!f?this.forceFocusOutOfContainer(f):c&&!f?(e.preventDefault(),(R=this.eCloseButton)==null||R.focus()):(e.preventDefault(),this.focusHeader());return}m&&(e.preventDefault(),m.focus())}focusInnerElement(e){return e?this.focusBody(!0):(this.focusHeader(),!0)}focusHeader(e){this.activeItem.eHeaderButton.focus({preventScroll:e})}focusBody(e){return Us(this.eBody,e)}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=$e({tag:"span",cls:"ag-tab",role:"tab",attrs:{tabindex:"-1"}});t.appendChild(e.title),this.eTabHeader.appendChild(t),Xt(t,e.titleLabel);const s={tabbedItem:e,eHeaderButton:t};this.items.push(s),t.addEventListener("click",this.showItemWrapper.bind(this,s))}showItem(e){const t=this.items.find(s=>s.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var i,n,l,u,c,h;const{tabbedItem:t,eHeaderButton:s}=e;if((n=(i=this.params).onItemClicked)==null||n.call(i,{item:t}),this.activeItem===e){(u=(l=this.params).onActiveItemClicked)==null||u.call(l);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ms(this.eBody),t.bodyPromise.then(g=>{this.eBody.appendChild(g);const f=!Eu();if(this.params.suppressFocusBodyOnOpen||Us(this.eBody,!1,f),t.afterAttachedCallback&&t.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const m=t.getScrollableContainer&&t.getScrollableContainer()||g;[this.lastScrollListener]=this.addManagedElementListeners(m,{scroll:()=>{this.tabbedItemScrollMap.set(t.name,m.scrollTop)}});const v=this.tabbedItemScrollMap.get(t.name);v!==void 0&&setTimeout(()=>{m.scrollTop=v},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(h=(c=this.activeItem.tabbedItem).afterDetachedCallback)==null||h.call(c)),s.classList.add("ag-tab-selected"),this.activeItem=e}},Ui="filterMenuTab",ji="generalMenuTab",Rn="columnsMenuTab",Za=[ji,Ui,Rn],PG=class extends j{constructor(){super(...arguments),this.beanName="enterpriseMenuFactory"}hideActiveMenu(){this.destroyBean(this.activeMenu)}showMenuAfterMouseEvent(e,t,s,i,n){const{column:l,columnGroup:u}=this.splitColumnOrGroup(e),c=n?"filterMenuTab":void 0;this.showMenu(l,u,h=>{var f;const g=h.getGui();this.beans.popupSvc.positionPopupUnderMouseEvent({type:s,column:l,mouseEvent:t,ePopup:g}),c&&((f=h.showTab)==null||f.call(h,c)),this.dispatchVisibleChangedEvent(!0,!1,l,u,c)},s,c,void 0,t.target,i)}splitColumnOrGroup(e){const t=e&&Ws(e);return{column:t?e:void 0,columnGroup:t?void 0:e}}showMenuAfterButtonClick(e,t,s,i,n){let l=-1,u="left";this.gos.get("enableRtl")&&(l=1,u="right");const c=n?"filterMenuTab":void 0,h=c?[c]:void 0,g=Lt(this.gos),f=(g?9:4)*l,m=g?-23:4,{column:v,columnGroup:w}=this.splitColumnOrGroup(e);this.showMenu(v,w,b=>{var D;const R=b.getGui();this.beans.popupSvc.positionPopupByComponent({type:s,column:v,eventSource:t,ePopup:R,alignSide:u,nudgeX:f,nudgeY:m,position:"under",keepWithinBounds:!0}),c&&((D=b.showTab)==null||D.call(b,c)),this.dispatchVisibleChangedEvent(!0,!1,v,w,c)},s,c,h,t,i)}showMenu(e,t,s,i,n,l,u,c){var A;const h=this.getMenuParams(e,t,l,u);if(!h)return;const{menu:g,eMenuGui:f,anchorToElement:m,restoreFocusParams:v}=h,w=[],{menuUtils:b,popupSvc:R}=this.beans;w.push(T=>{const F=g.getGui();this.destroyBean(g),e&&(tv(e,!1,"contextMenu"),b.restoreFocusOnClose(v,F,T)),c==null||c()});const D=this.getLocaleTextFunc();if(R.addPopup({modal:!0,eChild:f,closeOnEsc:!0,closedCallback:T=>{w.forEach(F=>F(T)),this.dispatchVisibleChangedEvent(!1,!1,e,t,n)},afterGuiAttached:T=>g.afterGuiAttached(Object.assign({},{container:i},T)),positionCallback:n?()=>s(g):void 0,ariaLabel:D("ariaLabelColumnMenu","Column Menu")}),n||((A=g.showTabBasedOnPreviousSelection)==null||A.call(g),s(g)),c0(this.gos)){const T=R.setPopupPositionRelatedToElement(f,m);T&&e&&this.addStopAnchoring(T,e,w)}g.addEventListener("tabSelected",T=>{this.dispatchVisibleChangedEvent(!1,!0,e),this.lastSelectedTab=T.key,this.dispatchVisibleChangedEvent(!0,!0,e)}),e&&tv(e,!0,"contextMenu"),this.activeMenu=g,g.addEventListener("destroyed",()=>{this.activeMenu===g&&(this.activeMenu=null)})}addStopAnchoring(e,t,s){e.then(i=>{t.__addEventListener("leftChanged",i),t.__addEventListener("visibleChanged",i),s.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("visibleChanged",i)})})}getMenuParams(e,t,s,i){const{focusSvc:n,visibleCols:l,ctrlsSvc:u}=this.beans,c={column:e,headerPosition:n.focusedHeader,columnIndex:l.allCols.indexOf(e),eventSource:i},h=this.createMenu(e,t,c,s,i);return h?{menu:h,eMenuGui:h.getGui(),anchorToElement:i||u.getGridBodyCtrl().eGridBody,restoreFocusParams:c}:void 0}createMenu(e,t,s,i,n){if(Lt(this.gos))return this.createBean(new LG(e,s,this.lastSelectedTab,i,n));{const l=this.beans.colMenuFactory.getMenuItems(e,t);return l.length?this.createBean(new IG(l,e,s,n)):void 0}}dispatchVisibleChangedEvent(e,t,s,i,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:t,key:this.lastSelectedTab??n??(Lt(this.gos)?ji:"columnMenu"),column:s??null,columnGroup:i??null})}isMenuEnabled(e){var n;if(!Lt(this.gos))return!0;const t=!((n=this.beans.filterManager)!=null&&n.isFilterAllowed(e)),s=e.getColDef().menuTabs??Za;return(t&&s.includes(Ui)?s.length-1:s.length)>0}showMenuAfterContextMenuEvent(e,t,s){this.beans.menuUtils.onContextMenu({mouseEvent:t,touchEvent:s,source:"ui",showMenuCallback:i=>(this.showMenuAfterMouseEvent(e,i,"columnMenu"),!0)})}},LG=class extends j{constructor(e,t,s,i,n){super(),this.column=e,this.restoreFocusParams=t,this.initialSelection=s,this.restrictTo=i,this.sourceElement=n,this.tabFactories={},this.includeChecks={};const{tabFactories:l,includeChecks:u}=this;l[ji]=this.createMainPanel.bind(this),l[Ui]=this.createFilterPanel.bind(this),l[Rn]=this.createColumnsPanel.bind(this),u[ji]=()=>!0,u[Ui]=()=>{var c;return e?!!((c=this.beans.filterManager)!=null&&c.isFilterAllowed(e)):!1},u[Rn]=()=>!0}postConstruct(){var s;const e=this.getTabsToCreate().map(i=>this.createTab(i)),t=new FG({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)});this.tabbedLayout=this.createBean(t),(s=this.mainMenuList)==null||s.setParentComponent(t),this.addDestroyFunc(()=>this.destroyBean(t))}getTabsToCreate(){var e;return this.restrictTo?this.restrictTo:(((e=this.column)==null?void 0:e.getColDef().menuTabs)??Za).filter(t=>this.isValidMenuTabItem(t)&&this.isNotSuppressed(t))}isValidMenuTabItem(e){let t=!0,s=Za;return this.restrictTo!=null&&(t=this.restrictTo.indexOf(e)>-1,s=this.restrictTo),t=t&&Za.indexOf(e)>-1,t||re(175,{menuTabName:e,itemsToConsider:s}),t}isNotSuppressed(e){return this.includeChecks[e]()}createTab(e){return this.tabFactories[e]()}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection)}showTab(e){const{tabItemColumns:t,tabbedLayout:s,tabItemFilter:i,tabItemGeneral:n}=this;t&&e===Rn?s.showItem(t):i&&e===Ui?s.showItem(i):n&&e===ji?s.showItem(n):s.showFirstItem()}onTabItemClicked(e){let t=null;switch(e.item){case this.tabItemColumns:t=Rn;break;case this.tabItemFilter:t=Ui;break;case this.tabItemGeneral:t=ji;break}t&&this.activateTab(t)}activateTab(e){const t={type:"tabSelected",key:e};this.dispatchLocalEvent(t)}createMainPanel(){const{beans:e,column:t}=this,s=e.colMenuFactory,i=s.createMenu(this,s.getMenuItems(t),this.column,()=>this.sourceElement??this.getGui());this.mainMenuList=i,i.addEventListener("closeMenu",this.onHidePopup.bind(this));const n={title:ve("legacyMenu",e,t),titleLabel:ji.replace("MenuTab",""),bodyPromise:at.resolve(i.getGui()),name:ji};return this.tabItemGeneral=n,n}onHidePopup(e){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)}createFilterPanel(){const e=this.column?this.createBean(new hM(this.column,"COLUMN_MENU")):null;this.filterComp=e,e!=null&&e.hasFilter()||Te(119);const t=i=>e==null?void 0:e.afterGuiAttached(i),s=()=>e==null?void 0:e.afterGuiDetached();return this.tabItemFilter={title:ve("filterTab",this.beans,this.column),titleLabel:Ui.replace("MenuTab",""),bodyPromise:at.resolve(e==null?void 0:e.getGui()),afterAttachedCallback:t,afterDetachedCallback:s,name:Ui},this.tabItemFilter}createColumnsPanel(){const e=$e({tag:"div",cls:"ag-menu-column-select-wrapper"}),{beans:t,column:s}=this,n=t.colChooserFactory.createColumnSelectPanel(this,s).getGui();n.classList.add("ag-menu-column-select"),e.appendChild(n);const l={title:ve("columns",t,s),titleLabel:Rn.replace("MenuTab",""),bodyPromise:at.resolve(e),name:Rn};return this.tabItemColumns=l,l}afterGuiAttached(e){const{container:t,hidePopup:s}=e;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:s}),s&&(this.hidePopupFunc=s,this.addDestroyFunc(s))}getGui(){return this.tabbedLayout.getGui()}destroy(){super.destroy(),this.destroyBean(this.filterComp)}},IG=class extends Me{constructor(e,t,s,i){super({tag:"div",ref:"eColumnMenu",cls:"ag-menu ag-column-menu",role:"presentation"}),this.menuItems=e,this.column=t,this.restoreFocusParams=s,this.sourceElement=i,this.eColumnMenu=ae}postConstruct(){const e=this.beans.colMenuFactory.createMenu(this,this.menuItems,this.column,()=>this.sourceElement??this.getGui());this.mainMenuList=e,e.addEventListener("closeMenu",this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(e.getGui())}onHidePopup(e){this.beans.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)}afterGuiAttached({hidePopup:e}){e&&(this.hidePopupFunc=e,this.addDestroyFunc(e)),Us(this.mainMenuList.getGui())}};function GG(e,t){const{contextMenuSvc:s}=e;if(!s)return;const{rowNode:i,column:n,value:l,x:u,y:c}=t||{};let{x:h,y:g}=s.getContextMenuPosition(i,n);u!=null&&(h=u),c!=null&&(g=c),s.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:h,clientY:g}),rowNode:i,column:n,value:l,source:"api"})}function OG(e,t){var s;(s=e.colChooserFactory)==null||s.showColumnChooser({chooserParams:t})}function kG(e){var t;(t=e.colChooserFactory)==null||t.hideActiveColumnChooser()}var NG=class extends j{constructor(){super(...arguments),this.beanName="menuUtils"}restoreFocusOnClose(e,t,s,i){const{eventSource:n}=e,l=s instanceof KeyboardEvent;if(!i&&!l||!n)return;const u=Ke(this.beans);!t.contains(u)&&!su(this.beans)||this.focusHeaderCell(e)}closePopupAndRestoreFocusOnSelect(e,t,s){let i;s&&s.keyboardEvent&&(i=s.keyboardEvent),e(i&&{keyboardEvent:i});const n=this.beans,l=n.focusSvc,u=l.getFocusedCell();if(su(n))if(u){const{rowIndex:c,rowPinned:h,column:g}=u;l.setFocusedCell({rowIndex:c,column:g,rowPinned:h,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(t)}onContextMenu(e){const{mouseEvent:t,touchEvent:s,showMenuCallback:i,source:n}=e;if(!this.gos.get("allowContextMenuWithControlKey")&&t&&(t.ctrlKey||t.metaKey)||(t&&this.blockMiddleClickScrollsIfNeeded(t),n==="ui"&&this.gos.get("suppressContextMenu")))return;const l=t??s.touches[0];if(i(l)){const u=t??s;u&&u.cancelable&&u.preventDefault()}}async focusHeaderCell(e){const{column:t,columnIndex:s,headerPosition:i,eventSource:n}=e,{visibleCols:l,headerNavigation:u,focusSvc:c}=this.beans,h=await l.allCols.some(g=>g===t);if(this.isAlive()){if(t!=null&&t.isAlive()&&h&&n&&Ys(n)){const g=ib(n);g&&(u==null||u.scrollToColumn(t),g.focus())}else if(i&&s!==-1){const g=l.allCols,f=g[s]||Le(g);f&&c.focusHeaderPosition({headerPosition:{headerRowIndex:i.headerRowIndex,column:f}})}}}blockMiddleClickScrollsIfNeeded(e){this.gos.get("suppressMiddleClickScrolls")&&e.which===2&&e.preventDefault()}},Gy={moduleName:"MenuCore",version:ut,beans:[SG,vG,NG],icons:{chart:"chart",columns:"columns",loadingMenuItems:"loading",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",save:"save",csvExport:"csv",excelExport:"excel",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},dependsOn:[Qt,ay,tL,Ry]},BG={moduleName:"ColumnMenu",version:ut,beans:[PG,xG,yG],icons:{legacyMenu:"menu",filterTab:"filter",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},apiFunctions:{showColumnChooser:OG,hideColumnChooser:kG},dependsOn:[Gy,xg,Dg]},HG={moduleName:"ContextMenu",version:ut,beans:[EG],apiFunctions:{showContextMenu:GG},dependsOn:[Gy]},zG=class extends j{constructor(){super(...arguments),this.beanName="aggColNameSvc"}getHeaderName(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const{valueColsSvc:s,colModel:i,rowGroupColsSvc:n}=this.beans,l=e.getColDef().pivotValueColumn,u=ge(l);let c=null,h;if(u){const g=(s==null?void 0:s.columns)??[],f=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&g.length===1,m=e.getColDef().pivotTotalColumnIds!==void 0;if(f&&!m)return t;c=l?l.getAggFunc():null,h=!0}else{const g=e.isValueActive(),f=i.isPivotMode()||(n==null?void 0:n.columns.length)!==0;g&&f?(c=e.getAggFunc(),h=!0):h=!1}if(h){const g=typeof c=="string"?c:"func";return`${this.getLocaleTextFunc()(g,g)}(${t})`}return t}},VG={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},_G=class extends j{constructor(){super(...arguments),this.beanName="aggFuncSvc",this.aggFuncsMap={},this.initialised=!1}postConstruct(){this.init()}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gos.get("aggFuncs")))}initialiseWithDefaultAggregations(){const e=this.aggFuncsMap;e.sum=WG,e.first=UG,e.last=jG,e.min=KG,e.max=YG,e.count=qG,e.avg=$G,this.initialised=!0}isAggFuncPossible(e,t){const i=this.getFuncNames(e).includes(t),n=ge(this.aggFuncsMap[t]);return i&&n}getDefaultFuncLabel(e){return VG[e]??e}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if(ge(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,"sum"))return"sum";const s=this.getFuncNames(e);return s!=null&&s.length?s[0]:null}addAggFuncs(e){if(this.init(),!!e)for(const t of Object.keys(e))this.aggFuncsMap[t]=e[t]}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return t??Object.keys(this.aggFuncsMap).sort()}clear(){this.aggFuncsMap={}}};function WG(e){const{values:t}=e;let s=null;for(let i=0;i<t.length;i++){const n=t[i];typeof n=="number"?s===null?s=n:s+=typeof s=="number"?n:BigInt(n):typeof n=="bigint"&&(s===null?s=n:s=(typeof s=="bigint"?s:BigInt(s))+n)}return s}function UG(e){return e.values.length>0?e.values[0]:null}function jG(e){return e.values.length>0?Le(e.values):null}function KG(e){const{values:t}=e;let s=null;for(let i=0;i<t.length;i++){const n=t[i];(typeof n=="number"||typeof n=="bigint")&&(s===null||s>n)&&(s=n)}return s}function YG(e){const{values:t}=e;let s=null;for(let i=0;i<t.length;i++){const n=t[i];(typeof n=="number"||typeof n=="bigint")&&(s===null||s<n)&&(s=n)}return s}function qG(e){var n,l;const{values:t}=e;let s=0;for(let u=0;u<t.length;u++){const c=t[u];s+=c!=null&&typeof c.value=="number"?c.value:1}const i=(l=(n=e.rowNode)==null?void 0:n.aggData)==null?void 0:l[e.column.getColId()];return i&&i.value===s?i:{value:s,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function $G(e){var u,c,h;const{values:t}=e;let s=0,i=0;for(let g=0;g<t.length;g++){const f=t[g];let m=null;typeof f=="number"||typeof f=="bigint"?(m=f,i++):f!=null&&(typeof f.value=="number"||typeof f.value=="bigint")&&typeof f.count=="number"&&(m=f.value*(typeof f.value=="number"?f.count:BigInt(f.count)),i+=f.count),typeof m=="number"?s+=typeof s=="number"?m:BigInt(m):typeof m=="bigint"&&(s=(typeof s=="bigint"?s:BigInt(s))+m)}let n=null;i>0&&(n=s/(typeof s=="number"?i:BigInt(i)));const l=(h=(u=e.rowNode)==null?void 0:u.aggData)==null?void 0:h[(c=e.column)==null?void 0:c.getColId()];return l&&l.count===i&&l.value===n?l:{count:i,value:n,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}function ZG(e,t){e.aggFuncSvc&&e.aggFuncSvc.addAggFuncs(t)}function XG(e){e.aggFuncSvc&&e.aggFuncSvc.clear()}function QG(e,t,s){var i,n;(n=(i=e.valueColsSvc)==null?void 0:i.setColumnAggFunc)==null||n.call(i,t,s,"api")}function yh(e,t,s,i,n,l){const u=typeof s=="string"?e.aggFuncSvc.getAggFunc(s):s;if(typeof u!="function")return Te(109,{aggFuncOrString:s}),null;const c=Re(e.gos,{values:t,column:i,colDef:i.colDef,pivotResultColumn:l,rowNode:n,data:n==null?void 0:n.data});return u(c)}var JG=class extends j{constructor(){super(...arguments),this.beanName="aggStage",this.refreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","suppressAggFilteredOnly","grandTotalRow"]),this.step="aggregate"}wireBeans(e){this.colModel=e.colModel,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.pivotResultCols=e.pivotResultCols,this.valueSvc=e.valueSvc}execute(e){var n,l,u;const t=!((l=(n=this.valueColsSvc)==null?void 0:n.columns)!=null&&l.length),s=!this.gos.getCallback("getGroupRowAgg");if(t&&s&&((u=e.changedPath)!=null&&u.active))return;const i=this.createAggDetails(e);this.recursivelyCreateAggData(i)}createAggDetails(e){var l;const t=this.colModel.isPivotActive(),s=(l=this.valueColsSvc)==null?void 0:l.columns,i=t&&this.pivotColsSvc?this.pivotColsSvc.columns:[];return{alwaysAggregateAtRootLevel:this.gos.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:!!ug(this.gos),changedPath:e.changedPath,valueColumns:s??[],pivotColumns:i,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gos.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return xw(this.gos)!==void 0||this.gos.get("suppressAggFilteredOnly")}recursivelyCreateAggData(e){const t=s=>{if(!s.hasChildren()){s.aggData&&this.setAggData(s,null);return}if(s.level===-1&&!e.groupIncludeTotalFooter){const l=!this.colModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&l){this.setAggData(s,null);return}}this.aggregateRowNode(s,e)};e.changedPath.forEachChangedNodeDepthFirst(t,!0)}aggregateRowNode(e,t){const s=t.valueColumns.length===0,i=t.pivotColumns.length===0;let n;t.userAggFunc?n=t.userAggFunc({nodes:e.childrenAfterFilter}):s?n=null:i?n=this.aggregateRowNodeUsingValuesOnly(e,t):n=this.aggregateRowNodeUsingValuesAndPivot(e),this.setAggData(e,n),e.sibling&&this.setAggData(e.sibling,n)}aggregateRowNodeUsingValuesAndPivot(e){var l,u;const t={},s=((u=(l=this.pivotResultCols)==null?void 0:l.getPivotResultCols())==null?void 0:u.list)??[];let i=!0;const n=this.beans;for(let c=0;c<s.length;c++){const h=s[c],g=h.getColDef();if(g.pivotTotalColumnIds!=null){i=!1;continue}const f=g.pivotKeys??[];let m;e.leafGroup?m=this.getValuesFromMappedSet(e.childrenMapped,f,g.pivotValueColumn):m=this.getValuesPivotNonLeaf(e,g.colId),t[g.colId]=yh(n,m,g.pivotValueColumn.getAggFunc(),g.pivotValueColumn,e,h)}if(!i)for(let c=0;c<s.length;c++){const h=s[c],g=h.getColDef();if(g.pivotTotalColumnIds==null||!g.pivotTotalColumnIds.length)continue;const f=g.pivotTotalColumnIds.map(m=>t[m]);t[g.colId]=yh(n,f,g.pivotValueColumn.getAggFunc(),g.pivotValueColumn,e,h)}return t}aggregateRowNodeUsingValuesOnly(e,t){const s={},{changedPath:i,valueColumns:n,filteredOnly:l}=t,u=i.active?i.getValueColumnsForNode(e,n):n,c=i.active?i.getNotValueColumnsForNode(e,n):null,h=this.getValuesNormal(e,u,l),g=e.aggData,f=this.beans;return u.forEach((m,v)=>{s[m.getId()]=yh(f,h[v],m.getAggFunc(),m,e)}),c&&g&&c.forEach(m=>{s[m.getId()]=g[m.getId()]}),s}getValuesPivotNonLeaf(e,t){return e.childrenAfterFilter.map(s=>s.aggData[t])}getValuesFromMappedSet(e,t,s){let i=e;for(let n=0;n<t.length;n++){const l=t[n];i=i?i[l]:null}return i?i.map(n=>this.valueSvc.getValue(s,n)):[]}getValuesNormal(e,t,s){const i=[];t.forEach(()=>i.push([]));const n=t.length,l=s?e.childrenAfterFilter:e.childrenAfterGroup,u=l.length;for(let c=0;c<u;c++){const h=l[c];for(let g=0;g<n;g++){const f=t[g],m=this.valueSvc.getValue(f,h);i[g].push(m)}}return i}setAggData(e,t){const s=e.aggData;if(e.aggData=t,e.__localEventService){const i=n=>{const l=e.aggData?e.aggData[n]:void 0,u=s?s[n]:void 0;if(l===u)return;const c=this.colModel.getCol(n);c&&e.dispatchCellChangedEvent(c,l,u)};if(s)for(const n of Object.keys(s))i(n);if(t)for(const n of Object.keys(t))(!s||!(n in s))&&i(n)}}},eO=class extends j{constructor(){super(...arguments),this.beanName="filterAggStage",this.refreshProps=new Set([]),this.step="filter_aggregates"}wireBeans(e){this.filterManager=e.filterManager}execute(e){var g,f;const t=this.beans.colModel.isPivotMode(),s=((g=this.filterManager)==null?void 0:g.isAggregateFilterPresent())||((f=this.filterManager)==null?void 0:f.isAggregateQuickFilterPresent()),i=m=>!m.node.group,n=m=>m.node.leafGroup,l=xw(this.gos)||(t?n:i),{changedPath:u}=e,c=(m,v=!1)=>{m.childrenAfterFilter&&(m.childrenAfterAggFilter=m.childrenAfterFilter,v&&m.childrenAfterAggFilter.forEach(w=>c(w,v)),this.setAllChildrenCount(m)),m.sibling&&(m.sibling.childrenAfterAggFilter=m.childrenAfterAggFilter)},h=m=>{var v;m.childrenAfterAggFilter=((v=m.childrenAfterFilter)==null?void 0:v.filter(w=>{var D;return l({node:w})&&this.filterManager.doesRowPassAggregateFilters({rowNode:w})?(c(w,!0),!0):(D=w.childrenAfterAggFilter)==null?void 0:D.length}))||null,this.setAllChildrenCount(m),m.sibling&&(m.sibling.childrenAfterAggFilter=m.childrenAfterAggFilter)};u.forEachChangedNodeDepthFirst(s?h:c,!0)}setAllChildrenCountTreeData(e){const t=e.childrenAfterAggFilter;let s=0;if(t){const i=t.length;s=i;for(let n=0;n<i;++n)s+=t[n].allChildrenCount??0}e.setAllChildrenCount(s===0&&e.level>=0?null:s)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach(s=>{s.group?t+=s.allChildrenCount:t++}),e.setAllChildrenCount(t)}setAllChildrenCount(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gos.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)}},tO=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced"]);function hi(e,t){if(e.sibling)return;const s=new Ko(t);Object.keys(e).forEach(i=>{tO.has(i)||(s[i]=e[i])}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,s.id="rowGroupFooter_"+e.id,s.sibling=e,e.sibling=s}function Og(e){e.sibling&&(e.sibling.setRowTop(null),e.sibling.setRowIndex(null),e.sibling=void 0)}var sO=class extends j{constructor(){super(...arguments),this.beanName="footerSvc"}addTotalRows(e,t,s,i,n,l){let u=e;if(n)return(i&&ug(this.gos))===l&&(hi(t,this.beans),s(t.sibling,u++)),u;const c=Ho(this.gos);return(i&&c({node:t}))===l&&(hi(t,this.beans),s(t.sibling,u++)),u}getTopDisplayIndex(e,t,s,i){let n=t;if(e[0].footer){if(t===0)return 0;n-=1}const l=e[e.length-1],u=n>=s.length;return l.footer&&u?l.rowIndex:i(n)}getTotalValue(e){return this.getLocaleTextFunc()("footerTotal","Total")+" "+(e??"")}},Oy=class extends pg{constructor(){super(...arguments),this.beanName="valueColsSvc",this.eventName="columnValueChanged",this.columnProcessors={set:(e,t,s)=>this.setValueActive(t,e,s),add:(e,t,s)=>this.setValueActive(!0,e,s),remove:(e,t,s)=>this.setValueActive(!1,e,s)},this.columnExtractors={setFlagFunc:(e,t,s)=>this.setColValueActive(e,t,s),getIndexFunc:()=>{},getInitialIndexFunc:()=>{},getValueFunc:e=>{const t=e.aggFunc;if(t===null||t==="")return null;if(t!==void 0)return!!t},getInitialValueFunc:e=>e.initialAggFunc!=null&&e.initialAggFunc!=""},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>vs(this.columns,e)}}extractCols(e,t){return this.columns=super.extractCols(e,t),this.columns.forEach(s=>{const i=s.getColDef();i.aggFunc!=null&&i.aggFunc!=""?this.setColAggFunc(s,i.aggFunc):s.getAggFunc()||this.setColAggFunc(s,i.initialAggFunc)}),this.columns}setColumnAggFunc(e,t,s){if(!e)return;const i=this.colModel.getColDefCol(e);i&&(this.setColAggFunc(i,t),this.dispatchColumnChangedEvent(this.eventSvc,this.eventName,[i],s))}syncColumnWithState(e,t,s){const i=s("aggFunc").value1;i!==void 0&&(typeof i=="string"?(this.setColAggFunc(e,i),e.isValueActive()||(this.setColValueActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e))):(ge(i)&&re(33),e.isValueActive()&&(this.setColValueActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e))))}setValueActive(e,t,s){if(e!==t.isValueActive()&&(this.setColValueActive(t,e,s),e&&!t.getAggFunc()&&this.aggFuncSvc)){const i=this.aggFuncSvc.getDefaultAggFunc(t);this.setColAggFunc(t,i)}}setColAggFunc(e,t){e.aggFunc=t,e.dispatchStateUpdatedEvent("aggFunc")}setColValueActive(e,t,s){e.aggregationActive!==t&&(e.aggregationActive=t,e.dispatchColEvent("columnValueChanged",s))}},kg={moduleName:"SharedAggregation",version:ut,beans:[_G,zG,sO,Oy],apiFunctions:{addAggFuncs:ZG,clearAggFuncs:XG,setColumnAggFunc:QG},dependsOn:[Qt]},iO={moduleName:"Aggregation",version:ut,beans:[JG,eO],rowModels:["clientSide"],dependsOn:[kg]},ky=class extends pg{constructor(){super(...arguments),this.beanName="pivotColsSvc",this.eventName="columnPivotChanged",this.columnProcessors={set:(e,t,s)=>this.setColPivotActive(e,t,s),add:(e,t,s)=>this.setColPivotActive(e,!0,s),remove:(e,t,s)=>this.setColPivotActive(e,!1,s)},this.columnOrdering={enableProp:"pivot",initialEnableProp:"initialPivot",indexProp:"pivotIndex",initialIndexProp:"initialPivotIndex"},this.columnExtractors={setFlagFunc:(e,t,s)=>this.setColPivotActive(e,t,s),getIndexFunc:e=>e.pivotIndex,getInitialIndexFunc:e=>e.initialPivotIndex,getValueFunc:e=>e.pivot,getInitialValueFunc:e=>e.initialPivot},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>vs(this.columns,e)}}syncColumnWithState(e,t,s,i){const{value1:n,value2:l}=s("pivot","pivotIndex");(n!==void 0||l!==void 0)&&(typeof l=="number"||n?(e.isPivotActive()||(this.setColPivotActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),i&&typeof l=="number"&&(i[e.getId()]=l)):e.isPivotActive()&&(this.setColPivotActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setColPivotActive(e,t,s){e.pivotActive!==t&&(e.pivotActive=t,e.dispatchColEvent("columnPivotChanged",s)),e.dispatchStateUpdatedEvent("pivot")}},nO=class extends pg{constructor(){super(...arguments),this.beanName="rowGroupColsSvc",this.eventName="columnRowGroupChanged",this.columnProcessors={set:(e,t,s)=>this.setActive(t,e,s),add:(e,t,s)=>this.setActive(!0,e,s),remove:(e,t,s)=>this.setActive(!1,e,s)},this.columnOrdering={enableProp:"rowGroup",initialEnableProp:"initialRowGroup",indexProp:"rowGroupIndex",initialIndexProp:"initialRowGroupIndex"},this.columnExtractors={setFlagFunc:(e,t,s)=>this.setColRowGroupActive(e,t,s),getIndexFunc:e=>e.rowGroupIndex,getInitialIndexFunc:e=>e.initialRowGroupIndex,getValueFunc:e=>e.rowGroup,getInitialValueFunc:e=>e.initialRowGroup},this.modifyColumnsNoEventsCallbacks={addCol:e=>this.columns.push(e),removeCol:e=>vs(this.columns,e)}}moveColumn(e,t,s){if(this.columns.length===0)return;const i=this.columns[e],n=this.columns.slice(e,t);this.columns.splice(e,1),this.columns.splice(t,0,i),this.updateIndexMap(),this.eventSvc.dispatchEvent({type:this.eventName,columns:n,column:n.length===1?n[0]:null,source:s})}syncColumnWithState(e,t,s,i){const{value1:n,value2:l}=s("rowGroup","rowGroupIndex");(n!==void 0||l!==void 0)&&(typeof l=="number"||n?(e.isRowGroupActive()||(this.setColRowGroupActive(e,!0,t),this.modifyColumnsNoEventsCallbacks.addCol(e)),i&&typeof l=="number"&&(i[e.getId()]=l)):e.isRowGroupActive()&&(this.setColRowGroupActive(e,!1,t),this.modifyColumnsNoEventsCallbacks.removeCol(e)))}setActive(e,t,s){e!==t.isRowGroupActive()&&(this.setColRowGroupActive(t,e,s),Mw(this.gos,e)&&this.colModel.setColsVisible([t],!e,s))}setColRowGroupActive(e,t,s){e.rowGroupActive!==t&&(e.rowGroupActive=t,e.dispatchColEvent("columnRowGroupChanged",s)),e.dispatchStateUpdatedEvent("rowGroup")}},oO=class extends j{constructor(){super(...arguments),this.beanName="autoColSvc"}postConstruct(){this.addManagedPropertyListener("autoGroupColumnDef",this.updateColumns.bind(this))}addColumns(e){this.columns!=null&&(e.list=this.columns.list.concat(e.list),e.tree=this.columns.tree.concat(e.tree),Hw(e))}createColumns(e,t){var k;const s=this.beans,{colModel:i,gos:n,rowGroupColsSvc:l,colGroupSvc:u}=s,c=i.isPivotMode(),h=cg(n,c),g=c?n.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),f=l==null?void 0:l.columns,v=!(f&&f.length>0||n.get("treeData"))||g||h,w=()=>{this.columns&&(Xi(s,this.columns.tree),this.columns=null)};if(v){w();return}const b=this.generateAutoCols(f),R=Bw(b,((k=this.columns)==null?void 0:k.list)||null),D=e.treeDepth,T=(this.columns?this.columns.treeDepth:-1)==D;if(R&&T)return;w();const F=(u==null?void 0:u.findDepth(e.tree))??0,L=(u==null?void 0:u.balanceTreeForAutoCols(b,F))??[];this.columns={list:b,tree:L,treeDepth:F,map:{}},t(U=>{if(!U)return null;const K=U.filter(ne=>!hg(ne));return[...b,...K]})}updateColumns(e){var s;const t=Ln(e.source);(s=this.columns)==null||s.list.forEach((i,n)=>this.updateOneAutoCol(i,n,t))}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(s=>gg(s,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}generateAutoCols(e=[]){const t=[],s=this.gos.get("treeData");let i=Dw(this.gos);return s&&i&&(re(182),i=!1),i?e.forEach((n,l)=>{t.push(this.createOneAutoCol(n,l))}):t.push(this.createOneAutoCol()),t}isSuppressAutoCol(){const e=this.gos;return e.get("groupDisplayType")==="custom"?!0:e.get("treeDataDisplayType")==="custom"}createOneAutoCol(e,t){let s;e?s=`${_o}-${e.getId()}`:s=_o;const i=this.createAutoColDef(s,e,t);i.colId=s;const n=new Du(i,null,s,!0);return this.createBean(n),n}updateOneAutoCol(e,t,s){const i=e.getColDef(),n=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,l=this.beans,u=n!=null?l.colModel.getColDefCol(n):void 0,c=e.getId(),h=this.createAutoColDef(c,u??void 0,t);e.setColDef(h,null,s),Ds(l,{state:[{colId:c,...h}]},s)}createAutoColDef(e,t,s){let i=this.createBaseColDef(t);const n=this.gos.get("autoGroupColumnDef");Gt(i,n),i=lu(this.beans,i,e,!0),this.gos.get("treeData")||Ze(i.field)&&Ze(i.valueGetter)&&Ze(i.filterValueGetter)&&i.filter!=="agGroupColumnFilter"&&(i.filter=!1),s&&s>0&&(i.headerCheckboxSelection=!1);const l=Bs(this.gos),u=i.valueGetter||i.field!=null;return l&&!u&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(e){var l;const t=this.gos.get("autoGroupColumnDef"),i={headerName:this.getLocaleTextFunc()("group","Group"),showRowGroup:(e==null?void 0:e.getColId())??!0};return t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer",(l=this.beans.findSvc)==null||l.setupGroupCol(i)),e&&(i.headerName=this.beans.colNames.getDisplayNameForColumn(e,"header")??void 0,i.headerValueGetter=e.colDef.headerValueGetter),i}destroy(){var e;Xi(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}},Ny=class extends j{addExpandedCss(e,t){t.isExpandable()&&(e.push("ag-row-group"),e.push(t.expanded?"ag-row-group-expanded":"ag-row-group-contracted"))}getRowExpandedListeners(e){const{rowNode:t}=e,s=this.updateExpandedCss.bind(this,e,t);return{expandedChanged:s,hasChildrenChanged:s}}setExpanded(e,t,s,i){if(e.expanded===t)return;e.expanded=t,e.dispatchRowEvent("expandedChanged");const n={...hb(e,this.gos,"rowGroupOpened"),expanded:t,event:s||null};this.dispatchExpandedEvent(n,i),this.beans.rowRenderer.refreshCells({rowNodes:[e]})}isExpandable(e){return e.footer?!1:this.beans.colModel.isPivotMode()?e.hasChildren()&&!e.leafGroup:e.hasChildren()||e.master}updateExpandedCss(e,t){const s=t.isExpandable(),i=t.expanded==!0;e.forEachGui(void 0,n=>{const l=n.rowComp;l.addOrRemoveCssClass("ag-row-group",s),l.addOrRemoveCssClass("ag-row-group-expanded",s&&i),l.addOrRemoveCssClass("ag-row-group-contracted",s&&!i),Vn(n.element,s&&i)})}},rO=class extends Ny{constructor(){super(...arguments),this.beanName="expansionSvc",this.events=[]}wireBeans(e){this.rowModel=e.rowModel}expandRows(e){const t=new Set(e);this.rowModel.forEachNode(s=>{s.id&&t.has(s.id)&&(s.expanded=!0)}),this.onGroupExpandedOrCollapsed()}expandAll(e){const{gos:t,colModel:s,eventSvc:i}=this.beans,n=this.rowModel,l=t.get("treeData"),u=s.isPivotActive(),c=g=>{g&&g.forEach(f=>{const m=()=>{f.expanded=e,c(f.childrenAfterGroup)};if(l){ge(f.childrenAfterGroup)&&m();return}if(u){!f.leafGroup&&m();return}f.group&&m()})},h=n.rootNode;h&&c(h.childrenAfterGroup),n.refreshModel({step:"map"}),i.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}onGroupExpandedOrCollapsed(){this.rowModel.refreshModel({step:"map"})}dispatchExpandedEvent(e,t){this.events.push(e);const s=()=>{this.rowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventSvc.dispatchEvent(i)),this.events=[]};t?s():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.debounce(s)),this.dispatchExpandedDebounced())}debounce(e){const t=this.beans.animationFrameSvc;if(!t)return()=>window.setTimeout(e,0);let s=!1;return()=>{if(!t.active){window.setTimeout(e,0);return}s||(s=!0,t.addDestroyTask(()=>{s=!1,e()}))}}};function lO(e){let t=e.get("groupHideParentOfSingleChild");return t||(t=e.get("groupRemoveSingleChildren"),!t&&e.get("groupRemoveLowestSingleChildren")&&(t="leafGroupsOnly")),{groupHideParentOfSingleChild:t,isGroupMultiAutoColumn:Dw(e),hideOpenParents:e.get("groupHideOpenParents"),grandTotalRow:ug(e),groupTotalRow:Ho(e)}}function aO(e,t,s){return e.groupHideParentOfSingleChild===!0&&s&&t.childrenAfterGroup.length===1}function uO(e,t,s){return e.groupHideParentOfSingleChild==="leafGroupsOnly"&&s&&t.leafGroup&&t.childrenAfterGroup.length===1}function cO(e,t,s,i,n,l){const u=i&&!s,c=i&&t.leafGroup,h=e.hideOpenParents&&t.expanded&&!t.master&&!c;return!u&&!h&&!n&&!l}var dO=class extends j{constructor(){super(...arguments),this.beanName="flattenStage",this.refreshProps=new Set(["groupHideParentOfSingleChild","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupTotalRow","masterDetail"]),this.step="map"}execute(e){const t=e.rowNode,s=[],i=this.beans.colModel.isPivotMode(),n=i&&t.leafGroup&&t.aggData,l=n?[t]:t.childrenAfterSort,u=lO(this.gos);this.recursivelyAddToRowsToDisplay(u,l,s,i,0);const c=s.length>0;if(!n&&c&&u.grandTotalRow){hi(t,this.beans);const g=u.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(u,t.sibling,s,0,g)}return s}recursivelyAddToRowsToDisplay(e,t,s,i,n){var l;if(t!=null&&t.length)for(let u=0;u<t.length;u++){const c=t[u],h=c.hasChildren(),g=aO(e,c,h),f=uO(e,c,h);if(cO(e,c,h,i,g,f)&&this.addRowNodeToRowsToDisplay(e,c,s,n),!(i&&c.leafGroup))if(h){const v=g||f;if(c.expanded||v){const w=e.groupTotalRow({node:c});w||Og(c);const b=v?n:n+1;w==="top"&&(hi(c,this.beans),this.addRowNodeToRowsToDisplay(e,c.sibling,s,b)),this.recursivelyAddToRowsToDisplay(e,c.childrenAfterSort,s,i,b),w==="bottom"&&(hi(c,this.beans),this.addRowNodeToRowsToDisplay(e,c.sibling,s,b))}}else{const v=(l=this.beans.masterDetailSvc)==null?void 0:l.getDetail(c);v&&this.addRowNodeToRowsToDisplay(e,v,s,n)}}}addRowNodeToRowsToDisplay(e,t,s,i,n){n?s.unshift(t):s.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}},hO=class extends j{constructor(){super(...arguments),this.beanName="groupStage",this.refreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType","treeData","treeDataChildrenField","treeDataParentIdField"]),this.step="group",this.approach=null,this.strategy=void 0}destroy(){super.destroy(),this.strategy=void 0,this.approach=null}createStrategy(){const{beans:e,approach:t}=this;let s;switch(t){case"treeSelfRef":s="treeParentIdStrategy";break;case"group":s="groupStrategy";break}if(s){const i=e.registry.createDynamicBean(s,!1);return this.createOptionalManagedBean(i),i}}execute(e){let t=this.strategy;const s=g0(this.gos);return this.approach!==s&&(this.approach=s,this.destroyBean(t),t&&this.approach!=="treeNested"&&this.approach!=="treePath"&&gO(e.rowNode),t=this.createStrategy(),this.strategy=t),t==null||t.execute(e),!!t}},gO=e=>{const t=e.allLeafChildren,s=e.sibling;e.treeNodeFlags=0,e.childrenAfterGroup=t,e.childrenMapped=null,e.groupData=null,s&&(s.childrenAfterGroup=e.childrenAfterGroup,s.childrenAfterAggFilter=e.childrenAfterAggFilter,s.childrenAfterFilter=e.childrenAfterFilter,s.childrenAfterSort=e.childrenAfterSort,s.childrenMapped=null,s.groupData=null);for(const i of t){const n=i.sibling;kv(i),n&&kv(n),i.parent=e,i.level=0,i.key=null,i.treeNodeFlags=0,(i.group||i.hasChildren())&&(i.group=!1,i.updateHasChildren())}e.updateHasChildren()},kv=e=>{e.allLeafChildren=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.groupData&&(e.groupData=null)};function qh(e,t,s){var u,c;let i=e;const n=i.level-t.level;if(n<=0||!s.get("groupHideOpenParents"))return!1;for(let h=0;h<n;h++){if(!(((c=(u=i.parent)==null?void 0:u.childrenAfterSort)==null?void 0:c[0])===i))return!1;i=i.parent}return i===t}function Nv(e,t,s,i){const n=s.key==="",l=!!s.rowGroupColumn&&(!e||(e==null?void 0:e.isRowGroupDisplayed(s.rowGroupColumn.getId())));if(n&&l){const u=qh(t,s,i.gos);if(s===t||u)return Qh(i.localeSvc)("blanks","(Blanks)")}return null}var By=class extends j{constructor(){super(...arguments),this.indentClass=null}init(e,t,s,i,n,l,u){this.params=u,this.eGui=t,this.eCheckbox=s,this.eExpanded=i,this.eContracted=n,this.comp=e,this.compClass=l;const{node:c,column:h}=u;if(this.node=c,this.displayedNode=c,!this.isEmbeddedRowMismatch()){if(c.footer){this.initFooterCell();return}if(!h){this.initFullWidthCell();return}this.displayedNode=this.beans.valueSvc.getDisplayedNode(c,h)??this.node,this.setupExpand(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}}initFooterCell(){const{node:e,column:t}=this.params,s=e.level===-1;!(e.rowGroupColumn&&t&&t.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&!s||(this.addFooterValue(),this.setupIndent(),s||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!0))}initFullWidthCell(){const e=()=>{const{rowDragSvc:t}=this.beans;if(!this.params.rowDrag||!t)return;const s=t.createRowDragComp(()=>this.params.value,this.params.node);this.createManagedBean(s),this.eGui.insertAdjacentElement("afterbegin",s.getGui())};this.setupExpand(),e(),this.setupCheckbox(),this.addGroupValue(),this.setupIndent()}getCellAriaRole(){var s,i;const e=(s=this.params.colDef)==null?void 0:s.cellAriaRole,t=(i=this.params.column)==null?void 0:i.getColDef().cellAriaRole;return e||t||"gridcell"}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const{visibleCols:e}=this.beans,t=this.params.pinned==="left",s=this.params.pinned==="right",i=!t&&!s;return this.gos.get("enableRtl")?e.isPinningLeft()?!s:!i:e.isPinningLeft()?!t:!i}addGroupValue(){const{params:{column:e,value:t},node:s,displayedNode:i,beans:n}=this,l=this.getFormattedValue()??Nv(e,s,i,n),u=this.getInnerCompDetails(l);this.comp.setInnerRenderer(u,l??t??null)}getFormattedValue(){const{valueSvc:e}=this.beans,{value:t,valueFormatted:s,column:i}=this.params,{rowGroupColumn:n}=this.displayedNode;return!n||!i?s:i!=null&&i.isRowGroupDisplayed(n.getId())?e.formatValue(n,this.node,t):null}addFooterValue(){const{expressionSvc:e,footerSvc:t}=this.beans,{totalValueGetter:s,column:i,node:n,value:l}=this.params,u=this.getFormattedValue()??Nv(i,n,n,this.beans);let c="";s?typeof s=="function"?c=s({...this.params,valueFormatted:u}):typeof s=="string"?c=e==null?void 0:e.evaluate(s,{...this.params,valueFormatted:u}):re(179):c=t==null?void 0:t.getTotalValue(u??l);const h=this.getInnerCompDetails(u);this.comp.setInnerRenderer(h,c??"")}setupExpand(){const{colModel:e}=this.beans,{eGridCell:t,column:s,suppressDoubleClickExpand:i}=this.params,n=(g,f)=>{const m=ve(g,this.beans,null);m&&(f.appendChild(m),this.addDestroyFunc(()=>f.removeChild(m)))};n("groupExpanded",this.eExpanded),n("groupContracted",this.eContracted);const l=this.comp,u=()=>{if(!this.isExpandable())return;const f=this.displayedNode.expanded;l.setExpandedDisplayed(f),l.setContractedDisplayed(!f),Vn(t,!!this.displayedNode.expanded)},c=()=>{const g=this.isExpandable();l.addOrRemoveCssClass("ag-cell-expandable",g),l.addOrRemoveCssClass("ag-row-group",g);const f=!g&&e.isPivotMode();l.addOrRemoveCssClass("ag-pivot-leaf-group",f);const m=!e.isPivotMode()&&(!this.displayedNode.footer||this.displayedNode.level!==-1);l.addOrRemoveCssClass("ag-row-group-leaf-indent",!g&&m);const v=this.getChildCount(),w=v>0?`(${v})`:"";l.setChildCount(w),g?u():(l.setExpandedDisplayed(!1),l.setContractedDisplayed(!1),Ex(t))};(()=>{!((s==null?void 0:s.isCellEditable(this.displayedNode))&&this.gos.get("enableGroupEdit"))&&!i&&this.addManagedListeners(t,{dblclick:this.onCellDblClicked.bind(this)}),this.addManagedListeners(this.eExpanded,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(this.eContracted,{click:this.onExpandClicked.bind(this)}),this.addManagedListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedListeners(this.displayedNode,{allChildrenCountChanged:c,masterChanged:c,groupChanged:c,hasChildrenChanged:c,expandedChanged:u})})(),c()}getInnerCompDetails(e){var g,f;const{userCompFactory:t,findSvc:s}=this.beans,i={...this.params,valueFormatted:e};if(i.fullWidth){const m=this.gos.get("groupRowRendererParams"),v=Pa(t,m,i);return v||(s!=null&&s.isMatch(i.node,null)?Pa(t,{...m,innerRenderer:"agFindCellRenderer"},i):void 0)}const n=m=>m&&m.componentClass==this.compClass,l=Pa(t,i,i);if(l&&!n(l))return l;const{displayedNode:{rowGroupColumn:u}}=this,c=u==null?void 0:u.colDef,h=u&&((g=i.column)==null?void 0:g.isRowGroupDisplayed(u.getId()));if(c&&h){const m=uu(t,c,i);if(m)if(n(m)){if((f=c==null?void 0:c.cellRendererParams)!=null&&f.innerRenderer)return Pa(t,c.cellRendererParams,i)}else return m}if(s!=null&&s.isMatch(i.node,i.column))return uu(t,{...c??i.colDef,cellRenderer:"agFindCellRenderer"},i)}getChildCount(){const{column:e,suppressCount:t}=this.params;if(t)return 0;const{allChildrenCount:s,rowGroupColumn:i}=this.displayedNode;return!((s??0)>0&&(!i||!e||(e==null?void 0:e.isRowGroupDisplayed(i.getId()))))||this.gos.get("showOpenedGroup")&&this.displayedNode!==this.node&&!qh(this.node,this.displayedNode,this.gos)?0:s??0}isExpandable(){const{node:e,column:t,colDef:s}=this.params;if(!this.displayedNode.isExpandable())return!1;if(!t)return!0;if(e.hasChildren()&&s){const{showRowGroup:l}=s;if(!l)return!1;if(l===!0)return!0}return e===this.displayedNode?e.rowGroupColumn&&(t==null?void 0:t.isRowGroupDisplayed(e.rowGroupColumn.getId()))?!0:e.master?(s==null?void 0:s.showRowGroup)===!0||(s==null?void 0:s.showRowGroup)==null:!1:qh(this.node,this.displayedNode,this.gos)}setupIndent(){const{suppressPadding:e,node:t,colDef:s}=this.params;if(e)return;const i=()=>{let n=0;s&&s.showRowGroup!==!0?n=0:n=t.uiLevel;const l="ag-row-group-indent-"+n;l!==this.indentClass&&(this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass=l,this.comp.addOrRemoveCssClass(l,!0),this.eGui.style.setProperty("--ag-indentation-level",String(n)))};this.addManagedListeners(t,{uiLevelChanged:i.bind(this)}),i()}setupCheckbox(){const{node:e}=this.params;!e.footer&&!e.rowPinned&&!e.detail&&(this.addManagedPropertyListener("rowSelection",({currentValue:s,previousValue:i})=>{const n=typeof s=="object"?s:void 0,l=typeof i=="object"?i:void 0;(n==null?void 0:n.checkboxLocation)!==(l==null?void 0:l.checkboxLocation)&&(this.destroyCheckbox(),this.addCheckbox())}),this.addCheckbox())}addCheckbox(){const{selectionSvc:e}=this.beans;if(!e||!Hs(this.gos))return;const{node:t,column:s}=this.params,i=this.gos.get("rowSelection"),n=nl(i);if(n==="selectionColumn")return;if(n==="autoGroupColumn"){const g=(s==null?void 0:s.getColDef().showRowGroup)!=null,f=!s&&t.group;if(!(g||f))return}const l=typeof i=="object"?Pn(i):this.params.checkbox;if(!(typeof l=="function"||l===!0))return;if(typeof(s==null?void 0:s.getColDef().showRowGroup)=="string"&&!this.isExpandable()){this.comp.setCheckboxSpacing(!0);return}const h=e.createCheckboxSelectionComponent();this.cbComp=h,this.createBean(h),h.init({rowNode:t,column:s,overrides:{isVisible:l,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(h.getGui()),this.comp.setCheckboxVisible(!0)}destroyCheckbox(){this.comp.setCheckboxSpacing(!1),this.comp.setCheckboxVisible(!1),this.cbComp&&this.eCheckbox.removeChild(this.cbComp.getGui()),this.cbComp=this.destroyBean(this.cbComp)}onExpandClicked(e){xs(e)||(_s(e),this.onExpandOrContract(e))}onKeyDown(e){!(e.key===W.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(xs(e))return;Gh(this.eExpanded,e)||Gh(this.eContracted,e)||this.onExpandOrContract(e)}onExpandOrContract(e){if(!this.isExpandable())return;const t=this.displayedNode,s=!t.expanded;!s&&t.sticky&&this.beans.ctrlsSvc.getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop),t.setExpanded(s,e)}destroy(){super.destroy(),this.destroyCheckbox()}},pO={tag:"span",cls:"ag-cell-wrapper",children:[{tag:"span",ref:"eExpanded",cls:"ag-group-expanded ag-hidden"},{tag:"span",ref:"eContracted",cls:"ag-group-contracted ag-hidden"},{tag:"span",ref:"eCheckbox",cls:"ag-group-checkbox ag-invisible"},{tag:"span",ref:"eValue",cls:"ag-group-value"},{tag:"span",ref:"eChildCount",cls:"ag-group-child-count"}]},Bv=class extends Me{constructor(){super(pO),this.eExpanded=ae,this.eContracted=ae,this.eCheckbox=ae,this.eValue=ae,this.eChildCount=ae}init(e){const t={setInnerRenderer:(l,u)=>this.setRenderDetails(l,u),setChildCount:l=>this.eChildCount.textContent=l,addOrRemoveCssClass:(l,u)=>this.addOrRemoveCssClass(l,u),setContractedDisplayed:l=>Pe(this.eContracted,l),setExpandedDisplayed:l=>Pe(this.eExpanded,l),setCheckboxVisible:l=>this.eCheckbox.classList.toggle("ag-invisible",!l),setCheckboxSpacing:l=>this.eCheckbox.classList.toggle("ag-group-checkbox-spacing",l)},s=this.createManagedBean(new By),i=!e.colDef,n=this.getGui();s.init(t,n,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),i&&gs(n,s.getCellAriaRole())}setRenderDetails(e,t){e?e.newAgStackInstance().then(s=>{if(!s)return;const i=()=>this.destroyBean(s);this.isAlive()?(this.eValue.appendChild(s.getGui()),this.addDestroyFunc(i)):i()}):this.eValue.innerText=t}destroy(){this.destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}},fO=".ag-group-checkbox-spacing{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-group-checkbox-spacing{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-checkbox-spacing{margin-left:var(--ag-cell-widget-spacing)}",mO=class extends j{constructor(){super(...arguments),this.beanName="showRowGroupCols"}refresh(){this.showRowGroupCols=[],this.showRowGroupColsMap={};const{colModel:e,rowGroupColsSvc:t}=this.beans;e.getCols().forEach(s=>{const n=s.getColDef().showRowGroup,l=typeof n=="string";!l&&!(n===!0)||(this.showRowGroupCols.push(s),l?this.showRowGroupColsMap[n]=s:t&&t.columns.forEach(c=>{this.showRowGroupColsMap[c.getId()]=s}))})}getShowRowGroupCols(){return this.showRowGroupCols}getShowRowGroupCol(e){return this.showRowGroupColsMap[e]}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;const{rowGroupColsSvc:s,colModel:i}=this.beans;if(t===!0&&s)return s.columns.slice(0);const n=i.getColDefCol(t);return n?[n]:null}isRowGroupDisplayed(e,t){const{colDef:s}=e;if((s==null?void 0:s.showRowGroup)==null)return!1;const i=s.showRowGroup===!0,n=s.showRowGroup===t;return i||n}},CO=class extends j{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}postConstruct(){this.isClientSide=fi(this.gos),this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventSvc.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getLastPixelOfGroup(e){return this.isClientSide?wO(e):vO(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}updateStickyRows(e){const t=e==="top";let s=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,s);const{rowModel:i,rowRenderer:n}=this.beans,l=t?n.firstVisibleVPixel-this.extraTopHeight:n.lastVisibleVPixel-this.extraTopHeight,u=new Set,c=m=>{if(u.add(m),t){const v=this.getLastPixelOfGroup(m),w=l+s+m.rowHeight;v<w?m.stickyRowTop=s+(v-w):m.stickyRowTop=s}else{const v=this.getFirstPixelOfGroup(m),w=l-(s+m.rowHeight);v>w?m.stickyRowTop=s-(v-w):m.stickyRowTop=s}s=0,u.forEach(v=>{const w=v.stickyRowTop+v.rowHeight;s<w&&(s=w)})},h=this.areFooterRowsStickySuppressed(),g=this.gos.get("suppressGroupRowsSticky"),f=m=>{if(!m.displayed)return!1;if(m.footer){if(h===!0||h==="grand"&&m.level===-1||h==="group"&&m.level>-1)return!1;const v=m.sibling.rowIndex?m.sibling.rowIndex+1===m.rowIndex:!1;return e==="bottom"&&v?!1:!u.has(m)}return m.isExpandable()?g===!0||e==="bottom"?!1:!u.has(m)&&m.expanded:!1};for(let m=0;m<100;m++){let v=l+s;t||(v=l-s);const w=i.getRowIndexAtPixel(v),b=i.getRow(w);if(b==null)break;const D=this.getStickyAncestors(b).find(T=>(t?T.rowIndex<w:T.rowIndex>w)&&f(T));if(D){c(D);continue}if((t?b.rowTop<v:b.rowTop+b.rowHeight>v)&&f(b)){c(b);continue}break}return t||u.forEach(m=>{m.stickyRowTop=s-(m.stickyRowTop+m.rowHeight)}),this.refreshNodesAndContainerHeight(e,u,s)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=e==="group",s=e==="grand";return t&&s?!0:s?"grand":t?"group":!1}canRowsBeSticky(){const e=xu(this.gos),t=this.areFooterRowsStickySuppressed(),s=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!s)}getStickyAncestors(e){const t=[];let s=e.footer?e.sibling:e.parent;for(;s;)s.sibling&&t.push(s.sibling),t.push(s),s=s.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(s=>s.rowNode===e)){for(let s=0;s<this.stickyTopRowCtrls.length;s++){const i=this.stickyTopRowCtrls[s].rowNode;i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let s=0;s<this.stickyBottomRowCtrls.length;s++){const i=this.stickyBottomRowCtrls[s].rowNode;i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,s){const i=e==="top",n=i?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,l={},u=[];for(let w=0;w<n.length;w++){const b=n[w].rowNode;if(!t.has(b)){l[b.id]=n[w],b.sticky=!1;continue}u.push(n[w])}const c=new Set;for(let w=0;w<u.length;w++)c.add(u[w].rowNode);const h=[];t.forEach(w=>{c.has(w)||(w.sticky=!0,h.push(this.createRowCon(w,!1,!1)))});let g=!!h.length||u.length!==n.length;i?this.topContainerHeight!==s&&(this.topContainerHeight=s,this.gridBodyCtrl.setStickyTopHeight(s),g=!0):this.bottomContainerHeight!==s&&(this.bottomContainerHeight=s,this.gridBodyCtrl.setStickyBottomHeight(s),g=!0),this.destroyRowCtrls(l,!1);const f=[...u,...h];f.sort((w,b)=>b.rowNode.rowIndex-w.rowNode.rowIndex),i||f.reverse(),f.forEach(w=>w.setRowTop(w.rowNode.stickyRowTop));const m=this.beans.pageBounds;let v=0;return i?(t.forEach(w=>{w.rowIndex<m.getFirstRow()&&(v+=w.rowHeight)}),v>this.topContainerHeight&&(v=this.topContainerHeight),this.setOffsetTop(v)):(t.forEach(w=>{w.rowIndex>m.getLastRow()&&(v+=w.rowHeight)}),v>this.bottomContainerHeight&&(v=this.bottomContainerHeight),this.setOffsetBottom(v)),g?(i?this.stickyTopRowCtrls=f:this.stickyBottomRowCtrls=f,!0):!1}ensureRowHeightsValid(){let e=!1;const t=s=>{const i=s.rowNode;if(i.rowHeightEstimated){const n=Ns(this.beans,i);i.setRowHeight(n.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}};function vO(e){var t,s;if(e.isExpandable()||e.footer){if(e.master&&e.detailNode)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(n=(s=e.sibling.childStore)==null?void 0:s.getStoreBounds()),((n==null?void 0:n.heightPx)??0)+((n==null?void 0:n.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}function wO(e){if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let i=e.footer?e.sibling:e;for(;i.isExpandable()&&i.expanded;)if(i.master&&i.detailNode)i=i.detailNode;else if(i.childrenAfterSort){if(i.childrenAfterSort.length===0)break;i=Le(i.childrenAfterSort)}return i.rowTop+i.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}var bO=class extends j{constructor(){super(...arguments),this.beanName="stickyRowSvc"}createStickyRowFeature(e,t,s){const i=this.gos;if(xu(i)&&fi(i)||Cs(i))return e.createManagedBean(new CO(t,s))}},yO={moduleName:"GroupCellRenderer",version:ut,userComponents:{agGroupRowRenderer:Bv,agGroupCellRenderer:Bv},dynamicBeans:{groupCellRendererCtrl:By},icons:{groupContracted:"tree-closed",groupExpanded:"tree-open"},css:[fO],dependsOn:[Qt]},Hy={moduleName:"GroupColumn",version:ut,beans:[oO,mO,nO,ky,Oy],dependsOn:[Qt,yO]},SO={moduleName:"ClientSideRowModelHierarchy",version:ut,rowModels:["clientSide"],beans:[hO,dO,rO],dependsOn:[Qt]},zy={moduleName:"StickyRow",version:ut,beans:[bO]};function RO(e,t){var s;(s=e.rowGroupColsSvc)==null||s.setColumns(t,"api")}function xO(e,t){var s;(s=e.rowGroupColsSvc)==null||s.removeColumns(t,"api")}function DO(e,t){var s;(s=e.rowGroupColsSvc)==null||s.addColumns(t,"api")}function MO(e,t,s){var i,n;(n=(i=e.rowGroupColsSvc)==null?void 0:i.moveColumn)==null||n.call(i,t,s,"api")}function EO(e){var t;return((t=e.rowGroupColsSvc)==null?void 0:t.columns)??[]}var AO={moduleName:"SharedRowGrouping",version:ut,apiFunctions:{setRowGroupColumns:RO,removeRowGroupColumns:xO,addRowGroupColumns:DO,getRowGroupColumns:EO,moveRowGroupColumn:MO},dependsOn:[Qt,kg,Hy,zy]},TO={tag:"div",cls:"ag-loading",children:[{tag:"span",ref:"eLoadingIcon",cls:"ag-loading-icon"},{tag:"span",ref:"eLoadingText",cls:"ag-loading-text"}]},FO=class extends Me{constructor(){super(TO),this.eLoadingIcon=ae,this.eLoadingText=ae}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=ve("groupLoading",this.beans,null);e&&this.eLoadingIcon.appendChild(e);const t=this.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}},PO={tag:"div",cls:"ag-skeleton-container"},LO=class extends Me{constructor(){super(PO)}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>sl(e.eParentOfValue)),sl(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Xt(this.getGui(),t)}setupLoading(e){const s=lt(this.beans).createElement("div");s.classList.add("ag-skeleton-effect");const i=e.node.rowIndex;if(i!=null){const u=75+25*(i%2===0?Math.sin(i):Math.cos(i));s.style.width=`${u}%`}this.getGui().appendChild(s);const l=this.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Xt(this.getGui(),l)}refresh(e){return!1}},IO={moduleName:"LoadingCellRenderer",version:ut,userComponents:{agLoadingCellRenderer:FO},icons:{groupLoading:"loading"},dependsOn:[Qt]},GO={moduleName:"SkeletonCellRenderer",version:ut,userComponents:{agSkeletonCellRenderer:LO},dependsOn:[Qt]};function OO(e){return e.colModel.isPivotMode()}function kO(e,t,s){var i;return((i=e.pivotResultCols)==null?void 0:i.lookupPivotResultCol(t,s))??null}function NO(e,t){var s;(s=e.valueColsSvc)==null||s.setColumns(t,"api")}function BO(e){var t;return((t=e.valueColsSvc)==null?void 0:t.columns)??[]}function HO(e,t){var s;(s=e.valueColsSvc)==null||s.removeColumns(t,"api")}function zO(e,t){var s;(s=e.valueColsSvc)==null||s.addColumns(t,"api")}function VO(e,t){var s;(s=e.pivotColsSvc)==null||s.setColumns(t,"api")}function _O(e,t){var s;(s=e.pivotColsSvc)==null||s.removeColumns(t,"api")}function WO(e,t){var s;(s=e.pivotColsSvc)==null||s.addColumns(t,"api")}function UO(e){var t;return((t=e.pivotColsSvc)==null?void 0:t.columns)??[]}function jO(e,t){var s;(s=e.pivotResultCols)==null||s.setPivotResultCols(t,"api")}function KO(e){var s;const t=(s=e.pivotResultCols)==null?void 0:s.getPivotResultCols();return t?t.list:null}var Hv="PivotRowTotal_",YO=({headerName:e},{headerName:t})=>e&&!t?1:!e&&t?-1:!e&&!t?0:e<t?-1:e>t?1:0,qO=e=>(t,s)=>e(t.headerName,s.headerName),$O=class extends j{constructor(){super(...arguments),this.beanName="pivotColDefSvc"}wireBeans(e){this.colModel=e.colModel,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.colNames=e.colNames}postConstruct(){const e=()=>this.gos.get("serverSidePivotResultFieldSeparator")??"_";this.fieldSeparator=e(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",()=>{this.fieldSeparator=e()});const t=()=>this.gos.get("pivotDefaultExpanded");this.pivotDefaultExpanded=t(),this.addManagedPropertyListener("pivotDefaultExpanded",()=>{this.pivotDefaultExpanded=t()})}createPivotColumnDefs(e){const t=this.createPivotColumnsFromUniqueValues(e);function s(l,u=[]){return l.forEach(c=>{c.children!==void 0?s(c.children,u):u.push(c)}),u}const i=s(t);this.addRowGroupTotals(t,i),this.addExpandablePivotGroups(t,i),this.addPivotTotalsToGroups(t,i);const n=i.map(l=>({...l}));return{pivotColumnGroupDefs:t,pivotColumnDefs:n}}createPivotColumnsFromUniqueValues(e){var n;const t=((n=this.pivotColsSvc)==null?void 0:n.columns)??[],s=t.length;return this.recursivelyBuildGroup(0,e,[],s,t)}recursivelyBuildGroup(e,t,s,i,n){var g;if(e>=i)return this.buildMeasureCols(s);const{pivotComparator:l}=n[e].getColDef(),u=l?qO(l):YO,c=(g=this.valueColsSvc)==null?void 0:g.columns;if((c==null?void 0:c.length)===1&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&e===i-1){const f=[];for(const m of t.keys()){const v=[...s,m],w=this.createColDef(c[0],m,v);w.columnGroupShow="open",f.push(w)}return f.sort(u),f}const h=[];for(const f of t.keys()){const m=this.pivotDefaultExpanded===-1||e<this.pivotDefaultExpanded,v=[...s,f];h.push({children:this.recursivelyBuildGroup(e+1,t.get(f),v,i,n),headerName:f,pivotKeys:v,columnGroupShow:"open",openByDefault:m,groupId:this.generateColumnGroupId(v)})}return h.sort(u),h}buildMeasureCols(e){var s;const t=((s=this.valueColsSvc)==null?void 0:s.columns)??[];return t.length===0?[this.createColDef(null,"-",e)]:t.map(i=>{const n=this.colNames.getDisplayNameForColumn(i,"header");return{...this.createColDef(i,n,e),columnGroupShow:"open"}})}addExpandablePivotGroups(e,t){const s=this.gos.get("suppressExpandablePivotGroups");if(s||this.gos.get("pivotColumnGroupTotals"))return;const i=(n,l,u)=>{if("children"in n){const{valueColsSvc:g}=this,{columns:f=[]}=g??{},m=new Map;n.children.forEach(b=>{i(b,l,m)});const v=!n.children.some(b=>b.children),w=v&&f.length===1&&this.gos.get("removePivotHeaderRowWhenSingleValueColumn");f.forEach(b=>{const R=this.colNames.getDisplayNameForColumn(b,"header"),D=this.createColDef(b,R,n.pivotKeys);D.pivotTotalColumnIds=m.get(b.getColId()),D.columnGroupShow=s?"open":"closed",D.aggFunc=b.getAggFunc(),(!v||w)&&(n.children.push(D),l.push(D))}),this.merge(u,m);return}if(!n.pivotValueColumn)return;const c=n.pivotValueColumn.getColId();u.has(c)?u.get(c).push(n.colId):u.set(c,[n.colId])};e.forEach(n=>{i(n,t,new Map)})}addPivotTotalsToGroups(e,t){var l;if(!this.gos.get("pivotColumnGroupTotals"))return;const s=this.gos.get("pivotColumnGroupTotals")==="after",i=(l=this.valueColsSvc)==null?void 0:l.columns,n=i==null?void 0:i.map(u=>u.getAggFunc());if(!(!n||n.length<1||!this.sameAggFuncs(n))&&i){const u=i[0];e.forEach(c=>{this.recursivelyAddPivotTotal(c,t,u,s)})}}recursivelyAddPivotTotal(e,t,s,i){const n=e;if(!n.children){const u=e;return u.colId?[u.colId]:null}let l=[];if(n.children.forEach(u=>{const c=this.recursivelyAddPivotTotal(u,t,s,i);c&&(l=l.concat(c))}),n.children.length>1){const c=this.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),h=this.createColDef(s,c,e.pivotKeys,!0);h.pivotTotalColumnIds=l,h.aggFunc=s.getAggFunc(),h.columnGroupShow=this.gos.get("suppressExpandablePivotGroups")?"open":void 0;const g=e.children;i?g.push(h):g.unshift(h),t.push(h)}return l}addRowGroupTotals(e,t){var u;if(!this.gos.get("pivotRowTotals"))return;const s=this.gos.get("pivotRowTotals")==="after",n=(((u=this.valueColsSvc)==null?void 0:u.columns)??[]).slice();s||n.reverse();const l=n.length>1||!this.gos.get("removePivotHeaderRowWhenSingleValueColumn");for(let c=0;c<n.length;c++){const h=n[c],g=this.colNames.getDisplayNameForColumn(h,"header"),f=this.createColDef(h,g,[]),m=[];for(let w=0;w<t.length;w++){const b=t[w];b.pivotValueColumn===h&&m.push(b.colId)}f.pivotTotalColumnIds=m,f.colId=Hv+f.colId;const v=l?{children:[f],pivotKeys:[],groupId:`${Hv}_pivotGroup_${h.getColId()}`}:f;t.push(f),s?e.push(v):e.unshift(v)}}createColDef(e,t,s,i=!1){const n={};if(e){const l=e.getColDef();Object.assign(n,l),n.hide=!1}return n.headerName=t,n.colId=this.generateColumnId(s||[],e&&!i?e.getColId():""),n.field=n.colId,n.valueGetter=l=>{var u;return(u=l.data)==null?void 0:u[l.colDef.field]},n.pivotKeys=s,n.pivotValueColumn=e,n.filter===!0&&(n.filter="agNumberColumnFilter"),n}sameAggFuncs(e){if(e.length==1)return!0;for(let t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0}merge(e,t){t.forEach((s,i)=>{const l=[...e.has(i)?e.get(i):[],...s];e.set(i,l)})}generateColumnGroupId(e){var s;return`pivotGroup_${(((s=this.pivotColsSvc)==null?void 0:s.columns)??[]).map(i=>i.getColId()).join("-")}_${e.join("-")}`}generateColumnId(e,t){var i;return`pivot_${(((i=this.pivotColsSvc)==null?void 0:i.columns)??[]).map(n=>n.getColId()).join("-")}_${e.join("-")}_${t}`}createColDefsFromFields(e){const t={};for(let n=0;n<e.length;n++){const u=e[n].split(this.fieldSeparator);let c=t;for(let h=0;h<u.length;h++){const g=u[h];c[g]==null&&(c[g]={}),c=c[g]}}const s=(n,l,u,c)=>{const h=[];for(const m of Object.keys(u)){const v=u[m],w=s(`${n}${this.fieldSeparator}${m}`,m,v,c+1);h.push(w)}if(h.length===0){const m=this.colModel.getColDefCol(l);if(m){const w=this.colNames.getDisplayNameForColumn(m,"header")??l,b=this.createColDef(m,w,void 0,!1);return b.colId=n,b.aggFunc=m.getAggFunc(),b.valueGetter=R=>{var D;return(D=R.data)==null?void 0:D[n]},b}return{colId:n,headerName:l,valueGetter:w=>{var b;return(b=w.data)==null?void 0:b[n]}}}return this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&h.length===1&&"colId"in h[0]?(h[0].headerName=l,h[0]):{openByDefault:this.pivotDefaultExpanded===-1||c<this.pivotDefaultExpanded,groupId:n,headerName:l,children:h}},i=[];for(const n of Object.keys(t)){const l=t[n],u=s(n,n,l,0);i.push(u)}return i}},ZO=class extends j{constructor(){super(...arguments),this.beanName="pivotResultCols"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols}destroy(){var e;Xi(this.beans,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const s=this.colModel.getColDefCol(t);let i=null;return this.pivotResultCols.list.forEach(n=>{const l=n.getColDef().pivotKeys,u=n.getColDef().pivotValueColumn;_n(l,e)&&u===s&&(i=n)}),i}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.colModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var s,i;if(this.colModel.ready&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const n=zw(this.beans,e,!1,((s=this.pivotResultCols)==null?void 0:s.tree)||this.previousPivotResultCols||void 0,t);Xi(this.beans,(i=this.pivotResultCols)==null?void 0:i.tree,n.columnTree);const l=n.columnTree,u=n.treeDept,c=dg(l),h={};this.pivotResultCols={tree:l,treeDepth:u,list:c,map:h},this.pivotResultCols.list.forEach(f=>this.pivotResultCols.map[f.getId()]=f);const g=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.colModel.refreshCols(!g)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.colModel.refreshCols(!1);this.visibleCols.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),s=this.gos.get("processPivotResultColGroupDef");if(!t&&!s)return;const i=n=>{n.forEach(l=>{if(ge(l.children)){const c=l;s&&s(c),i(c.children)}else t&&t(l)})};e&&i(e)}},XO={moduleName:"SharedPivot",version:ut,beans:[ZO,$O,ky],apiFunctions:{isPivotMode:OO,getPivotResultColumn:kO,setValueColumns:NO,getValueColumns:BO,removeValueColumns:HO,addValueColumns:zO,setPivotColumns:VO,removePivotColumns:_O,addPivotColumns:WO,getPivotColumns:UO,setPivotResultColumns:jO,getPivotResultColumns:KO},dependsOn:[AO,Bb]},QO=(e,t)=>e.treeNode.sourceIdx-t.treeNode.sourceIdx,JO=En.values(),ek=class $h{constructor(t,s){this.parent=t,this.key=s,this.children=null,this.invalidatedHead=null,this.invalidatedNext=void 0,this.row=null,this.oldRow=null,this.duplicateRows=null,this.childrenAfterGroup=En,this.allLeafChildren=null,this.childrenChanged=!1,this.leafChildrenChanged=!1,this.sourceIdx=-1}get size(){var t;return((t=this.children)==null?void 0:t.size)??0}isEmptyFillerNode(){var t,s;return!((t=this.row)!=null&&t.data)&&!((s=this.children)!=null&&s.size)}enumChildren(){var t;return((t=this.children)==null?void 0:t.values())??JO}upsertKey(t){var i,n;typeof t!="string"&&(t=String(t));let s=(i=this.children)==null?void 0:i.get(t);return s||(s=new $h(this,t),(n=this.children??(this.children=new Map))==null||n.set(s.key,s)),s}appendKey(t){var n;const s=this.children;typeof t!="string"&&(t=String(t));let i=s==null?void 0:s.get(t);return i?(s.delete(t),s.set(t,i)):(i=new $h(this,t),(n=this.children??(this.children=new Map))==null||n.set(i.key,i)),i}destroy(){var i;const{row:t,parent:s}=this;t!==null&&t.treeNode===this&&(t.treeNode=null),s!==null&&(this.parent=null,(i=s.children)==null||i.delete(this.key))}setRow(t){const s=this.row;return s===t?!1:(s!==null&&(s.treeNode=null),t!==null&&(t.treeNode=this),this.row=t,!0)}removeRow(t){const{row:s,duplicateRows:i}=this;if(s===t){if(this.row=null,i!==null)for(const n of i){this.row=n,i.delete(n);break}}else if(!(i!=null&&i.delete(t)))return!1;return(i==null?void 0:i.size)===0&&(this.duplicateRows=null),t.treeNode=null,!0}addDuplicateRow(t){let s=this.duplicateRows;if(s===null)s=new Set,this.duplicateRows=s;else if(s.has(t))return!1;return s.add(t),t.treeNode=this,t.childrenAfterGroup=En,t.allLeafChildren=null,!0}sortFirstDuplicateRow(){const t=this.duplicateRows,s=this.row;if(!s||!t)return s;let i=s;for(const n of t)n.sourceRowIndex<i.sourceRowIndex&&(i=n);return i!==s&&(t.delete(i),t.add(s),this.row=i),i}dequeueInvalidated(){for(;;){const t=this.invalidatedHead;if(!t)return null;if(this.invalidatedHead=t.invalidatedNext??null,t.parent===this)return t.invalidatedNext=void 0,t}}invalidate(){let t=this,s=this.parent;for(;s!==null&&t.invalidatedNext===void 0;)t.invalidatedNext=s.invalidatedHead,s.invalidatedHead=t,t=s,s=t.parent}invalidateOrder(){var s,i,n;const t=this.parent;!t||t.childrenChanged||((((s=t.children)==null?void 0:s.size)??0)>1||(((i=this.children)==null?void 0:i.size)??0)>1||!((n=t.row)!=null&&n.data))&&(t.childrenChanged=!0,t.invalidate())}getNewSourceIdx(){var s,i;const t=this.row;return t!=null&&t.data?t.sourceRowIndex:((i=(s=this.childrenAfterGroup[0])==null?void 0:s.treeNode)==null?void 0:i.sourceIdx)??this.sourceIdx}updateChildrenAfterGroup(t,s){var g;this.childrenChanged=!1;const i=t&&((g=this.children)==null?void 0:g.size);if(!i)return this.childrenAfterGroup.length===0?!1:(this.childrenAfterGroup=s?[]:En,this.leafChildrenChanged=!0,!0);let n=!1,l=this.childrenAfterGroup;l===En?(l=new Array(i),this.childrenAfterGroup=l,n=!0):l.length!==i&&(l.length=i,n=!0);let u=0,c=-1,h=!1;for(const f of this.enumChildren()){const m=f.getNewSourceIdx();m<c&&(h=!0),c=m,f.sourceIdx=m;const v=f.row;l[u]!==v&&(l[u]=v,n=!0),++u}return n&&(this.leafChildrenChanged=!0),h&&this.reorderChildrenList(l),n||h}reorderChildrenList(t){const s=t.length,i=this.children;t.sort(QO),i.clear();for(let n=0;n<s;++n){const l=t[n].treeNode;i.set(l.key,l)}}updateAllLeafChildren(){var l;const{parent:t,childrenAfterGroup:s}=this;this.leafChildrenChanged=!1;let i=!1;const n=s.length;if(n===0)this.allLeafChildren&&(i||(i=this.allLeafChildren.length!==0),this.allLeafChildren=null);else{const u=this.allLeafChildren??(this.allLeafChildren=[]),c=u.length;let h=0;for(let g=0;g<n;++g){const f=s[g],m=(l=f.treeNode)==null?void 0:l.allLeafChildren,v=m==null?void 0:m.length;if(f.data&&((h>=c||u[h]!==f)&&(u[h]=f,i=!0),++h),v)for(let w=0;w<v;++w){const b=m[w];(h>=c||u[h]!==b)&&(u[h]=b,i=!0),++h}}c!==h&&(u.length=h,i=!0)}i&&t&&(t.leafChildrenChanged=!0)}},tk=e=>(e.treeNodeFlags&1)!==0,Vy=e=>(e.treeNodeFlags&2)!==0,zv=e=>(e.treeNodeFlags&4)!==0,sk=e=>(e.treeNodeFlags&8)!==0,Vv=e=>(e.treeNodeFlags&16)!==0,_v=(e,t)=>{t?e.treeNodeFlags|=2:e.treeNodeFlags&=-3},ik=e=>{const t=e.treeNodeFlags;(t&1)!==0&&(e.treeNodeFlags=t|4)},nk=e=>{const t=e.treeNodeFlags;(t&1)!==0&&(e.treeNodeFlags=t|12)},ci=e=>{e&&(e.treeNodeFlags|=16)},Wv=e=>{const t=e.level<0,s=e.treeNodeFlags,i=(s&1)!==0;if(e.treeNodeFlags=1|s&-29,!i||t){const n=e.childrenAfterGroup;e.childrenAfterFilter=n,e.childrenAfterAggFilter=n,e.childrenAfterSort=n}if(t){const n=e.sibling;n&&(n.childrenAfterGroup=e.childrenAfterGroup,n.childrenMapped=e.childrenMapped)}},Zr=e=>{e.treeNodeFlags=0},ok=(e,t,s)=>{if(t!==s&&t!==null&&t.group&&Vy(t)&&!e.isGroupOpenByDefault)return t.expanded;const i=e.isGroupOpenByDefault;return i?i({rowNode:s,field:s.field,key:s.key,level:s.level,rowGroupColumn:s.rowGroupColumn})==!0:e.expandByDefault===-1||s.level<e.expandByDefault},_y=class extends CE{constructor(){super(...arguments),this.oldGroupDisplayColIds="",this.rowsPendingDestruction=null,this.treeCommitPending=!0,this.treeRoot=null}activate(e){super.activate(e),this.treeSetRootNode(e),this.treeCommitPending=!0}treeSetRootNode(e){let t=this.treeRoot;t||(t=new ek(null,""),t.childrenChanged=!0,this.treeRoot=t),t.row=e,e.treeNode=t}destroy(){super.destroy(),this.treeRoot=null,this.rowsPendingDestruction=null,this.oldGroupDisplayColIds=""}deactivate(){const{treeRoot:e,rootNode:t}=this;e&&(t&&e.removeRow(t),this.treeDestroy(e),e.destroy()),t&&Zr(t),this.commitDestroyedRows(),super.deactivate(),this.treeRoot=null,this.oldGroupDisplayColIds=""}treeSetRow(e,t,s){var l;const i=e.row;if(e===this.treeRoot)return!1;let n=!1;if(i!==t){const u=t.treeNode;u!==null&&u!==e&&(u.removeRow(t),u.invalidate()),i===null?(e.setRow(t),n=!0):i.data?e.addDuplicateRow(t)&&(n=!0):(e.setRow(t),this.destroyRow(i,!0),n=!0)}return!s&&!zv(t)&&(ik(t),n=!0),n&&e.invalidate(),(l=this.rowsPendingDestruction)==null||l.delete(t),n}treeRemove(e,t){if(e===this.treeRoot)return;let s=!1;if(e.removeRow(t)){const i=e.parent;i&&(i.childrenChanged=!0),this.destroyRow(t,!t.data),s=!0}s&&e.invalidate()}treeCommit(e){var c;const{treeRoot:t,rootNode:s}=this;if(!t||!s)return;this.treeCommitPending=!1;const i=this.treeData,n=e!=null&&e.active?e:null,l={rootNode:s,activeChangedPath:n,treeData:i,expandByDefault:this.gos.get("groupDefaultExpanded"),isGroupOpenByDefault:this.gos.getCallback("isGroupOpenByDefault")};this.treeCommitChildren(l,t,!1,0);const u=t.row;u&&(i&&(u.leafGroup=!1),t.childrenChanged&&t.updateChildrenAfterGroup(i,!0)&&ci(u),(i||!n)&&(u.childrenAfterGroup=t.childrenAfterGroup),n&&Vv(u)&&n.addParentNode(u),Wv(u),u.updateHasChildren()),this.commitDestroyedRows(),i&&((c=this.beans.selectionSvc)==null||c.updateSelectableAfterGrouping(e))}treeCommitChildren(e,t,s,i){var n,l;for(;;){const u=t.dequeueInvalidated();if(u===null)break;u.parent===t&&this.treeCommitChild(e,u,s||!(((n=t.row)==null?void 0:n.expanded)??!0),i)}t.childrenChanged||(t.childrenChanged=(e.treeData?t.size:0)!==((l=t.row.childrenAfterGroup)==null?void 0:l.length))}treeCommitChild(e,t,s,i){if(t.isEmptyFillerNode()){this.treeClear(t);return}if(this.treeCommitPreOrder(e,t,i),this.treeCommitChildren(e,t,s,i+1),t.isEmptyFillerNode()){this.treeClear(t);return}this.treeCommitPostOrder(e,t,s)}treeCommitPreOrder(e,t,s){let i=t.row;if(i===null?(i=this.createFillerRow(t,s),t.setRow(i)):(i=t.sortFirstDuplicateRow(),i.allChildrenCount===void 0&&(i.allChildrenCount=null)),e.treeData){if(i.level=s,i.parent=t.parent.row,t.oldRow!==i)for(const l of t.enumChildren()){const u=l.row;u!==null&&(u.parent=i)}const n=t.key;i.key!==n?(i.key=n,nk(i),this.setGroupData(i,n)):i.groupData||this.setGroupData(i,n)}else e.activeChangedPath||(i.level=0,i.parent=e.rootNode,i.key=t.key)}treeCommitPostOrder(e,t,s){var g,f;const i=t.parent,n=t.row,l=t.oldRow,u=n.group;if(t.childrenChanged&&t.updateChildrenAfterGroup(e.treeData,!1)&&ci(n),t.leafChildrenChanged&&t.updateAllLeafChildren(),e.treeData||!e.activeChangedPath){n.childrenAfterGroup=t.childrenAfterGroup,n.allLeafChildren=t.allLeafChildren;const m=t.childrenAfterGroup.length>0,v=m||!n.data;u!==v?(ci(n),Ty(n,this.beans,v),!v&&!n.expanded&&_v(n,!1)):n.hasChildren()!==m&&(ci(n),n.updateHasChildren()),v&&!Vy(n)&&(n.expanded=ok(e,l,n),_v(n,!0)),zv(n)&&(ci(i.row),sk(n)&&n.setData(n.data))}l!==n&&(t.oldRow=n,l!==null&&(u||t.size!==0)&&ci(n),i.childrenChanged=!0,ci(i.row)),Vv(n)&&(this.treeData?(g=e.activeChangedPath)==null||g.addParentNode(n):ci(e.rootNode)),Wv(n),(f=t.duplicateRows)!=null&&f.size&&!t.duplicateRowsWarned&&(t.duplicateRowsWarned=!0,re(186,{rowId:n.id,rowData:n.data,duplicateRowsData:Array.from(t.duplicateRows).map(m=>m.data)})),s&&n.rowIndex!==null&&n.clearRowTopAndRowIndex();const c=t.getNewSourceIdx(),h=t.sourceIdx;h!==c&&(t.sourceIdx=c,h!==-1&&(i.childrenChanged=!0))}createFillerRow(e,t){const s=new Ko(this.beans);s.key=e.key,s.group=!0,s.field=null,s.leafGroup=!1,s.rowGroupIndex=null,s.allChildrenCount=null;let i=t+"-"+e.key,n=e.parent;for(;n!==null;){const l=n.parent;if(l===null)break;--t,i=`${t}-${n.key}-${i}`,n=l}return s.id=Nh+i,s}setGroupData(e,t){var n;e.groupValue=t;const s={};e.groupData=s;const i=(n=this.beans.showRowGroupCols)==null?void 0:n.getShowRowGroupCols();if(i)for(const l of i)s[l.getColId()]=t}treeClear(e){const{parent:t,oldRow:s}=e;if(t!==null&&s!==null&&(t.childrenChanged=!0,t.row!==null&&ci(t.row)),e!==this.treeRoot){let i=e.row;for(;i!==null&&e.removeRow(i);)this.destroyRow(i,!i.data),i=e.row}for(const i of e.enumChildren())this.treeClear(i);e.destroy()}treeDestroy(e){const{row:t,duplicateRows:s}=e;if(t&&(e!==this.treeRoot&&!t.data?this.destroyRow(t,!0):Zr(t)),s)for(const i of s)e!==this.treeRoot&&!i.data?this.destroyRow(i,!0):Zr(i);for(const i of e.enumChildren())this.treeDestroy(i);e.destroy()}destroyRow(e,t){if(e.isSelected())t=!1;else if(!tk(e)){Zr(e);return}if(!t){(this.rowsPendingDestruction??(this.rowsPendingDestruction=new Set)).add(e);return}Zr(e),e.clearRowTopAndRowIndex(),e.groupData=null}commitDestroyedRows(){const{rowsPendingDestruction:e}=this;let t=null;if(e!==null){for(const s of e)this.destroyRow(s,!0),s.isSelected()&&(t??(t=[])).push(s);this.rowsPendingDestruction=null}t&&this.deselectNodes(t)}refreshModel(e,t){var s,i,n;if(t&&this.treeCommitPending&&this.treeCommit(e.changedPath),!!e.afterColumnsChanged)if(this.treeData){const l=((i=(s=this.beans.showRowGroupCols)==null?void 0:s.getShowRowGroupCols())==null?void 0:i.map(u=>u.getId()).join("-"))??"";if(this.oldGroupDisplayColIds!==l){this.oldGroupDisplayColIds=l;const u=(n=this.rootNode)==null?void 0:n.childrenAfterGroup;if(u)for(let c=0,h=u.length??0;c<h;++c){const g=u[c],f=g.treeNode;f&&this.setGroupData(g,f.key)}}}else this.oldGroupDisplayColIds=""}},rk=e=>{if(typeof e!="string"||!e.length)return[];const t=e.split(".");return t.includes("__proto__")?[]:t},Wy=e=>{const t=rk(e);let s=null;const i=t.length-1;return i===0?s=n=>n==null?void 0:n[e]:i>0?s=n=>{let l=n;for(let u=0;u<=i&&l!==null&&l!==void 0;++u)if(l=l[t[u]],u<i&&typeof l!="object"&&l!==void 0)return null;return l}:s=()=>{},s.path=e,s},lk=class extends _y{constructor(){super(...arguments),this.beanName="csrmChildrenTreeNodeSvc",this.childrenGetter=null}get treeData(){return this.gos.get("treeData")}extractRowData(){const e=this.treeRoot;return e&&Array.from(e.enumChildren(),t=>t.row.data)}destroy(){super.destroy(),this.childrenGetter=null}activate(e){const t=this.childrenGetter,s=this.gos.get("treeDataChildrenField");(!t||t.path!==s)&&(this.childrenGetter=Wy(s)),super.activate(e)}updateRowData(e,t){return re(268),{changedRowNodes:t,rowNodeTransaction:{add:[],remove:[],update:[]},rowsInserted:!1}}loadNewRowData(e){const t=this.treeRoot,s=this.rootNode,i=this.childrenGetter,n=new Map,l=[];s.allLeafChildren=l,this.treeClear(t),this.treeSetRootNode(s);const u=(c,h)=>{let g=n.get(h);if(g!==void 0){Te(2,{nodeId:g.id});return}g=this.createRowNode(h,l.length),n.set(h,g),l.push(g),c=c.upsertKey(g.id),this.treeSetRow(c,g,!0);const f=i==null?void 0:i(h);if(f)for(let m=0,v=f.length;m<v;++m)u(c,f[m])};for(let c=0,h=e.length;c<h;++c)u(t,e[c]);this.treeCommitPending=!0}setImmutableRowData(e,t){this.dispatchRowDataUpdateStartedEvent(t);const s=this.gos,i=this.treeRoot,n=this.rootNode,l=this.childrenGetter,u=zo(s),c=!s.get("suppressMaintainUnsortedOrder"),h=new Map,g=new ty(!1,n);e.changedPath=g;const f=e.changedRowNodes,m=n.allLeafChildren,v=[],w=[];let b=!1,R=!1;const T=c?(I,k,U)=>{const K=k==null?void 0:k.length;let ne=!0,oe=-1;for(let z=0;z<K;++z){const te=F(I,k[z],U);te>=0&&(te<oe&&(ne=!1),oe=te)}ne||(b=!0,I.childrenChanged||(I.childrenChanged=!0,I.invalidate()))}:(I,k,U)=>{for(let K=0,ne=k.length;K<ne;++K)F(I,k[K],U)},F=(I,k,U)=>{let K=h.get(k);if(K!==void 0)return re(2,{nodeId:K.id}),-1;const ne=u({data:k,level:U});let oe=!1;K=this.getRowNode(ne),K?K.data!==k&&(f.update(K),K.updateData(k),!K.selectable&&K.isSelected()&&w.push(K)):(K=this.createRowNode(k,-1),f.add(K),oe=!0),h.set(k,K);let z,te;c?(te=I.appendKey(K.id),z=K.sourceRowIndex,K.sourceRowIndex=v.push(K)-1):(te=I.upsertKey(K.id),z=-1),this.treeSetRow(te,K,oe)&&(R=!0);const Q=l==null?void 0:l(k);return Q&&T(te,Q,U+1),z};if(T(i,t,0),m)for(let I=0,k=m.length;I<k;++I){const U=m[I],K=U.treeNode;if(K){const ne=U.data;ne&&!h.has(ne)&&(f.remove(U),this.treeRemove(K,U))}}if(!c){const I=k=>{for(const U of k.enumChildren()){const K=U.row;K&&(K.sourceRowIndex=v.push(K)-1,I(U))}};I(i)}n.allLeafChildren=v,i.allLeafChildren=v,w.length&&this.deselectNodes(w),this.treeCommitPending=!0;const L=n.sibling;L&&(L.allLeafChildren=v),(R||b)&&(e.rowDataUpdated=!0,e.rowNodesOrderChanged||(e.rowNodesOrderChanged=b))}refreshModel(e,t){var i,n;const s=this.rootNode;if(s&&((i=e.changedProps)!=null&&i.has("treeData"))&&!e.newData){this.treeSetRootNode(s);const l=this.treeRoot,u=s.allLeafChildren;if(u)for(let c=0,h=u.length;c<h;++c){const g=u[c];g.groupData=null,(n=g.treeNode)==null||n.invalidate()}l.childrenChanged=!0,this.treeCommitPending=!0}super.refreshModel(e,t)}},ak=class extends _y{constructor(){super(...arguments),this.beanName="csrmPathTreeNodeSvc"}loadNewRowData(e){const t=this.rootNode,s=this.treeRoot;this.treeClear(s),this.treeSetRootNode(t),super.loadNewRowData(e);const i=t.allLeafChildren,n=this.gos.get("getDataPath");for(let l=0,u=i.length;l<u;++l)this.addOrUpdateRow(n,i[l],!0);this.treeCommitPending=!0}get treeData(){const e=this.gos;return e.get("treeData")&&!!e.get("getDataPath")}refreshModel(e,t){const s=e.changedRowNodes;s&&this.executeTransactions(s,e.rowNodesOrderChanged),super.refreshModel(e,t)}executeTransactions(e,t){var l;const s=this.treeRoot;if(!s)return;this.treeSetRootNode(this.rootNode);for(const u of e.removals){const c=u.treeNode;c&&this.treeRemove(c,u)}const i=this.gos.get("getDataPath");for(const u of e.updates)this.addOrUpdateRow(i,u,!1);for(const u of e.adds)this.addOrUpdateRow(i,u,!0);const n=(l=s.row)==null?void 0:l.allLeafChildren;if(t&&n)for(let u=0,c=n.length;u<c;++u){const h=n[u].treeNode;h&&h.sourceIdx!==u&&h.invalidateOrder()}this.treeCommitPending=!0}addOrUpdateRow(e,t,s){const i=this.treeRoot;if(!this.treeData){this.treeSetRow(i.upsertKey(t.id),t,s);return}const n=e==null?void 0:e(t.data),l=n==null?void 0:n.length;if(!l)re(185,{data:t.data});else{let u=0,c=i;do c=c.upsertKey(n[u++]);while(u<l);this.treeSetRow(c,t,s)}}},bu=2147483648,Ng=1073741824,Sh=536870912,Zh=536870911,uk=class extends j{constructor(){super(...arguments),this.parentIdGetter=null,this.oldGroupDisplayColIds=null}destroy(){super.destroy(),this.parentIdGetter=null,this.oldGroupDisplayColIds=null}execute(e){var w;const t=e.rowNode;let s=!e.changedRowNodes,i=t.childrenAfterGroup;(!i||i===t.allLeafChildren)&&(s=!0,t.childrenAfterGroup=i=[]);let n=!1;(e.afterColumnsChanged||this.oldGroupDisplayColIds===null)&&(n=this.updateGroupDisplayColsIds());let l=this.parentIdGetter;const u=this.gos.get("treeDataParentIdField");(!l||l.path!==u)&&(l=Wy(u));const c=!this.gos.get("getRowId");c||fk(this.beans.rowModel,e,l,s),i.length=t.treeNodeFlags&Zh,t.treeNodeFlags=0;const h=this.gos.get("groupDefaultExpanded"),g=this.gos.getCallback("isGroupOpenByDefault"),f=(w=e.changedPath)!=null&&w.active?e.changedPath:void 0;let m=0;const v=(b,R)=>{var z;++m;let D=b.treeNodeFlags;const A=b.childrenAfterGroup??(b.childrenAfterGroup=En),T=D&Zh;let F=(D&Ng)!==0;A.length!==T&&(A.length=T,F=!0);let L=F||(D&bu)!==0,I=F;b.treeNodeFlags=D&Sh,b.level=R++;let k=0;for(let te=0;te<T;++te){const Q=A[te];v(Q,R)&&(I=!0),k+=(((z=Q.allLeafChildren)==null?void 0:z.length)??0)+1}let U=b.allLeafChildren;(U===A||U===void 0)&&(U=b.allLeafChildren=null),(I||((U==null?void 0:U.length)??0)!==k)&&(I=gk(b,U,k));const K=b.id;(b.key!==K||!b.groupData||n)&&(L=!0,b.key=K,this.setGroupData(b,K));const ne=b.group,oe=T>0;return ne!==oe?(L=!0,Ty(b,this.beans,oe),!oe&&!b.expanded&&(D=b.treeNodeFlags&=-536870913)):b.hasChildren()!==oe&&(L=!0,b.updateHasChildren()),oe&&(D&Sh)===0&&(b.treeNodeFlags|=Sh,b.expanded=pk(g,h,b)),(F||I||s)&&hk(b,A),L&&(f==null||f.addParentNode(b)),I};for(let b=0,R=i.length;b<R;++b)v(i[b],0);s&&dk(t,i),m!==t.allLeafChildren.length&&!c&&ck(t,v)}updateGroupDisplayColsIds(){var t,s;const e=((s=(t=this.beans.showRowGroupCols)==null?void 0:t.getShowRowGroupCols())==null?void 0:s.map(i=>i.getId()).join("-"))??"";return this.oldGroupDisplayColIds!==e?(this.oldGroupDisplayColIds=e,!0):!1}setGroupData(e,t){var n;const s={};e.groupData=s;const i=(n=this.beans.showRowGroupCols)==null?void 0:n.getShowRowGroupCols();if(i)for(const l of i)s[l.getColId()]=t}},ck=(e,t)=>{const s=new Set,i=l=>{s.add(l);for(const u of l.childrenAfterGroup)i(u)};i(e);const n=e.childrenAfterGroup;n.length=0;for(const l of e.allLeafChildren)if(s.has(l))l.parent===e&&n.push(l);else{const u=l.parent;re(270,{id:l.id,parentId:u.id}),u.childrenAfterGroup=u.childrenAfterGroup.filter(c=>c!==l),u.treeNodeFlags=u.treeNodeFlags-1|Ng|bu,l.parent=e,t(l,0),i(l),n.push(l)}},dk=(e,t)=>{e.childrenAfterFilter=t,e.childrenAfterAggFilter=t,e.childrenAfterSort=t;const s=e.sibling;s&&(s.childrenAfterGroup=e.childrenAfterGroup,s.childrenAfterAggFilter=e.childrenAfterAggFilter,s.childrenAfterSort=e.childrenAfterSort)},hk=(e,t)=>{e.allLeafChildren??(e.allLeafChildren=null),e.childrenAfterFilter??(e.childrenAfterFilter=t),e.childrenAfterAggFilter??(e.childrenAfterAggFilter=t),e.childrenAfterSort??(e.childrenAfterSort=t);const s=e.sibling;s&&(s.allLeafChildren=e.allLeafChildren,s.childrenAfterGroup=e.childrenAfterGroup,s.childrenAfterAggFilter=e.childrenAfterAggFilter,s.childrenAfterFilter=e.childrenAfterFilter,s.childrenAfterSort=e.childrenAfterSort)},gk=(e,t,s)=>{if(s===0)return t?(e.allLeafChildren=null,!!(t!=null&&t.length)):!1;let i=!1;t?t.length!==s&&(t.length=s,i=!0):(t=e.allLeafChildren=new Array(s),i=!0);let n=0;const l=e.childrenAfterGroup;if(l)for(const u of l){i||(i=t[n]!==u),t[n++]=u;const c=u.allLeafChildren;if(c)for(const h of c)i||(i=t[n]!==h),t[n++]=h}return i},pk=(e,t,s)=>e?e({rowNode:s,field:s.field,key:s.key,level:s.level,rowGroupColumn:s.rowGroupColumn})==!0:t===-1||s.level<t,fk=(e,{rowNode:t,changedRowNodes:s},i,n)=>{const l=s==null?void 0:s.updates,u=s==null?void 0:s.adds,c=t.allLeafChildren;for(let h=0,g=c.length;h<g;++h){const f=c[h],m=(l==null?void 0:l.has(f))||(u==null?void 0:u.has(f)),v=f.parent;let w;if(m||n){const A=i(f.data);A==null?w=t:(w=e.getRowNode(A),w||(re(271,{id:f.id,parentId:A}),w=t))}else w=f.parent??t;let b=w.treeNodeFlags;const R=b&Zh;b=b&-536870912|R+1;let D=w.childrenAfterGroup;(!D||D===En)&&(w.childrenAfterGroup=D=[]),(D.length<=R||D[R]!==f)&&(D[R]=f,b|=Ng),(m||f.parent!==w)&&(f.parent=w,b|=bu,v!==w&&v!==null&&(v.treeNodeFlags|=bu)),w.treeNodeFlags=b}},Uy={moduleName:"SharedTreeData",version:ut,dependsOn:[Qt,kg,Hy,zy]},mk={moduleName:"TreeData",version:ut,beans:[ak,lk],dynamicBeans:{treeParentIdStrategy:uk},rowModels:["clientSide"],dependsOn:[Uy,iO,SO]},Ck="ag-Grid-MissingKey",vk=class extends j{constructor(){super(...arguments),this.beanName="ssrmBlockUtils"}wireBeans(e){this.valueSvc=e.valueSvc,this.showRowGroupCols=e.showRowGroupCols,this.nodeManager=e.ssrmNodeManager,this.expansionSvc=e.expansionSvc,this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}createRowNode(e){const t=new Ko(this.beans),s=e.rowHeight!=null?e.rowHeight:Bn(this.beans);return t.setRowHeight(s),t.group=e.group,t.leafGroup=e.leafGroup,t.level=e.level,t.uiLevel=e.level,t.parent=e.parent,t.stub=!0,t.__needsRefreshWhenVisible=!1,t.group&&(t.expanded=!1,t.field=e.field,t.rowGroupColumn=e.rowGroupColumn,t.rowGroupIndex=e.level),t}destroyRowNode(e,t=!1){e.childStore&&!t&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),e.id!=null&&this.nodeManager.removeNode(e)}setTreeGroupInfo(e){e.updateHasChildren();const t=this.gos.get("getServerSideGroupKey"),s=e.hasChildren();s&&t!=null&&(e.key=t(e.data)),!s&&e.childStore!=null&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)}setRowGroupInfo(e){if(e.key=this.valueSvc.getValue(e.rowGroupColumn,e),(e.key===null||e.key===void 0)&&og(()=>{var n;re(190,{rowGroupId:(n=e.rowGroupColumn)==null?void 0:n.getId(),data:e.data})},"SSBlock-BadKey"),this.gos.get("groupAllowUnbalanced")&&e.key===""){const n=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(n,e))}Ho(this.beans.gos)({node:e})&&(hi(e,this.beans),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))}setMasterDetailInfo(e){const t=this.gos.get("isRowMaster");t!=null?e.master=t(e.data):e.master=!0}updateDataIntoRowNode(e,t){e.updateData(t),this.gos.get("treeData")?(this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e)):e.group?(this.setChildCountIntoRowNode(e),e.footer||(Ho(this.beans.gos)({node:e})?e.sibling?e.sibling.updateData(t):hi(e,this.beans):e.sibling&&Og(e))):this.gos.get("masterDetail")}setDataIntoRowNode(e,t,s,i){var l;e.stub=!1;const n=this.gos.get("treeData");e.setDataAndId(t,s),n?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gos.get("masterDetail")&&this.setMasterDetailInfo(e),(n||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),ge(t)&&(e.setRowHeight(Ns(this.beans,e,!1,i).height),(l=e.sibling)==null||l.setRowHeight(Ns(this.beans,e.sibling,!1,i).height))}setChildCountIntoRowNode(e){const t=this.gos.get("getChildCount");t&&e.setAllChildrenCount(t(e.data))}setGroupDataIntoRowNode(e){var i;e.groupValue=e.key;const t=((i=this.showRowGroupCols)==null?void 0:i.getShowRowGroupCols())??[],s=this.gos.get("treeData");t.forEach(n=>{if(e.groupData==null&&(e.groupData={}),s)e.groupData[n.getColId()]=e.key;else if(n.isRowGroupDisplayed(e.rowGroupColumn.getId())){const l=this.valueSvc.getValue(e.rowGroupColumn,e);e.groupData[n.getColId()]=l}})}clearDisplayIndex(e){var i,n;e.clearRowTopAndRowIndex(),e.hasChildren()&&!!e.childStore&&((i=e.childStore)==null||i.clearDisplayIndexes()),e.master&&e.detailNode&&((n=e.detailNode)==null||n.clearRowTopAndRowIndex())}setDisplayIndex(e,t,s,i){const n=this.gos.get("groupAllowUnbalanced")&&e.group&&e.key==="";if(this.gos.get("groupHideOpenParents")&&e.group&&e.expanded||n?(e.setRowIndex(null),e.setRowTop(null)):(e.setRowIndex(t.value++),e.setRowTop(s.value),s.value+=e.rowHeight),e.setUiLevel(i),e.footer)return;if(e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(t.value++),e.detailNode.setRowTop(s.value),s.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.hasChildren()&&!!e.childStore){const h=e.childStore;e.expanded||n?h.setDisplayIndexes(t,s,n?i:i+1):h.clearDisplayIndexes()}}extractRowBounds(e,t){const s=i=>({rowHeight:i.rowHeight,rowTop:i.rowTop});if(e.rowIndex===t)return s(e);if(e.hasChildren()&&e.expanded&&e.childStore){const i=e.childStore;if(i.isDisplayIndexInStore(t))return i.getRowBounds(t)}else if(e.master&&e.expanded&&e.detailNode&&e.detailNode.rowIndex===t)return s(e.detailNode)}isPixelInNodeRange(e,t){return!ge(e.rowTop)||!ge(e.rowHeight)?!1:t>=e.rowTop&&t<e.rowTop+e.rowHeight}getIndexAtPixel(e,t){if(this.isPixelInNodeRange(e,t))return e.rowIndex;const s=e.master&&e.expanded,i=e.detailNode;if(s&&i&&this.isPixelInNodeRange(i,t))return i.rowIndex;if(e.hasChildren()&&e.expanded&&e.childStore){const n=e.childStore;if(n.isPixelInRange(t))return n.getRowIndexAtPixel(t)}return null}createNodeIdPrefix(e){const t=[];let s=e;for(;s&&s.level>=0;)s.key===""?t.push(Ck):t.push(s.key),s=s.parent;if(t.length>0)return t.reverse().join("-")}checkOpenByDefault(e){var t;return(t=this.expansionSvc)==null?void 0:t.checkOpenByDefault(e)}},wk=class extends j{constructor(){super(...arguments),this.beanName="ssrmExpandListener"}wireBeans(e){this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}postConstruct(){Cs(this.gos)&&this.addManagedEventListeners({rowGroupOpened:this.onRowGroupOpened.bind(this)})}onRowGroupOpened(e){const t=e.node;if(t.expanded){if(t.master)this.createDetailNode(t);else if(Ze(t.childStore)){const s=this.serverSideRowModel.getParams();t.childStore=this.createBean(this.storeFactory.createStore(s,t))}}else this.gos.get("purgeClosedRowNodes")&&ge(t.childStore)&&(t.childStore=this.destroyBean(t.childStore));this.eventSvc.dispatchEvent({type:"storeUpdated"})}createDetailNode(e){if(ge(e.detailNode))return e.detailNode;const t=new Ko(this.beans);t.detail=!0,t.selectable=!1,t.parent=e,ge(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;const s=200,i=Ns(this.beans,t).height;return t.rowHeight=i||s,e.detailNode=t,t}},bk=class extends j{constructor(){super(...arguments),this.beanName="ssrmFilterListener"}wireBeans(e){this.serverSideRowModel=e.rowModel,this.filterManager=e.filterManager,this.listenerUtils=e.ssrmListenerUtils}postConstruct(){Cs(this.gos)&&this.addManagedEventListeners({advancedFilterEnabledChanged:()=>this.onFilterChanged(!0),filterChanged:()=>this.onFilterChanged()})}onFilterChanged(e){var h,g;const t=this.serverSideRowModel.getParams();if(!t)return;const s=t.filterModel;let i,n;if((h=this.filterManager)!=null&&h.isAdvFilterEnabled()){i=this.filterManager.getAdvFilterModel();const f=e?Object.keys(s??{}):this.getAdvancedFilterColumns(s),m=this.getAdvancedFilterColumns(i);f.forEach(v=>m.add(v)),n=Array.from(m)}else if(i=((g=this.filterManager)==null?void 0:g.getFilterModel())??{},e){const f=this.getAdvancedFilterColumns(s);Object.keys(i).forEach(m=>f.add(m)),n=Array.from(f)}else n=this.findChangedColumns(s,i);const l=this.listenerUtils.isSortingWithValueColumn(n),u=this.listenerUtils.isSortingWithSecondaryColumn(n),c={valueColChanged:l,secondaryColChanged:u,changedColumns:n};this.serverSideRowModel.refreshAfterFilter(i,c)}findChangedColumns(e,t){const s={};Object.keys(e).forEach(n=>s[n]=!0),Object.keys(t).forEach(n=>s[n]=!0);const i=[];return Object.keys(s).forEach(n=>{const l=JSON.stringify(e[n]),u=JSON.stringify(t[n]);l!=u&&i.push(n)}),i}getAdvancedFilterColumns(e){const t=new Set;if(!e)return t;const s=i=>{i.filterType==="join"?i.conditions.forEach(n=>s(n)):t.add(i.colId)};return s(e),t}},yk=class extends j{constructor(){super(...arguments),this.beanName="ssrmListenerUtils"}wireBeans(e){this.pivotResultCols=e.pivotResultCols,this.valueColsSvc=e.valueColsSvc}isSortingWithValueColumn(e){var s;const t=(((s=this.valueColsSvc)==null?void 0:s.columns)??[]).map(i=>i.getColId());for(let i=0;i<e.length;i++)if(t.indexOf(e[i])>-1)return!0;return!1}isSortingWithSecondaryColumn(e){var i;const t=(i=this.pivotResultCols)==null?void 0:i.getPivotResultCols();if(!t)return!1;const s=t.list.map(n=>n.getColId());for(let n=0;n<e.length;n++)if(s.indexOf(e[n])>-1)return!0;return!1}},Sk=class extends j{constructor(){super(...arguments),this.beanName="ssrmSortSvc"}wireBeans(e){this.sortSvc=e.sortSvc,this.serverSideRowModel=e.rowModel,this.listenerUtils=e.ssrmListenerUtils}postConstruct(){Cs(this.gos)&&this.addManagedEventListeners({sortChanged:this.onSortChanged.bind(this)})}onSortChanged(){const e=this.serverSideRowModel.getParams();if(!e)return;const t=this.sortSvc.getSortModel(),s=e.sortModel,i=this.findChangedColumnsInSort(t,s),n=this.listenerUtils.isSortingWithValueColumn(i),l=this.listenerUtils.isSortingWithSecondaryColumn(i),u={valueColChanged:n,secondaryColChanged:l,changedColumns:i};this.serverSideRowModel.refreshAfterSort(t,u)}findChangedColumnsInSort(e,t){let s=[];[e,t].forEach(l=>{if(l){const u=l.map(c=>c.colId);s=s.concat(u)}});const i=(l,u)=>{const c=l?l.sort:null,h=u?u.sort:null;return c!==h},n=(l,u)=>{const c=l?t.indexOf(l):-1,h=u?e.indexOf(u):-1;return c!==h};return s.filter(l=>{const u=t.find(h=>h.colId===l),c=e.find(h=>h.colId===l);return i(u,c)||n(u,c)})}},Rk=class extends j{constructor(){super(...arguments),this.beanName="ssrmNodeManager",this.rowNodes=new Map}addRowNode(e){const t=e.id;this.rowNodes.has(t)&&re(187,{rowId:t,firstData:this.rowNodes.get(t).data,secondData:e.data}),this.rowNodes.set(t,e)}removeNode(e){const t=e.id;this.rowNodes.delete(t)}destroy(){this.clear(),super.destroy()}clear(){this.rowNodes.clear(),super.destroy()}},xk=class extends j{constructor(){super(...arguments),this.beanName="rowModel",this.pauseStoreUpdateListening=!1,this.started=!1,this.managingPivotResultColumns=!1,this.onRowHeightChanged_debounced=Mn(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.pivotResultCols=e.pivotResultCols,this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.valueColsSvc=e.valueColsSvc,this.filterManager=e.filterManager,this.sortSvc=e.sortSvc,this.rowRenderer=e.rowRenderer,this.nodeManager=e.ssrmNodeManager,this.storeFactory=e.ssrmStoreFactory,this.pivotColDefSvc=e.pivotColDefSvc}ensureRowHeightsValid(){return!1}start(){this.started=!0,this.updateDatasource()}destroyDatasource(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)}postConstruct(){const e=this.resetRootStore.bind(this);this.addManagedEventListeners({newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onStoreUpdated.bind(this),columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e,columnPivotModeChanged:e}),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","cacheBlockSize"],e),this.addManagedPropertyListener("groupAllowUnbalanced",()=>this.onStoreUpdated()),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights()),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",()=>this.updateDatasource())}updateDatasource(){const e=this.gos.get("serverSideDatasource");e&&this.setDatasource(e)}verifyProps(){Hs(this.gos)&&!this.gos.exists("getRowId")&&re(188)}setDatasource(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())}applyRowData(e,t,s){const i=this.getRootStore();if(!i)return;const n=i.getChildStore(s);n&&n.applyRowData(e,t,e.rowData.length)}isLastRowIndexKnown(){const e=this.getRootStore();return e?e.isLastRowIndexKnown():!1}onColumnEverything(){var g,f,m,v;if(!this.storeParams){this.resetRootStore();return}const e=this.columnsToValueObjects((g=this.rowGroupColsSvc)==null?void 0:g.columns),t=this.columnsToValueObjects((f=this.valueColsSvc)==null?void 0:f.columns),s=this.columnsToValueObjects((m=this.pivotColsSvc)==null?void 0:m.columns),i=w=>{const b={};w.oldCols.forEach(A=>b[A.id]=A);const R=w.newCols.every(A=>{const T=b[A.id];return T&&delete b[A.id],T&&T.field===A.field&&T.aggFunc===A.aggFunc}),D=!w.allowRemovedColumns&&!!Object.values(b).length;return R&&!D},n=!jx(this.storeParams.sortModel,((v=this.sortSvc)==null?void 0:v.getSortModel())??[]),l=!i({oldCols:this.storeParams.rowGroupCols,newCols:e}),u=!i({oldCols:this.storeParams.pivotCols,newCols:s}),c=!!(e!=null&&e.length)&&!i({oldCols:this.storeParams.valueCols,newCols:t,allowRemovedColumns:!0});if(n||l||u||c)this.resetRootStore();else{const w=this.createStoreParams();this.storeParams.rowGroupCols=w.rowGroupCols,this.storeParams.pivotCols=w.pivotCols,this.storeParams.valueCols=w.valueCols}}destroyRootStore(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())}refreshAfterSort(e,t){this.storeParams&&(this.storeParams.sortModel=e);const s=this.getRootStore();s&&(s.refreshAfterSort(t),this.onStoreUpdated())}generateSecondaryColumns(e){var s;if(!this.pivotColDefSvc){this.gos.assertModuleRegistered("SharedPivot",2);return}const t=this.pivotColDefSvc.createColDefsFromFields(e);this.managingPivotResultColumns=!0,(s=this.pivotResultCols)==null||s.setPivotResultCols(t,"rowModelUpdated")}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes(),t=Ns(this.beans,this.rootNode);if(this.rootNode.setRowHeight(t.height,t.estimated),this.rootNode.sibling){const s=Ns(this.beans,this.rootNode.sibling);this.rootNode.sibling.setRowHeight(s.height,s.estimated)}e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{const s=Ns(this.beans,t);t.setRowHeight(s.height,s.estimated);const i=t.detailNode;if(i){const n=Ns(this.beans,i);i.setRowHeight(n.height,n.estimated)}if(t.sibling){const n=Ns(this.beans,t.sibling);i==null||i.setRowHeight(n.height,n.estimated)}e=!0}),e}resetRootStore(){var e;this.destroyRootStore(),this.rootNode=new Ko(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&((e=this.pivotResultCols)==null||e.setPivotResultCols(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)}columnsToValueObjects(e=[]){return e.map(t=>({id:t.getId(),aggFunc:t.getAggFunc(),displayName:this.colNames.getDisplayNameForColumn(t,"model"),field:t.getColDef().field}))}createStoreParams(){var l,u,c,h,g,f,m;const e=this.columnsToValueObjects((l=this.rowGroupColsSvc)==null?void 0:l.columns),t=this.columnsToValueObjects((u=this.valueColsSvc)==null?void 0:u.columns),s=this.columnsToValueObjects((c=this.pivotColsSvc)==null?void 0:c.columns),i=lg(this.gos);return{valueCols:t,rowGroupCols:e,pivotCols:s,pivotMode:this.colModel.isPivotMode(),filterModel:(h=this.filterManager)!=null&&h.isAdvFilterEnabled()?(g=this.filterManager)==null?void 0:g.getAdvFilterModel():((f=this.filterManager)==null?void 0:f.getFilterModel())??{},sortModel:((m=this.sortSvc)==null?void 0:m.getSortModel())??[],datasource:this.datasource,lastAccessedSequence:{value:0},dynamicRowHeight:i}}getParams(){return this.storeParams}dispatchModelUpdated(e=!1){this.eventSvc.dispatchEvent({type:"modelUpdated",animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})}onStoreUpdated(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())}onRowHeightChanged(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()}updateRowIndexesAndBounds(){const e=this.getRootStore();e&&e.setDisplayIndexes({value:0},{value:0},0)}retryLoads(){const e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())}getRow(e){const t=this.getRootStore();if(t)return t.getRowUsingDisplayIndex(e)}setPaused(e){this.pauseStoreUpdateListening=e}expandAll(e){this.pauseStoreUpdateListening=!0,this.forEachNode(t=>{t.stub||t.hasChildren()&&t.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()}refreshAfterFilter(e,t){this.storeParams&&(this.storeParams.filterModel=e);const s=this.getRootStore();s&&(s.refreshAfterFilter(t),this.onStoreUpdated())}getRootStore(){var e;return(e=this.rootNode)==null?void 0:e.childStore}getRowCount(){const e=this.getRootStore();return e?e.getDisplayIndexEnd():0}getTopLevelRowCount(){const e=this.getRootStore();return e?e.getRowCount():1}getTopLevelRowDisplayedIndex(e){const t=this.getRootStore();return t?t.getTopLevelRowDisplayedIndex(e):e}getRowBounds(e){const t=this.getRootStore();return t?t.getRowBounds(e):{rowTop:0,rowHeight:Bn(this.beans)}}getBlockStates(){const e=this.getRootStore();if(!e)return;const t={};return e.forEachStoreDeep(s=>{const i=s.getBlockStates();for(const n of Object.keys(i))t[n]=i[n]}),t}getRowIndexAtPixel(e){const t=this.getRootStore();return e<=0||!t?0:t.getRowIndexAtPixel(e)}isEmpty(){return!1}isRowsToRender(){return this.getRootStore()!=null&&this.getRowCount()>0}getType(){return"serverSide"}forEachNode(e){const t=this.getRootStore();t&&t.forEachNodeDeep(e)}forEachDisplayedNode(e){const t=(s,i)=>{s.stub||!s.displayed||e(s,i)};this.forEachNode(t)}forEachNodeAfterFilterAndSort(e,t=!1){const s=this.getRootStore();s&&s.forEachNodeDeepAfterFilterAndSort(e,void 0,t)}executeOnStore(e,t){if(!this.started)return!1;const s=this.getRootStore();if(!s)return!0;const i=s.getChildStore(e);return i&&t(i),!0}refreshStore(e={}){const t=e.route?e.route:[];this.executeOnStore(t,s=>s.refreshStore(e.purge==!0))}getStoreState(){const e=[],t=this.getRootStore();return t&&t.addStoreStates(e),e}getNodesInRangeForSelection(e,t){const s=e.rowIndex,i=t.rowIndex;if(s===null&&i===null)return[];if(i===null)return e?[e]:[];if(s===null)return[t];const n=[],[l,u]=[s,i].sort((c,h)=>c-h);return this.forEachNode(c=>{const h=c.rowIndex;h==null||c.stub||h>=l&&h<=u&&n.push(c)}),n.length!==u-l+1?null:n}getRowNode(e){let t;return this.forEachNode(s=>{s.id===e&&(t=s),s.detailNode&&s.detailNode.id===e&&(t=s.detailNode)}),t}isRowPresent(e){return!!this.getRowNode(e.id)}setRowCount(e,t){const s=this.getRootStore();s&&s.setRowCount(e,t)}destroy(){this.destroyDatasource(),this.destroyRootStore(),super.destroy()}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Dk(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectionState())??null}function Mk(e,t){var s;(s=e.selectionSvc)==null||s.setSelectionState(t,"api")}function Ek(e,t){var s;return(s=e.ssrmTxnManager)==null?void 0:s.applyTransaction(t)}function Ak(e,t){var n;const s=t.startRow??0,i=t.route??[];if(s<0){re(189,{startRow:s});return}(n=qo(e))==null||n.applyRowData(t.successParams,s,i)}function Tk(e,t,s){var i;return(i=e.ssrmTxnManager)==null?void 0:i.applyTransactionAsync(t,s)}function Fk(e){var t;(t=qo(e))==null||t.retryLoads()}function Pk(e){var t;return(t=e.ssrmTxnManager)==null?void 0:t.flushAsyncTransactions()}function Lk(e,t){var s;(s=qo(e))==null||s.refreshStore(t)}function Ik(e){var t;return((t=qo(e))==null?void 0:t.getStoreState())??[]}var Gk=class extends Ny{constructor(){super(...arguments),this.beanName="expansionSvc",this.queuedRowIds=new Set}wireBeans(e){this.serverSideRowModel=e.rowModel}postConstruct(){this.addManagedEventListeners({columnRowGroupChanged:()=>{this.queuedRowIds.clear()}})}checkOpenByDefault(e){if(!e.isExpandable())return;if(this.queuedRowIds.has(e.id)){this.queuedRowIds.delete(e.id),e.setExpanded(!0);return}const t=this.gos.getCallback("isServerSideGroupOpenByDefault");if(!t)return;const s={data:e.data,rowNode:e};t(s)&&e.setExpanded(!0)}expandRows(e){e.forEach(t=>{const s=this.serverSideRowModel.getRowNode(t);s?s.setExpanded(!0):this.queuedRowIds.add(t)})}expandAll(e){this.serverSideRowModel.expandAll(e)}onGroupExpandedOrCollapsed(){}dispatchExpandedEvent(e){this.eventSvc.dispatchEvent(e)}},Rh=class extends j{constructor(){super(...arguments),this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectAllUsed=!1,this.selectedNodes={}}getSelectedState(){return{selectAll:this.selectedState.selectAll,toggledNodes:[...this.selectedState.toggledNodes]}}setSelectedState(e){if(typeof e!="object"){Te(116);return}if(!("selectAll"in e)){Te(116);return}if(typeof e.selectAll!="boolean"){Te(117);return}if(!("toggledNodes"in e)||!Array.isArray(e.toggledNodes))return re(197);const t={selectAll:e.selectAll,toggledNodes:new Set};e.toggledNodes.forEach(i=>{typeof i=="string"?t.toggledNodes.add(i):re(196,{key:i})});const s=t.selectAll||t.toggledNodes.size>1;if(Ew(this.gos)&&!Vo(this.gos)&&s){re(130);return}this.selectedState=t}deleteSelectionStateFromParent(e,t){if(this.selectedState.toggledNodes.size===0)return!1;let s=!1;return t.forEach(i=>{this.selectedState.toggledNodes.delete(i)&&(s=!0)}),s}setNodesSelected(e){const{nodes:t,clearSelection:s,newValue:i}=e;if(t.length===0)return 0;const n=s&&i;if(!Vo(this.gos)||n){if(t.length>1)return Te(130),0;const u=t[0],c=u.footer?u.sibling:u;return i&&c.selectable?(this.selectedNodes={[c.id]:c},this.selectedState={selectAll:!1,toggledNodes:new Set([c.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),1}const l=(u,c=i)=>{const h=u.footer?u.sibling:u;c&&h.selectable?this.selectedNodes[h.id]=h:delete this.selectedNodes[h.id],c===this.selectedState.selectAll||!h.selectable?this.selectedState.toggledNodes.delete(h.id):this.selectedState.toggledNodes.add(h.id)};return t.forEach(u=>l(u)),1}processNewRow(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)}isNodeSelected(e){const t=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!t:t}getSelectedNodes(e=!1,t=!0){const{selectedState:{selectAll:s},selectedNodes:i,selectAllUsed:n}=this;return t&&n&&re(199),e&&s?null:Object.values(i)}getSelectedRows(){return(this.getSelectedNodes()??[]).map(e=>e.data)}getSelectionCount(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size}isEmpty(){var e;return!this.selectedState.selectAll&&!((e=this.selectedState.toggledNodes)!=null&&e.size)}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(e){this.selectedState={selectAll:e,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed||(this.selectAllUsed=e)}getSelectAllState(){return this.selectedState.selectAll?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1}},Va=class extends j{constructor(){super(...arguments),this.selectedState={selectAllChildren:!1,toggledNodes:new Map}}wireBeans(e){this.rowModel=e.rowModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.filterManager=e.filterManager,this.selectionSvc=e.selectionSvc}postConstruct(){this.addManagedEventListeners({modelUpdated:()=>this.removeRedundantState(),columnRowGroupChanged:()=>this.selectionSvc.reset("rowGroupChanged")})}getSelectedState(){const{gos:e,rowGroupColsSvc:t,selectedState:s}=this,i=e.get("treeData"),n=(l,u,c)=>{const h={nodeId:c};if((i||t&&u<=t.columns.length)&&(h.selectAllChildren=l.selectAllChildren),l.toggledNodes.size){const g=[];l.toggledNodes.forEach((f,m)=>{const v=n(f,u+1,m);g.push(v)}),h.toggledNodes=g}return h};return n(s,0)}setSelectedState(e){if("selectAll"in e){Te(111);return}const t=(s,i)=>{var c;if(typeof s!="object")throw Te(243),new Error;if("selectAllChildren"in s&&typeof s.selectAllChildren!="boolean")throw Te(244),new Error;if("toggledNodes"in s){if(!Array.isArray(s.toggledNodes))throw Te(245),new Error;if(!s.toggledNodes.every(g=>typeof g=="object"&&"nodeId"in g&&typeof g.nodeId=="string"))throw Te(246),new Error}const n=s.selectAllChildren??!i,l=(c=s.toggledNodes)==null?void 0:c.map(h=>[h.nodeId,t(h,n)]);if(l==null?void 0:l.some(([,h])=>n===h.selectAllChildren&&h.toggledNodes.size===0))throw Te(247),new Error;return{selectAllChildren:n,toggledNodes:new Map(l)}};try{this.selectedState=t(e,!!e.selectAllChildren)}catch{}}deleteSelectionStateFromParent(e,t){let s=this.selectedState;const i=[...e];for(;s&&i.length;)s=s.toggledNodes.get(i.pop());if(!s)return!1;let n=!1;return t.forEach(l=>{s!=null&&s.toggledNodes.delete(l)&&(n=!0)}),n&&this.removeRedundantState(),n}setNodesSelected({nodes:e,newValue:t,clearSelection:s}){if(e.length===0)return 0;const i=s&&t;if(!Vo(this.gos)||i){if(e.length>1)return Te(130),0;this.deselectAllRowNodes()}return e.forEach(n=>{const l=n.footer?n.sibling:n,u=this.getRouteToNode(l);this.recursivelySelectNode(u,this.selectedState,t)}),this.removeRedundantState(),1}isNodeSelected(e){const t=this.getRouteToNode(e);return this.isNodePathSelected(t,this.selectedState)}isNodePathSelected([e,...t],s){if(t.length===0){const i=s.toggledNodes.has(e.id);if(e.hasChildren()){const n=s.toggledNodes.get(e.id);if(n&&n.toggledNodes.size)return}return s.selectAllChildren?!i:i}if(s.toggledNodes.has(e.id)){const i=s.toggledNodes.get(e.id);if(i)return this.isNodePathSelected(t,i)}return s.selectAllChildren}getRouteToNode(e){const t=[];let s=e;for(;s.parent;)t.push(s),s=s.parent;return t.reverse()}removeRedundantState(){var t;if((t=this.filterManager)!=null&&t.isAnyFilterPresent())return;const e=(s=this.selectedState,i,n)=>{if(s.toggledNodes.forEach((c,h)=>{e(c,h,s)}),i){const c=this.rowModel.getRowNode(i),h=c==null?void 0:c.childStore;if((h==null?void 0:h.isLastRowIndexKnown())&&s.toggledNodes.size>=h.getRowCount()){for(const m of s.toggledNodes.entries()){const[v,w]=m;if(w.toggledNodes.size>0||!this.rowModel.getRowNode(v))return}s.selectAllChildren=!s.selectAllChildren,s.toggledNodes.clear()}}const l=s.toggledNodes.size===0,u=(n==null?void 0:n.selectAllChildren)===s.selectAllChildren;l&&u&&(n==null||n.toggledNodes.delete(i))};e()}recursivelySelectNode([e,...t],s,i){if(!e)return;if(!t.length){const c=e.selectable;if(s.selectAllChildren===i||!c){s.toggledNodes.delete(e.id);return}const g={selectAllChildren:i,toggledNodes:new Map};s.toggledNodes.set(e.id,g);return}const l=s.toggledNodes.has(e.id),u=s.toggledNodes.get(e.id)??{selectAllChildren:s.selectAllChildren,toggledNodes:new Map};l||s.toggledNodes.set(e.id,u),this.recursivelySelectNode(t,u,i),s.selectAllChildren===u.selectAllChildren&&u.toggledNodes.size===0&&s.toggledNodes.delete(e.id)}getSelectedNodes(e=!1){if(re(202),this.selectedState.selectAllChildren&&e)return null;const t=[];return this.rowModel.forEachNode(s=>{s.isSelected()&&t.push(s)}),t}processNewRow(){}getSelectedRows(){var e;return((e=this.getSelectedNodes())==null?void 0:e.map(t=>t.data))??[]}getSelectionCount(){return-1}isEmpty(){var e;return!this.selectedState.selectAllChildren&&!((e=this.selectedState.toggledNodes)!=null&&e.size)}selectAllRowNodes(){this.reset(!0)}deselectAllRowNodes(){this.reset(!1)}reset(e){this.selectedState={selectAllChildren:e,toggledNodes:new Map}}getSelectAllState(){return this.selectedState.selectAllChildren?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1}},Ok=class extends SE{constructor(){super(...arguments),this.beanName="selectionSvc"}postConstruct(){super.postConstruct(),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const s=nu(this.gos),i=s&&this.selectionStrategy instanceof Rh?Va:!s&&this.selectionStrategy instanceof Va?Rh:void 0;i&&(this.destroyBean(this.selectionStrategy),this.selectionStrategy=this.createManagedBean(new i),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}),this.addManagedPropertyListeners(["rowSelection"],()=>{const s=iu(this.gos);s!==this.selectionMode&&(this.selectionMode=s,this.deselectAllRowNodes({source:"api"}))}),this.selectionMode=iu(this.gos);const t=nu(this.gos)?Va:Rh;this.selectionStrategy=this.createManagedBean(new t)}handleSelectionEvent(e,t,s){if(this.isRowSelectionBlocked(t))return 0;let i=0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,s);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.selectionStrategy.deselectAllRowNodes({source:"api"}):this.selectionStrategy.setNodesSelected({nodes:n.deselect,newValue:!1,source:s}),i=this.selectionStrategy.setNodesSelected({nodes:n.select,newValue:!0,source:s})):i=this.selectionStrategy.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,event:e,source:s}),this.shotgunResetNodeSelectionState(s),this.dispatchSelectionChanged(s),i)}getSelectionState(){return this.selectionStrategy.getSelectedState()}setSelectionState(e,t){if(!Hs(this.gos)){re(132);return}Array.isArray(e)||(this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged(t))}setNodesSelected(e){if(!Hs(this.gos)&&e.newValue)return re(132),0;const{nodes:t,...s}=e;if(t.length>1&&this.selectionMode!=="multiRow")return re(130),0;const i={nodes:t.filter(l=>l.selectable),...s};if(!i.nodes.length)return 0;const n=this.selectionStrategy.setNodesSelected(i);return this.shotgunResetNodeSelectionState(i.source),this.dispatchSelectionChanged(i.source),n}deleteSelectionStateFromParent(e,t){this.selectionStrategy.deleteSelectionStateFromParent(e,t)&&(this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api"))}shotgunResetNodeSelectionState(e){this.beans.rowModel.forEachNode(t=>{if(t.stub)return;const s=this.selectionStrategy.isNodeSelected(t);s!==t.isSelected()&&this.selectRowNode(t,s,void 0,e)})}getSelectedNodes(){return this.selectionStrategy.getSelectedNodes()??[]}getSelectedRows(){return this.selectionStrategy.getSelectedRows()}getSelectionCount(){return this.selectionStrategy.getSelectionCount()}syncInRowNode(e){this.selectionStrategy.processNewRow(e);const t=this.selectionStrategy.isNodeSelected(e);if(t!=!1&&!e.selectable){this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState(),this.dispatchSelectionChanged("api");return}e.__selected=t}reset(){this.selectionStrategy.deselectAllRowNodes({source:"api"}),this.selectionCtx.reset()}isEmpty(){return this.selectionStrategy.isEmpty()}hasNodesToSelect(){return!0}selectAllRowNodes(e){if(!Hs(this.gos)){re(132);return}if(Uv(e),Ew(this.gos)&&!Vo(this.gos))return re(130);this.selectionStrategy.selectAllRowNodes(e),this.selectionCtx.selectAll=!0,this.beans.rowModel.forEachNode(t=>{t.stub||this.selectRowNode(t,!0,void 0,e.source)}),this.dispatchSelectionChanged(e.source)}deselectAllRowNodes(e){Uv(e),this.selectionStrategy.deselectAllRowNodes(e),this.selectionCtx.selectAll=!1,this.beans.rowModel.forEachNode(t=>{t.stub||this.selectRowNode(t,!1,void 0,e.source)}),this.dispatchSelectionChanged(e.source)}getSelectAllState(e){return this.selectionStrategy.getSelectAllState(e)}getBestCostNodeSelection(){return re(194,{method:"getBestCostNodeSelection"})}updateSelectable(){if(!Hs(this.gos))return;const e=[];this.beans.rowModel.forEachNode(t=>{!this.updateRowSelectable(t,!0)&&t.isSelected()&&e.push(t)}),e.length&&this.setNodesSelected({nodes:e,newValue:!1,source:"selectableChanged"})}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.selectionStrategy instanceof Va?null:this.selectionStrategy.getSelectedNodes(!0,!1),serverSideState:this.getSelectionState()})}updateSelectableAfterGrouping(){return Te(194,{method:"updateSelectableAfterGrouping"})}refreshMasterNodeState(){}setDetailSelectionState(){}};function Uv({selectAll:e}){(e==="filtered"||e==="currentPage")&&re(195,{justCurrentPage:e==="currentPage"})}var kk=class extends j{constructor(){super(...arguments),this.beanName="rowChildrenSvc"}getHasChildrenValue(e){const t=this.gos.get("treeData"),s=this.gos.get("isServerSideGroup");return!e.stub&&!e.footer&&(t?!!s&&s(e.data):!!e.group)}},Nk=class extends j{constructor(){super(...arguments),this.beanName="lazyBlockLoadingSvc",this.outboundRequests=0,this.cacheLoadingNodesMap=new Map,this.isCheckQueued=!1,this.nextBlockToLoad=void 0}wireBeans(e){this.rowRenderer=e.rowRenderer,this.rowModel=e.rowModel}postConstruct(){this.maxOutboundRequests=r0(this.gos)}subscribe(e){this.cacheLoadingNodesMap.set(e,new Set)}unsubscribe(e){this.cacheLoadingNodesMap.delete(e)}queueLoadCheck(){this.isCheckQueued||(this.isCheckQueued=!0,window.queueMicrotask(()=>{this.queueLoadAction(),this.isCheckQueued=!1}))}onLoadComplete(){this.outboundRequests-=1,this.queueLoadCheck()}hasAvailableLoadBandwidth(){return this.maxOutboundRequests===void 0?!0:this.outboundRequests<this.maxOutboundRequests}queueLoadAction(){const e=this.getBlockToLoad();if(!e)return;const t=this.nextBlockToLoad&&this.nextBlockToLoad.cache===e.cache&&this.nextBlockToLoad.index===e.index;if(!t&&(!this.nextBlockToLoad||!t)){this.nextBlockToLoad=e,window.clearTimeout(this.loaderTimeout);const s=Number(this.nextBlockToLoad.index),i=this.nextBlockToLoad.cache,n=e.index+e.cache.getBlockSize();this.loaderTimeout=window.setTimeout(()=>{i.isAlive()&&(this.loaderTimeout=void 0,this.attemptLoad(i,s,n),this.nextBlockToLoad=void 0)},this.gos.get("blockLoadDebounceMillis"))}}attemptLoad(e,t,s){this.hasAvailableLoadBandwidth()&&(this.executeLoad(e,t,s),this.queueLoadCheck())}executeLoad(e,t,s){var m;const i=e.getSsrmParams(),n={startRow:t,endRow:s,rowGroupCols:i.rowGroupCols,valueCols:i.valueCols,pivotCols:i.pivotCols,pivotMode:i.pivotMode,groupKeys:e.store.getParentNode().getRoute()??[],filterModel:i.filterModel,sortModel:i.sortModel},l=this.cacheLoadingNodesMap.get(e),u=()=>{for(let v=0;v<s-t;v++)l.delete(t+v)},c=()=>{for(let v=0;v<s-t;v++)l.add(t+v)},h=v=>{this.onLoadComplete(),e.onLoadSuccess(t,s-t,v),u()},g=()=>{this.onLoadComplete(),e.onLoadFailed(t,s-t),u()},f=Re(this.gos,{request:n,success:h,fail:g,parentNode:e.store.getParentNode()});c(),this.outboundRequests+=1,(m=e.getSsrmParams().datasource)==null||m.getRows(f)}getBlockToLoad(){var c,h;const e=this.rowRenderer.firstRenderedRow,t=this.rowRenderer.lastRenderedRow;for(let g=e;g<=t;g++){const f=this.rowModel.getRow(g);if(!f)continue;const m=(c=f.parent)==null?void 0:c.childStore;if(!m)continue;const v=m.getCache(),w=v.getNodes().getBy("node",f);if(!w)continue;const b=this.cacheLoadingNodesMap.get(v);if(!(b!=null&&b.has(w.index))&&(f.__needsRefreshWhenVisible||f.stub&&!f.failedLoad))return{cache:v,index:v.getBlockStartIndex(w.index)}}let s=null,i=null,n=Number.MAX_SAFE_INTEGER;for(const g of this.cacheLoadingNodesMap.keys())g.getNodesToRefresh().forEach(m=>{if(m.rowIndex==null){i=m,s=g;return}const v=g.getNodes().getBy("node",m);if(!v)return;const w=this.cacheLoadingNodesMap.get(g);if(w!=null&&w.has(v.index))return;const b=Math.abs(e-m.rowIndex),R=Math.abs(m.rowIndex-t);b<n&&(i=m,n=b,s=g),R<n&&(i=m,n=R,s=g)});if(!s)return;const l=s,u=(h=l.getNodes().getBy("node",i))==null?void 0:h.index;return u==null?void 0:{cache:l,index:l.getBlockStartIndex(u)}}isRowLoading(e,t){var s;return((s=this.cacheLoadingNodesMap.get(e))==null?void 0:s.has(t))??!1}},Bk=class{constructor(...e){this.indexes=e,this.maps=new Map(this.indexes.map(t=>[t,new Map]))}getSize(){return this.maps.get(this.indexes[0]).size}getBy(e,t){return this.maps.get(e).get(t)}set(e){this.indexes.forEach(t=>{this.maps.get(t).set(e[t],e)})}delete(e){this.indexes.forEach(t=>{this.maps.get(t).delete(e[t])})}clear(){this.maps.forEach(e=>e.clear())}getIterator(e){return this.maps.get(e).values()}forEach(e){const t=this.getIterator(this.indexes[0]);let s;for(;(s=t.next())&&!s.done;)e(s.value)}find(e){const t=this.getIterator(this.indexes[0]);let s;for(;(s=t.next())&&!s.done;)if(e(s.value))return s.value}filter(e){const t=this.getIterator(this.indexes[0]);let s;const i=[];for(;(s=t.next())&&!s.done;)e(s.value)&&i.push(s.value);return i}},Hk=100,xh=class extends j{constructor(e,t,s,i){super(),this.live=!0,this.removedNodeCache=new Map,this.store=e,this.numberOfRows=t,this.isLastRowKnown=s,this.storeParams=i}wireBeans(e){this.rowRenderer=e.rowRenderer,this.blockUtils=e.ssrmBlockUtils,this.focusSvc=e.focusSvc,this.nodeManager=e.ssrmNodeManager,this.serverSideRowModel=e.rowModel,this.rowNodeSorter=e.rowNodeSorter,this.sortSvc=e.sortSvc,this.lazyBlockLoadingSvc=e.lazyBlockLoadingSvc,this.colModel=e.colModel}postConstruct(){this.lazyBlockLoadingSvc.subscribe(this),this.nodeMap=new Bk("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.getRowIdFunc=zo(this.gos),this.isMasterDetail=this.gos.get("masterDetail")}destroy(){this.lazyBlockLoadingSvc.unsubscribe(this),this.numberOfRows=0,this.nodeMap.forEach(e=>this.blockUtils.destroyRowNode(e.node)),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1,super.destroy()}getRowByDisplayIndex(e){var h,g,f,m,v;if(!this.store.isDisplayIndexInStore(e))return;const t=this.nodeDisplayIndexMap.get(e);if(t)return(t.stub||t.__needsRefreshWhenVisible)&&this.lazyBlockLoadingSvc.queueLoadCheck(),t;if(this.gos.get("groupHideOpenParents")||this.gos.get("groupAllowUnbalanced")){const w=this.nodeMap.find(b=>{var R;return!!((R=b.node.childStore)!=null&&R.isDisplayIndexInStore(e))});if(w)return(h=w.node.childStore)==null?void 0:h.getRowUsingDisplayIndex(e)}if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);const i=this.nodeDisplayIndexMap.get(e-1);if(i){if(this.isMasterDetail&&i.master&&i.expanded)return i.detailNode;if(i.expanded&&((g=i.childStore)!=null&&g.isDisplayIndexInStore(e)))return(f=i.childStore)==null?void 0:f.getRowUsingDisplayIndex(e);const w=this.nodeMap.getBy("node",i);return this.createStubNode(w.index+1,e)}const n=this.getSurroundingNodesByDisplayIndex(e);if(n==null){const w=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(w,e)}const{previousNode:l,nextNode:u}=n;if(l&&l.node.expanded&&((m=l.node.childStore)!=null&&m.isDisplayIndexInStore(e)))return(v=l.node.childStore)==null?void 0:v.getRowUsingDisplayIndex(e);if(u){const w=u.node.rowIndex-e,b=u.index-w;return this.createStubNode(b,e)}const c=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(c,e)}createStubNode(e,t){const s=this.store.getRowBounds(t),i=this.createRowAtIndex(e,null,n=>{n.setRowIndex(t),n.setRowTop(s.rowTop),this.nodeDisplayIndexMap.set(t,n)});if(e===0&&this.gos.get("groupHideOpenParents")){const n=this.store.getParentNode().groupData;if(n)for(const l of Object.keys(n))Fv(i,this.colModel,l,n[l])}return this.lazyBlockLoadingSvc.queueLoadCheck(),i}getRowByStoreIndex(e){var t;return(t=this.nodeMap.getBy("index",e))==null?void 0:t.node}skipDisplayIndexes(e,t,s){if(e===0)return;const i=Bn(this.beans);t.value+=e,s.value+=e*i}setDisplayIndexes(e,t,s){this.nodeDisplayIndexMap.clear();const i={};this.nodeMap.forEach(u=>{i[u.index]=u.node});let n=-1;for(const u of Object.keys(i)){const c=i[u],h=Number(u),g=h-1-n;this.skipDisplayIndexes(g,e,t);const f=h===0;if(c.setFirstChild(f),f&&this.gos.get("groupHideOpenParents")){const m=this.store.getParentNode().groupData;if(m)for(const v of Object.keys(m))Fv(c,this.colModel,v,f?m[v]:void 0)}this.blockUtils.setDisplayIndex(c,e,t,s),c.rowIndex!=null&&this.nodeDisplayIndexMap.set(c.rowIndex,c),n=h}const l=this.numberOfRows-1-n;this.skipDisplayIndexes(l,e,t),this.purgeExcessRows()}getRowCount(){return this.numberOfRows}setRowCount(e,t){this.numberOfRows=e,t!=null&&(this.isLastRowKnown=t,t===!1&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()}getNodes(){return this.nodeMap}getNodeCachedByDisplayIndex(e){return this.nodeDisplayIndexMap.get(e)??null}getNodesToRefresh(){return this.nodesToRefresh}getSurroundingNodesByDisplayIndex(e){let t,s;return this.nodeMap.forEach(i=>{if(e>i.node.rowIndex){(s==null||s.node.rowIndex<i.node.rowIndex)&&(s=i);return}if(t==null||t.node.rowIndex>i.node.rowIndex){t=i;return}}),!s&&!t?null:{previousNode:s,nextNode:t}}getDisplayIndexFromStoreIndex(e){var u;const t=this.nodeMap.getBy("index",e);if(t)return t.node.rowIndex;let s,i;if(this.nodeMap.forEach(c=>{if(e>c.index){(i==null||i.index<c.index)&&(i=c);return}if(s==null||s.index>c.index){s=c;return}}),!s)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!i)return this.store.getDisplayIndexStart()+e;const n=e-i.index;return(((u=i.node.childStore)==null?void 0:u.getDisplayIndexEnd())??i.node.rowIndex)+n}createRowAtIndex(e,t,s){var l,u;const i=this.nodeMap.getBy("index",e);if(i){const{node:c}=i;if(c.__needsRefreshWhenVisible=!1,this.doesNodeMatch(t,c))return this.blockUtils.updateDataIntoRowNode(c,t),this.nodesToRefresh.delete(c),c;if(this.getRowIdFunc==null&&c.hasChildren()&&c.expanded)return this.nodesToRefresh.delete(c),c;this.destroyRowAtIndex(e)}if(t&&this.getRowIdFunc!=null){const c=this.getRowId(t),h=c&&((l=this.removedNodeCache)==null?void 0:l.get(c));if(h)return(u=this.removedNodeCache)==null||u.delete(c),this.blockUtils.updateDataIntoRowNode(h,t),this.nodeMap.set({id:h.id,node:h,index:e}),this.nodesToRefresh.delete(h),h.__needsRefreshWhenVisible=!1,h;const g=this.nodeMap.getBy("id",c);if(g){this.nodeMap.delete(g);const{node:f,index:m}=g;return this.blockUtils.updateDataIntoRowNode(f,t),this.nodeMap.set({id:f.id,node:f,index:e}),this.nodesToRefresh.delete(f),f.__needsRefreshWhenVisible=!1,this.getBlockStartIndex(m)===this.getBlockStartIndex(e)||this.markBlockForVerify(m),f}}const n=this.blockUtils.createRowNode(this.store.getRowDetails());if(t!=null){const c=this.getPrefixedId(this.store.getIdSequence().value++);this.blockUtils.setDataIntoRowNode(n,t,c,void 0),this.serverSideRowModel.setPaused(!0),this.blockUtils.checkOpenByDefault(n),this.serverSideRowModel.setPaused(!1),this.nodeManager.addRowNode(n)}return this.nodeMap.set({id:n.id,node:n,index:e}),s&&s(n),n}getBlockStates(){const e={},t={};this.nodeMap.forEach(({node:l,index:u})=>{const c=this.getBlockStartIndex(u);!l.stub&&!l.failedLoad&&(e[c]=(e[c]??0)+1);let h="loaded";l.failedLoad?h="failed":this.lazyBlockLoadingSvc.isRowLoading(this,c)?h="loading":(this.nodesToRefresh.has(l)||l.stub)&&(h="needsLoading"),t[c]||(t[c]=new Set),t[c].add(h)});const s={loading:4,failed:3,needsLoading:2,loaded:1},i=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),n={};for(const l of Object.keys(t)){const c=[...t[l]].sort((f,m)=>(s[f]??0)-(s[m]??0))[0],h=Number(l)/this.getBlockSize(),g=i?`${i}-${h}`:String(h);n[g]={blockNumber:h,startRow:Number(l),endRow:Number(l)+this.getBlockSize(),pageStatus:c,loadedRowCount:e[l]??0}}return n}destroyRowAtIndex(e){const t=this.nodeMap.getBy("index",e);t&&(this.nodeMap.delete(t),this.nodeDisplayIndexMap.delete(t.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(t.node.id,t.node):this.blockUtils.destroyRowNode(t.node),this.nodesToRefresh.delete(t.node))}getSsrmParams(){return this.store.getSsrmParams()}getPrefixedId(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()}markBlockForVerify(e){const[t,s]=this.getBlockBounds(e);this.nodeMap.filter(n=>n.index>=t&&n.index<s).forEach(({node:n})=>{n.__needsRefreshWhenVisible=!0})}doesNodeMatch(e,t){if(t.stub)return!1;const s=this.getRowId(e);return s===null?t.data===e:t.id===s}purgeStubsOutsideOfViewport(){const{firstRenderedRow:e,lastRenderedRow:t}=this.rowRenderer,s=this.getBlockStartIndex(e),[,i]=this.getBlockBounds(t);this.nodeMap.forEach(n=>{this.lazyBlockLoadingSvc.isRowLoading(this,n.index)||n.node.failedLoad||n.node.stub&&(n.index<s||n.index>i)&&this.destroyRowAtIndex(n.index)})}getBlocksDistanceFromRow(e,t){const s={};return e.forEach(({node:i,index:n})=>{const[l,u]=this.getBlockBounds(n);if(l in s)return;const c=Math.abs(i.rowIndex-t);let h;const g=this.nodeMap.getBy("index",[u-1]);g&&(h=Math.abs(g.node.rowIndex-t));const f=h==null||c<h?c:h;s[l]=f}),Object.entries(s)}purgeExcessRows(){if(this.purgeStubsOutsideOfViewport(),this.store.getDisplayIndexEnd()==null||this.storeParams.maxBlocksInCache==null)return;const{firstRenderedRow:e,lastRenderedRow:t}=this.rowRenderer,s=new Set,i=new Set;this.nodeMap.forEach(({index:w,node:b})=>{const R=this.getBlockStartIndex(w);s.add(R),b.rowIndex>=e&&b.rowIndex<=t&&i.add(R)});const n=Math.max(i.size,this.storeParams.maxBlocksInCache??0),u=s.size-n;if(u<=0)return;let c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;i.forEach(w=>{c>w&&(c=w),h<w&&(h=w)});const g=this.nodeMap.filter(({node:w,index:b})=>{const R=this.getBlockStartIndex(b);return!(R>=c&&R<=h)&&!this.isNodeCached(w)});if(g.length===0)return;const f=e+(t-e)/2,m=this.getBlocksDistanceFromRow(g,f),v=this.getBlockSize();m.sort((w,b)=>Math.sign(b[1]-w[1]));for(let w=0;w<Math.min(u,m.length);w++){const b=Number(m[w][0]);for(let R=b;R<b+v;R++){const D=this.nodeMap.getBy("index",R);!D||this.isNodeCached(D.node)||this.destroyRowAtIndex(R)}}}isNodeFocused(e){const t=this.focusSvc.getFocusCellToUseAfterRefresh();return!t||t.rowPinned!=null?!1:t.rowIndex===e.rowIndex}isNodeCached(e){const t=this.gos.get("groupAllowUnbalanced")&&e.key==="";return e.isExpandable()&&e.expanded||this.isNodeFocused(e)||t}extractDuplicateIds(e){if(this.getRowIdFunc==null)return[];const t=new Set,s=new Set;return e.forEach(i=>{const n=this.getRowId(i);if(t.has(n)){s.add(n);return}t.add(n)}),[...s]}onLoadSuccess(e,t,s){if(!this.live)return;const i=s.groupLevelInfo;if(this.store.setStoreInfo(i),this.getRowIdFunc!=null){const u=this.extractDuplicateIds(s.rowData);if(u.length>0){const c=u.join(", ");re(205,{duplicateIdText:c}),this.onLoadFailed(e,t);return}}s.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(s.pivotResultFields);const n=this.nodesToRefresh.size>0;if(s.rowData.forEach((u,c)=>{var f;const h=e+c,g=this.nodeMap.getBy("index",h);if((f=g==null?void 0:g.node)!=null&&f.stub){this.createRowAtIndex(h,u);return}if(g&&this.doesNodeMatch(u,g.node)){this.blockUtils.updateDataIntoRowNode(g.node,u),this.nodesToRefresh.delete(g.node),g.node.__needsRefreshWhenVisible=!1;return}this.createRowAtIndex(h,u)}),s.rowCount!=null&&s.rowCount!==-1)this.numberOfRows=s.rowCount,this.isLastRowKnown=!0;else if(t>s.rowData.length)this.numberOfRows=e+s.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){const u=e+s.rowData.length+1;u>this.numberOfRows&&(this.numberOfRows=u)}this.isLastRowKnown&&this.nodeMap.filter(c=>c.index>=this.numberOfRows).forEach(c=>this.destroyRowAtIndex(c.index)),this.fireStoreUpdatedEvent();const l=this.nodesToRefresh.size===0;n&&l&&this.fireRefreshFinishedEvent()}fireRefreshFinishedEvent(){this.nodesToRefresh.size===0&&(this.removedNodeCache.forEach(t=>{this.blockUtils.destroyRowNode(t)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())}isStoreFullyLoaded(){const e=this.isLastRowKnown,t=this.nodeMap.getSize()===this.numberOfRows;if(!e||!t||this.nodesToRefresh.size>0)return;let s=-1;return this.nodeMap.find(n=>(s+=1,!!(n.index!==s||n.node.__needsRefreshWhenVisible||n.node.stub)))==null}isLastRowIndexKnown(){return this.isLastRowKnown}onLoadFailed(e,t){if(!this.live)return;const s=this.nodesToRefresh.size>0;for(let n=e;n<e+t&&n<this.getRowCount();n++){let{node:l}=this.nodeMap.getBy("index",n)??{};l&&this.nodesToRefresh.delete(l),(!l||!l.stub)&&(l&&!l.stub&&this.destroyRowAtIndex(n),l=this.createRowAtIndex(n)),l.__needsRefreshWhenVisible=!1,l.failedLoad=!0}const i=this.nodesToRefresh.size===0;s&&i&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}markNodesForRefresh(){this.nodeMap.forEach(e=>{e.node.stub&&!e.node.failedLoad||this.nodesToRefresh.add(e.node)}),this.lazyBlockLoadingSvc.queueLoadCheck(),this.isLastRowKnown&&this.numberOfRows===0&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())}isNodeInCache(e){return!!this.nodeMap.getBy("id",e)}fireStoreUpdatedEvent(){this.live&&this.store.fireStoreUpdatedEvent()}getRowId(e){if(this.getRowIdFunc==null)return null;const{level:t}=this.store.getRowDetails(),s=this.store.getParentNode().getRoute()??[];return this.getRowIdFunc({data:e,parentKeys:s.length>0?s:void 0,level:t})}getOrderedNodeMap(){const e={};return this.nodeMap.forEach(t=>e[t.index]=t),e}clearDisplayIndexes(){this.nodeDisplayIndexMap.clear()}clientSideSortRows(){var n;const e=((n=this.sortSvc)==null?void 0:n.getSortOptions())??[];if(!e.some(l=>l.sort!=null)||!this.rowNodeSorter)return;const s=new Array(this.nodeMap.getSize());this.nodeMap.forEach(l=>s[l.index]=l.node),this.nodeMap.clear(),this.rowNodeSorter.doFullSort(s,e).forEach((l,u)=>{this.nodeMap.set({id:l.id,node:l,index:u})})}updateRowNodes(e){const t=[];return e.forEach(s=>{const i=this.getRowId(s),n=this.nodeMap.getBy("id",i);n&&(this.blockUtils.updateDataIntoRowNode(n.node,s),t.push(n.node))}),t}insertRowNodes(e,t){const s=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),i=t==null&&this.isLastRowKnown?s:t;if(i==null||s<i)return[];const n={};e.forEach(h=>{const g=this.getRowId(h);g&&this.isNodeInCache(g)||(n[g]=h)});const l=Object.values(n),u=l.length;if(u===0)return[];const c=this.nodeMap.filter(h=>h.index>=i);return c.forEach(h=>this.nodeMap.delete(h)),c.forEach(h=>{this.nodeMap.set({node:h.node,index:h.index+u,id:h.id})}),this.numberOfRows+=u,l.map((h,g)=>this.createRowAtIndex(i+g,h))}removeRowNodes(e){const t=[],s=[];let i=0;const n=[...e],l=this.getOrderedNodeMap();let u=-1;for(const c of Object.keys(l)){u+=1;const h=l[c],g=n.findIndex(m=>m===h.id);if(g!==-1){n.splice(g,1),this.destroyRowAtIndex(Number(c)),t.push(h.node),i+=1;continue}if(i===0)continue;const f=Number(c);u!==f&&s.push(h.node),this.nodeMap.delete(h),this.nodeMap.set({id:h.id,node:h.node,index:f-i})}return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:i,n.length>0&&s.length>0&&(s.forEach(c=>c.__needsRefreshWhenVisible=!0),this.lazyBlockLoadingSvc.queueLoadCheck()),t}getBlockSize(){return this.storeParams.cacheBlockSize||Hk}getBlockStartIndex(e){const t=this.getBlockSize();return e-e%t}getBlockBounds(e){const t=this.getBlockStartIndex(e),s=this.getBlockSize();return[t,t+s]}},zk=class extends j{constructor(e,t,s){super(),this.idSequence={value:0},this.ssrmParams=e,this.parentRowNode=s,this.storeParams=t,this.level=s.level+1,this.group=e.rowGroupCols?this.level<e.rowGroupCols.length:!1,this.leafGroup=e.rowGroupCols?this.level===e.rowGroupCols.length-1:!1,this.info={}}wireBeans(e){this.blockUtils=e.ssrmBlockUtils,this.storeUtils=e.ssrmStoreUtils,this.selectionSvc=e.selectionSvc,this.rowGroupColsSvc=e.rowGroupColsSvc}postConstruct(){let e=1;if(this.level===0&&(e=this.storeUtils.getServerSideInitialRowCount()??1,this.eventSvc.dispatchEventOnce({type:"rowCountReady"})),this.cache=this.createManagedBean(new xh(this,e,!1,this.storeParams)),!this.gos.get("treeData")&&this.group&&this.rowGroupColsSvc){const s=this.ssrmParams.rowGroupCols[this.level];this.groupField=s.field,this.rowGroupColumn=this.rowGroupColsSvc.columns[this.level]}}destroy(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache),super.destroy()}applyRowData(e,t,s){this.cache.onLoadSuccess(t,s,e)}applyTransaction(e){var f,m,v;const t=zo(this.gos);if(!t)return re(206),{status:ks.Cancelled};const s=this.gos.getCallback("isApplyServerSideTransaction");if(s){const w={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info};if(!s(w))return{status:ks.Cancelled}}const i=this.cache.isStoreFullyLoaded();let n;(f=e.update)!=null&&f.length&&(n=this.cache.updateRowNodes(e.update));let l;if((m=e.add)!=null&&m.length){let w=e.addIndex;w!=null&&w<0&&(w=void 0),l=this.cache.insertRowNodes(e.add,w)}let u;if((v=e.remove)!=null&&v.length){const w=e.remove.map(R=>t({level:this.level,parentKeys:this.parentRowNode.getRoute()??[],data:R})),b=[...new Set(w)];u=this.cache.removeRowNodes(b)}const c=this.gos.get("serverSideEnableClientSideSort"),h=(n==null?void 0:n.length)||(l==null?void 0:l.length);return i&&c&&h&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(n,u),{status:ks.Applied,update:n,add:l,remove:u}}updateSelectionAfterTransaction(e,t){if(!this.selectionSvc)return;const s=[];e==null||e.forEach(i=>{i.isSelected()&&!i.selectable&&s.push(i)}),t==null||t.forEach(i=>{i.isSelected()&&s.push(i)}),s.length&&this.selectionSvc.setNodesSelected({newValue:!1,clearSelection:!1,nodes:s,source:"rowDataChanged"})}clearDisplayIndexes(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(e=>this.blockUtils.clearDisplayIndex(e.node)),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()}getDisplayIndexStart(){return this.displayIndexStart}getDisplayIndexEnd(){return this.displayIndexEnd}getRowCount(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()}setRowCount(e,t){this.cache.setRowCount(e,t)}isDisplayIndexInStore(e){return this.cache.getRowCount()===0?!1:this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()}setDisplayIndexes(e,t,s){this.displayIndexStart=e.value,this.topPx=t.value;const i=this.parentRowNode.level>-1&&Ho(this.gos)({node:this.parentRowNode});i||Og(this.parentRowNode),i==="top"&&(hi(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,t,s)),this.cache.setDisplayIndexes(e,t,s),i==="bottom"&&(hi(this.parentRowNode,this.beans),this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,t,s)),this.displayIndexEnd=e.value,this.heightPx=t.value-this.topPx}forEachStoreDeep(e,t={value:0}){e(this,t.value++),this.cache.getNodes().forEach(s=>{const i=s.node.childStore;i&&i.forEachStoreDeep(e,t)})}forEachNodeDeep(e,t={value:0}){this.cache.getNodes().forEach(s=>{e(s.node,t.value++);const i=s.node.childStore;i&&i.forEachNodeDeep(e,t)})}forEachNodeDeepAfterFilterAndSort(e,t={value:0},s=!1){const i=this.parentRowNode.level>-1&&Ho(this.gos)({node:this.parentRowNode});i==="top"&&e(this.parentRowNode.sibling,t.value++);const n=this.cache.getOrderedNodeMap();for(const l of Object.values(n)){e(l.node,t.value++);const u=l.node.childStore;u&&u.forEachNodeDeepAfterFilterAndSort(e,t,s)}i==="bottom"&&e(this.parentRowNode.sibling,t.value++)}retryLoads(){this.cache.getNodes().forEach(({node:e})=>{e.failedLoad&&(e.failedLoad=!1,e.__needsRefreshWhenVisible=!0,e.stub=!0)}),this.forEachChildStoreShallow(e=>e.retryLoads()),this.fireStoreUpdatedEvent()}getRowUsingDisplayIndex(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)}getRowBounds(e){if(!this.isDisplayIndexInStore(e))return null;const t=this.cache.getNodeCachedByDisplayIndex(e);if(t){const c=this.blockUtils.extractRowBounds(t,e);if(c)return c}const{previousNode:s,nextNode:i}=this.cache.getSurroundingNodesByDisplayIndex(e)??{};if(s){const c=this.blockUtils.extractRowBounds(s.node,e);if(c!=null)return c}const n=Bn(this.beans);if(i){const c=(i.node.rowIndex-e)*n;return{rowTop:i.node.rowTop-c,rowHeight:n}}const l=this.topPx+this.heightPx,u=(this.getDisplayIndexEnd()-e)*n;return{rowTop:l-u,rowHeight:n}}isPixelInRange(e){return e>=this.topPx&&e<this.topPx+this.heightPx}getRowIndexAtPixel(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;if(this.parentRowNode.sibling&&e>this.parentRowNode.sibling.rowTop&&e<this.parentRowNode.sibling.rowTop+this.parentRowNode.sibling.rowHeight)return this.parentRowNode.sibling.rowIndex;let t=Number.MAX_SAFE_INTEGER,s=null,i=Number.MAX_SAFE_INTEGER,n=null;if(this.cache.getNodes().forEach(({node:h})=>{const g=Math.abs(e-h.rowTop);if(h.rowTop<e){g<t&&(t=g,s=h);return}g<i&&(i=g,n=h)}),s=s,n=n,s){const h=this.blockUtils.getIndexAtPixel(s,e);if(h!=null)return h}const l=Bn(this.beans);if(n){const h=n.rowTop,g=Math.ceil((h-e)/l);return n.rowIndex-g}const u=this.topPx+this.heightPx,c=Math.floor((u-e)/l);return this.getDisplayIndexEnd()-c}getChildStore(e){return this.storeUtils.getChildStore(e,this,t=>{const s=this.cache.getNodes().find(i=>i.node.key==t);return s?s.node:null})}forEachChildStoreShallow(e){this.cache.getNodes().forEach(({node:t})=>{t.childStore&&e(t.childStore)})}refreshAfterSort(e){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){const s=this.cache.isStoreFullyLoaded(),i=this.gos.get("serverSideEnableClientSideSort");if(!(s&&i)){const l=this.cache.getRowCount(),u=this.cache.isLastRowIndexKnown();this.destroyBean(this.cache),this.cache=this.createManagedBean(new xh(this,l,u,this.storeParams));return}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(s=>s.refreshAfterSort(e))}refreshAfterFilter(e){if(!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){this.refreshStore(!0);return}this.forEachChildStoreShallow(s=>s.refreshAfterFilter(e))}refreshStore(e){if(e){this.destroyBean(this.cache),this.cache=this.createManagedBean(new xh(this,1,!1,this.storeParams)),this.fireStoreUpdatedEvent();return}this.cache.markNodesForRefresh()}getTopLevelRowDisplayedIndex(e){return this.cache.getDisplayIndexFromStoreIndex(e)??e}isLastRowIndexKnown(){return this.cache.isLastRowIndexKnown()}getRowNodesInRange(e,t){return this.cache.getNodes().filter(({node:s})=>s.rowIndex>=e.rowIndex&&s.rowIndex<=t.rowIndex).map(({node:s})=>s)}addStoreStates(e){e.push({route:this.parentRowNode.getRoute()??[],rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(t=>t.addStoreStates(e))}getIdSequence(){return this.idSequence}getParentNode(){return this.parentRowNode}getRowDetails(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}}getSsrmParams(){return this.ssrmParams}setStoreInfo(e){e&&Object.assign(this.info,e)}fireStoreUpdatedEvent(){this.eventSvc.dispatchEvent({type:"storeUpdated"})}fireRefreshFinishedEvent(){this.eventSvc.dispatchEvent({type:"storeRefreshed",route:this.parentRowNode.getRoute()})}getBlockStates(){return this.cache.getBlockStates()}getStoreBounds(){return{topPx:this.topPx,heightPx:this.heightPx}}getCache(){return this.cache}},Vk=class extends j{constructor(){super(...arguments),this.beanName="ssrmStoreFactory"}wireBeans(e){this.colModel=e.colModel,this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc,this.rowAutoHeight=e.rowAutoHeight}createStore(e,t){const s=this.getStoreParams(e,t);return new zk(e,s,t)}getStoreParams(e,t){const s=this.getLevelSpecificParams(t),i=this.getBlockSize(s),n=this.getMaxBlocksInCache(e,s);return{cacheBlockSize:i,maxBlocksInCache:n}}getMaxBlocksInCache(e,t){var n;const s=t&&t.maxBlocksInCache!=null?t.maxBlocksInCache:this.gos.get("maxBlocksInCache");if(s!=null&&s>=0){if(e.dynamicRowHeight){re(203);return}if((n=this.rowAutoHeight)!=null&&n.active){re(204);return}return s}}getBlockSize(e){const t=e&&e.cacheBlockSize!=null?e.cacheBlockSize:this.gos.get("cacheBlockSize");return t!=null&&t>0?t:100}getLevelSpecificParams(e){var n,l;const t=this.gos.getCallback("getServerSideGroupLevelParams");if(!t)return;const s={level:e.level+1,parentRowNode:e.level>=0?e:void 0,rowGroupColumns:((n=this.rowGroupColsSvc)==null?void 0:n.columns)??[],pivotColumns:((l=this.pivotColsSvc)==null?void 0:l.columns)??[],pivotMode:this.colModel.isPivotMode()};return t(s)}},_k=class extends j{constructor(){super(...arguments),this.beanName="ssrmStoreUtils"}wireBeans(e){this.colModel=e.colModel,this.serverSideRowModel=e.rowModel,this.storeFactory=e.ssrmStoreFactory}getChildStore(e,t,s){if(!(e!=null&&e.length))return t;const i=e[0],n=s(i);if(n){if(e.length===1&&!n.childStore){const c=this.serverSideRowModel.getParams();n.childStore=this.createBean(this.storeFactory.createStore(c,n))}const l=e.slice(1,e.length),u=n.childStore;return u?u.getChildStore(l):null}return null}isServerRefreshNeeded(e,t,s){if(s.valueColChanged||s.secondaryColChanged)return!0;const i=e.level+1;if(!(i<t.length))return!0;const u=t[i].id;return s.changedColumns.indexOf(u)>-1?!0:this.colModel.getCols().filter(f=>f.getColDef().showRowGroup&&s.changedColumns.includes(f.getId())).map(f=>f.getColDef().showRowGroup).some(f=>f===!0||f===u)}getServerSideInitialRowCount(){return this.gos.get("serverSideInitialRowCount")}isServerSideSortAllLevels(){return this.gos.get("serverSideSortAllLevels")&&Cs(this.gos)}isServerSideOnlyRefreshFilteredGroups(){return this.gos.get("serverSideOnlyRefreshFilteredGroups")&&Cs(this.gos)}},Wk=class extends j{constructor(){super(...arguments),this.beanName="ssrmTxnManager",this.asyncTransactions=[]}wireBeans(e){this.valueCache=e.valueCache,this.serverSideRowModel=e.rowModel,this.selectionSvc=e.selectionSvc}postConstruct(){Cs(this.gos)}applyTransactionAsync(e,t){this.asyncTransactionsTimeout==null&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:t})}scheduleExecuteAsync(){const e=this.gos.get("asyncTransactionWaitMillis");this.asyncTransactionsTimeout=window.setTimeout(()=>{this.executeAsyncTransactions()},e)}executeAsyncTransactions(){var n;if(!this.asyncTransactions)return;const e=[],t=[],s=[];let i=!1;this.asyncTransactions.forEach(l=>{let u;if(this.serverSideRowModel.executeOnStore(l.transaction.route,g=>{u=g.applyTransaction(l.transaction)})?u==null&&(u={status:ks.StoreNotFound}):u={status:ks.StoreNotStarted},t.push(u),u.status==ks.StoreLoading){s.push(l);return}l.callback&&e.push(()=>l.callback(u)),u.status===ks.Applied&&(i=!0)}),e.length>0&&window.setTimeout(()=>{e.forEach(l=>l())},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,i&&((n=this.valueCache)==null||n.onDataChanged(),this.eventSvc.dispatchEvent({type:"storeUpdated"})),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t})}flushAsyncTransactions(){this.asyncTransactionsTimeout!=null&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()}applyTransaction(e){var i;let t;if(this.serverSideRowModel.executeOnStore(e.route,n=>{t=n.applyTransaction(e)}))if(t){if((i=this.valueCache)==null||i.onDataChanged(),t.remove&&this.selectionSvc){const n=t.remove.map(l=>l.id);this.selectionSvc.deleteSelectionStateFromParent(e.route||[],n)}return this.eventSvc.dispatchEvent({type:"storeUpdated"}),t}else return{status:ks.StoreNotFound};else return{status:ks.StoreNotStarted}}},Uk={moduleName:"ServerSideRowModel",version:ut,rowModels:["serverSide"],beans:[xk,wk,_k,vk,Rk,Wk,bk,Vk,yk,Ok,Nk,kk,Gk,Sk],dependsOn:[Qt,ey,fL,XO,Uy,IO,GO]},jk={moduleName:"ServerSideRowModelApi",version:ut,apiFunctions:{getServerSideSelectionState:Dk,setServerSideSelectionState:Mk,applyServerSideTransaction:Ek,applyServerSideTransactionAsync:Tk,applyServerSideRowData:Ak,retryServerSideLoads:Fk,flushServerSideAsyncTransactions:Pk,refreshServerSide:Lk,getServerSideGroupLevelState:Ik},dependsOn:[Qt,SL,RL]},Kk=["number","category","grouped-category","log","time"];Kk.reduce((e,t)=>({...e,[t]:{title:{_enabledFromTheme:!0}}}),{});function jy(e){return e.map((t,s,i)=>t.map((n,l)=>i.slice(0,s+1).reduce((u,c)=>u+c[l],0)))}function Ky(e){const t=e.map((s,i)=>e.reduce((n,l)=>Math.max(n,l[i]),0));return e.map(s=>s.map((i,n)=>i/t[n]*19))}var Yy=[[1,3,5],[2,6,4],[5,3,1]],Yk=jy(Yy);Ky(Yk);var qk=Yy,$k=jy(qk);Ky($k);const Zk="http://ag-grid-server.ip2fw-ms.prd.gantcloud.com/getRows",Xk=e=>fetch(Zk,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>t.json());FD.registerModules([CG,BG,HG,mk,IL,Uk,jk,QP]);const qy=(e,t)=>{var i;const s=e.request;(i=t==null?void 0:t.rowData)==null||i.forEach(n=>{const l=n.children;if(n.children=null,l&&n.tempId){const u=[...s.groupKeys,n.tempId];e.api.applyServerSideRowData({route:u,successParams:l}),qy(e,l)}})},Qk=()=>({getRows:async t=>{const s=t.request,i=await Xk(s);t.success(i),qy(t,i)}}),Jk=()=>{const e=x.useMemo(()=>({width:"100%",height:"100%"}),[]),t=x.useMemo(()=>({height:"100%",width:"100%"}),[]),[s]=x.useState([{field:"id",hide:!0},{field:"lineNum",headerName:"BOM行标识"},{field:"bomStatus",headerName:"BOM状态"},{field:"activeStatus",headerName:"生效状态"},{field:"operationType",headerName:"操作"},{field:"levelPath",headerName:"层级"},{field:"subPartMaterialName",headerName:"零件名称"},{field:"magnificationTimes",headerName:"放大倍数"},{field:"quantityRange",headerName:"用量范围(%)"},{field:"quantityFormula",headerName:"用量"},{field:"countPath",headerName:"合计用量"},{field:"subPartMeasurementUnit",headerName:"计量单位"},{field:"partTypeName",headerName:"零件类型"},{field:"subPart.ecuType.ecuTypeCode",headerName:"控制器类型"},{field:"devType",headerName:"开发策略"},{field:"suggestSourcing",headerName:"建议来源"},{field:"baseVppsColumn",headerName:"装配位置",children:[{field:"vppsCode",headerName:"结构编码"},{field:"vsgCode",headerName:"结构简码"},{field:"fpcCode",headerName:"位置码"},{field:"zhDesc",headerName:"中文描述"},{field:"enDesc",headerName:"英文描述"}]},{field:"newUsageValue",headerName:"使用规则"},{field:"newUsageDesc",headerName:"规则描述"},{field:"weightTag",headerName:"重量标记"},{field:"costTag",headerName:"成本标记"},{field:"assemblyDesc",headerName:"使用备注"},{field:"changeCode",headerName:"变更单编号"},{field:"effectiveFrom",headerName:"生效日期起"},{field:"effectiveTo",headerName:"生效日期止"}]),i=x.useMemo(()=>({minWidth:120,flex:1,sortable:!1}),[]),n=x.useMemo(()=>({field:"subPartCode",headerName:"零件",minWidth:300}),[]),l=x.useCallback(()=>!0,[]),u=x.useCallback(m=>!m.leaf,[]),c=x.useCallback(m=>m.tempId,[]),h=Qk(),g=x.useRef(null),f=m=>{g.current=m.api};return Yi.jsx("div",{style:e,children:Yi.jsx("div",{style:t,children:Yi.jsx(HI,{columnDefs:s,defaultColDef:i,autoGroupColumnDef:n,rowModelType:"serverSide",treeData:!0,isServerSideGroupOpenByDefault:l,isServerSideGroup:u,getServerSideGroupKey:c,serverSideDatasource:h,cacheBlockSize:20,maxBlocksInCache:3,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:60,suppressServerSideFullWidthLoadingRow:!0,onGridReady:f})})})};function eN(){return Yi.jsx(Yi.Fragment,{children:Yi.jsx(Jk,{})})}vx.createRoot(document.getElementById("root")).render(Yi.jsx(x.StrictMode,{children:Yi.jsx(eN,{})}));
